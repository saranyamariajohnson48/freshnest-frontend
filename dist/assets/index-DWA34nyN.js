const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./AdminOrders-BmjcD6ze.js","./orderService-BlMie31S.js","./AdminMessages-Bz15IGyC.js","./chatService-Dmp2xPfZ.js","./RoleMessages-DCnPtmYD.js","./SupplierOrders-CbNbf4l-.js","./SupplierDeliveries-CftkCeWb.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();var FD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dj(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Tg={exports:{}},zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bb;function $S(){if(bb)return zh;bb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,i){var c=null;if(i!==void 0&&(c=""+i),a.key!==void 0&&(c=""+a.key),"key"in a){i={};for(var d in a)d!=="key"&&(i[d]=a[d])}else i=a;return a=i.ref,{$$typeof:s,type:r,key:c,ref:a!==void 0?a:null,props:i}}return zh.Fragment=e,zh.jsx=t,zh.jsxs=t,zh}var vb;function GS(){return vb||(vb=1,Tg.exports=$S()),Tg.exports}var n=GS(),Mg={exports:{}},is={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function YS(){if(wb)return is;wb=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function y(Q){return Q===null||typeof Q!="object"?null:(Q=b&&Q[b]||Q["@@iterator"],typeof Q=="function"?Q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function A(Q,me,O){this.props=Q,this.context=me,this.refs=S,this.updater=O||x}A.prototype.isReactComponent={},A.prototype.setState=function(Q,me){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,me,"setState")},A.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function k(){}k.prototype=A.prototype;function P(Q,me,O){this.props=Q,this.context=me,this.refs=S,this.updater=O||x}var M=P.prototype=new k;M.constructor=P,j(M,A.prototype),M.isPureReactComponent=!0;var F=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},ae=Object.prototype.hasOwnProperty;function Y(Q,me,O,V,te,he){return O=he.ref,{$$typeof:s,type:Q,key:me,ref:O!==void 0?O:null,props:he}}function E(Q,me){return Y(Q.type,me,void 0,void 0,void 0,Q.props)}function I(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===s}function $(Q){var me={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(O){return me[O]})}var R=/\/+/g;function q(Q,me){return typeof Q=="object"&&Q!==null&&Q.key!=null?$(""+Q.key):me.toString(36)}function ie(){}function K(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(ie,ie):(Q.status="pending",Q.then(function(me){Q.status==="pending"&&(Q.status="fulfilled",Q.value=me)},function(me){Q.status==="pending"&&(Q.status="rejected",Q.reason=me)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function oe(Q,me,O,V,te){var he=typeof Q;(he==="undefined"||he==="boolean")&&(Q=null);var fe=!1;if(Q===null)fe=!0;else switch(he){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(Q.$$typeof){case s:case e:fe=!0;break;case m:return fe=Q._init,oe(fe(Q._payload),me,O,V,te)}}if(fe)return te=te(Q),fe=V===""?"."+q(Q,0):V,F(te)?(O="",fe!=null&&(O=fe.replace(R,"$&/")+"/"),oe(te,me,O,"",function(ue){return ue})):te!=null&&(I(te)&&(te=E(te,O+(te.key==null||Q&&Q.key===te.key?"":(""+te.key).replace(R,"$&/")+"/")+fe)),me.push(te)),1;fe=0;var ve=V===""?".":V+":";if(F(Q))for(var Ce=0;Ce<Q.length;Ce++)V=Q[Ce],he=ve+q(V,Ce),fe+=oe(V,me,O,he,te);else if(Ce=y(Q),typeof Ce=="function")for(Q=Ce.call(Q),Ce=0;!(V=Q.next()).done;)V=V.value,he=ve+q(V,Ce++),fe+=oe(V,me,O,he,te);else if(he==="object"){if(typeof Q.then=="function")return oe(K(Q),me,O,V,te);throw me=String(Q),Error("Objects are not valid as a React child (found: "+(me==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":me)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Z(Q,me,O){if(Q==null)return Q;var V=[],te=0;return oe(Q,V,"","",function(he){return me.call(O,he,te++)}),V}function se(Q){if(Q._status===-1){var me=Q._result;me=me(),me.then(function(O){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=O)},function(O){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=O)}),Q._status===-1&&(Q._status=0,Q._result=me)}if(Q._status===1)return Q._result.default;throw Q._result}var ee=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var me=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(me))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)};function pe(){}return is.Children={map:Z,forEach:function(Q,me,O){Z(Q,function(){me.apply(this,arguments)},O)},count:function(Q){var me=0;return Z(Q,function(){me++}),me},toArray:function(Q){return Z(Q,function(me){return me})||[]},only:function(Q){if(!I(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},is.Component=A,is.Fragment=t,is.Profiler=a,is.PureComponent=P,is.StrictMode=r,is.Suspense=u,is.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,is.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return B.H.useMemoCache(Q)}},is.cache=function(Q){return function(){return Q.apply(null,arguments)}},is.cloneElement=function(Q,me,O){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var V=j({},Q.props),te=Q.key,he=void 0;if(me!=null)for(fe in me.ref!==void 0&&(he=void 0),me.key!==void 0&&(te=""+me.key),me)!ae.call(me,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&me.ref===void 0||(V[fe]=me[fe]);var fe=arguments.length-2;if(fe===1)V.children=O;else if(1<fe){for(var ve=Array(fe),Ce=0;Ce<fe;Ce++)ve[Ce]=arguments[Ce+2];V.children=ve}return Y(Q.type,te,void 0,void 0,he,V)},is.createContext=function(Q){return Q={$$typeof:c,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:i,_context:Q},Q},is.createElement=function(Q,me,O){var V,te={},he=null;if(me!=null)for(V in me.key!==void 0&&(he=""+me.key),me)ae.call(me,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(te[V]=me[V]);var fe=arguments.length-2;if(fe===1)te.children=O;else if(1<fe){for(var ve=Array(fe),Ce=0;Ce<fe;Ce++)ve[Ce]=arguments[Ce+2];te.children=ve}if(Q&&Q.defaultProps)for(V in fe=Q.defaultProps,fe)te[V]===void 0&&(te[V]=fe[V]);return Y(Q,he,void 0,void 0,null,te)},is.createRef=function(){return{current:null}},is.forwardRef=function(Q){return{$$typeof:d,render:Q}},is.isValidElement=I,is.lazy=function(Q){return{$$typeof:m,_payload:{_status:-1,_result:Q},_init:se}},is.memo=function(Q,me){return{$$typeof:f,type:Q,compare:me===void 0?null:me}},is.startTransition=function(Q){var me=B.T,O={};B.T=O;try{var V=Q(),te=B.S;te!==null&&te(O,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(pe,ee)}catch(he){ee(he)}finally{B.T=me}},is.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},is.use=function(Q){return B.H.use(Q)},is.useActionState=function(Q,me,O){return B.H.useActionState(Q,me,O)},is.useCallback=function(Q,me){return B.H.useCallback(Q,me)},is.useContext=function(Q){return B.H.useContext(Q)},is.useDebugValue=function(){},is.useDeferredValue=function(Q,me){return B.H.useDeferredValue(Q,me)},is.useEffect=function(Q,me,O){var V=B.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(Q,me)},is.useId=function(){return B.H.useId()},is.useImperativeHandle=function(Q,me,O){return B.H.useImperativeHandle(Q,me,O)},is.useInsertionEffect=function(Q,me){return B.H.useInsertionEffect(Q,me)},is.useLayoutEffect=function(Q,me){return B.H.useLayoutEffect(Q,me)},is.useMemo=function(Q,me){return B.H.useMemo(Q,me)},is.useOptimistic=function(Q,me){return B.H.useOptimistic(Q,me)},is.useReducer=function(Q,me,O){return B.H.useReducer(Q,me,O)},is.useRef=function(Q){return B.H.useRef(Q)},is.useState=function(Q){return B.H.useState(Q)},is.useSyncExternalStore=function(Q,me,O){return B.H.useSyncExternalStore(Q,me,O)},is.useTransition=function(){return B.H.useTransition()},is.version="19.1.1",is}var jb;function np(){return jb||(jb=1,Mg.exports=YS()),Mg.exports}var T=np();const Me=dj(T);var Rg={exports:{}},Uh={},Og={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function KS(){return Nb||(Nb=1,function(s){function e(Z,se){var ee=Z.length;Z.push(se);e:for(;0<ee;){var pe=ee-1>>>1,Q=Z[pe];if(0<a(Q,se))Z[pe]=se,Z[ee]=Q,ee=pe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var se=Z[0],ee=Z.pop();if(ee!==se){Z[0]=ee;e:for(var pe=0,Q=Z.length,me=Q>>>1;pe<me;){var O=2*(pe+1)-1,V=Z[O],te=O+1,he=Z[te];if(0>a(V,ee))te<Q&&0>a(he,V)?(Z[pe]=he,Z[te]=ee,pe=te):(Z[pe]=V,Z[O]=ee,pe=O);else if(te<Q&&0>a(he,ee))Z[pe]=he,Z[te]=ee,pe=te;else break e}}return se}function a(Z,se){var ee=Z.sortIndex-se.sortIndex;return ee!==0?ee:Z.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;s.unstable_now=function(){return i.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var u=[],f=[],m=1,b=null,y=3,x=!1,j=!1,S=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F(Z){for(var se=t(f);se!==null;){if(se.callback===null)r(f);else if(se.startTime<=Z)r(f),se.sortIndex=se.expirationTime,e(u,se);else break;se=t(f)}}function B(Z){if(S=!1,F(Z),!j)if(t(u)!==null)j=!0,ae||(ae=!0,q());else{var se=t(f);se!==null&&oe(B,se.startTime-Z)}}var ae=!1,Y=-1,E=5,I=-1;function $(){return A?!0:!(s.unstable_now()-I<E)}function R(){if(A=!1,ae){var Z=s.unstable_now();I=Z;var se=!0;try{e:{j=!1,S&&(S=!1,P(Y),Y=-1),x=!0;var ee=y;try{t:{for(F(Z),b=t(u);b!==null&&!(b.expirationTime>Z&&$());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,y=b.priorityLevel;var Q=pe(b.expirationTime<=Z);if(Z=s.unstable_now(),typeof Q=="function"){b.callback=Q,F(Z),se=!0;break t}b===t(u)&&r(u),F(Z)}else r(u);b=t(u)}if(b!==null)se=!0;else{var me=t(f);me!==null&&oe(B,me.startTime-Z),se=!1}}break e}finally{b=null,y=ee,x=!1}se=void 0}}finally{se?q():ae=!1}}}var q;if(typeof M=="function")q=function(){M(R)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,K=ie.port2;ie.port1.onmessage=R,q=function(){K.postMessage(null)}}else q=function(){k(R,0)};function oe(Z,se){Y=k(function(){Z(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Z){Z.callback=null},s.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Z?Math.floor(1e3/Z):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_next=function(Z){switch(y){case 1:case 2:case 3:var se=3;break;default:se=y}var ee=y;y=se;try{return Z()}finally{y=ee}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(Z,se){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=y;y=Z;try{return se()}finally{y=ee}},s.unstable_scheduleCallback=function(Z,se,ee){var pe=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?pe+ee:pe):ee=pe,Z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ee+Q,Z={id:m++,callback:se,priorityLevel:Z,startTime:ee,expirationTime:Q,sortIndex:-1},ee>pe?(Z.sortIndex=ee,e(f,Z),t(u)===null&&Z===t(f)&&(S?(P(Y),Y=-1):S=!0,oe(B,ee-pe))):(Z.sortIndex=Q,e(u,Z),j||x||(j=!0,ae||(ae=!0,q()))),Z},s.unstable_shouldYield=$,s.unstable_wrapCallback=function(Z){var se=y;return function(){var ee=y;y=se;try{return Z.apply(this,arguments)}finally{y=ee}}}}(Dg)),Dg}var Sb;function XS(){return Sb||(Sb=1,Og.exports=KS()),Og.exports}var Ig={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function JS(){if(_b)return qn;_b=1;var s=np();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(u,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:u,containerInfo:f,implementation:m}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qn.createPortal=function(u,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return i(u,f,null,m)},qn.flushSync=function(u){var f=c.T,m=r.p;try{if(c.T=null,r.p=2,u)return u()}finally{c.T=f,r.p=m,r.d.f()}},qn.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},qn.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},qn.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var m=f.as,b=d(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:x}):m==="script"&&r.d.X(u,{crossOrigin:b,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qn.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=d(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},qn.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=d(m,f.crossOrigin);r.d.L(u,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qn.preloadModule=function(u,f){if(typeof u=="string")if(f){var m=d(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},qn.requestFormReset=function(u){r.d.r(u)},qn.unstable_batchedUpdates=function(u,f){return u(f)},qn.useFormState=function(u,f,m){return c.H.useFormState(u,f,m)},qn.useFormStatus=function(){return c.H.useHostTransitionStatus()},qn.version="19.1.1",qn}var kb;function uj(){if(kb)return Ig.exports;kb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ig.exports=JS(),Ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ab;function ZS(){if(Ab)return Uh;Ab=1;var s=XS(),e=np(),t=uj();function r(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function c(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(r(188))}function u(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(r(188));return l!==o?null:o}for(var h=o,p=l;;){var v=h.return;if(v===null)break;var N=v.alternate;if(N===null){if(p=v.return,p!==null){h=p;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===h)return d(v),o;if(N===p)return d(v),l;N=N.sibling}throw Error(r(188))}if(h.return!==p.return)h=v,p=N;else{for(var D=!1,X=v.child;X;){if(X===h){D=!0,h=v,p=N;break}if(X===p){D=!0,p=v,h=N;break}X=X.sibling}if(!D){for(X=N.child;X;){if(X===h){D=!0,h=N,p=v;break}if(X===p){D=!0,p=N,h=v;break}X=X.sibling}if(!D)throw Error(r(189))}}if(h.alternate!==p)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:l}function f(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=f(o),l!==null)return l;o=o.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=R&&o[R]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Symbol.for("react.client.reference");function K(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ie?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case B:return"Suspense";case ae:return"SuspenseList";case I:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case x:return"Portal";case M:return(o.displayName||"Context")+".Provider";case P:return(o._context.displayName||"Context")+".Consumer";case F:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Y:return l=o.displayName||null,l!==null?l:K(o.type)||"Memo";case E:l=o._payload,o=o._init;try{return K(o(l))}catch{}}return null}var oe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},pe=[],Q=-1;function me(o){return{current:o}}function O(o){0>Q||(o.current=pe[Q],pe[Q]=null,Q--)}function V(o,l){Q++,pe[Q]=o.current,o.current=l}var te=me(null),he=me(null),fe=me(null),ve=me(null);function Ce(o,l){switch(V(fe,l),V(he,o),V(te,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?G2(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=G2(l),o=Y2(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}O(te),V(te,o)}function ue(){O(te),O(he),O(fe)}function Le(o){o.memoizedState!==null&&V(ve,o);var l=te.current,h=Y2(l,o.type);l!==h&&(V(he,o),V(te,h))}function Be(o){he.current===o&&(O(te),O(he)),ve.current===o&&(O(ve),Oh._currentValue=ee)}var Ze=Object.prototype.hasOwnProperty,Fe=s.unstable_scheduleCallback,je=s.unstable_cancelCallback,ne=s.unstable_shouldYield,lt=s.unstable_requestPaint,st=s.unstable_now,it=s.unstable_getCurrentPriorityLevel,ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,qe=s.unstable_NormalPriority,Nt=s.unstable_LowPriority,dt=s.unstable_IdlePriority,Rt=s.log,ft=s.unstable_setDisableYieldValue,ut=null,_t=null;function Qe(o){if(typeof Rt=="function"&&ft(o),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(ut,o)}catch{}}var rt=Math.clz32?Math.clz32:Ge,Pt=Math.log,xt=Math.LN2;function Ge(o){return o>>>=0,o===0?32:31-(Pt(o)/xt|0)|0}var at=256,ct=4194304;function Mt(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function bs(o,l,h){var p=o.pendingLanes;if(p===0)return 0;var v=0,N=o.suspendedLanes,D=o.pingedLanes;o=o.warmLanes;var X=p&134217727;return X!==0?(p=X&~N,p!==0?v=Mt(p):(D&=X,D!==0?v=Mt(D):h||(h=X&~o,h!==0&&(v=Mt(h))))):(X=p&~N,X!==0?v=Mt(X):D!==0?v=Mt(D):h||(h=p&~o,h!==0&&(v=Mt(h)))),v===0?0:l!==0&&l!==v&&(l&N)===0&&(N=v&-v,h=l&-l,N>=h||N===32&&(h&4194048)!==0)?l:v}function At(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function ns(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dt(){var o=at;return at<<=1,(at&4194048)===0&&(at=256),o}function Is(){var o=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),o}function Os(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function fs(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Ot(o,l,h,p,v,N){var D=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var X=o.entanglements,ge=o.expirationTimes,Te=o.hiddenUpdates;for(h=D&~h;0<h;){var Ve=31-rt(h),Ke=1<<Ve;X[Ve]=0,ge[Ve]=-1;var Re=Te[Ve];if(Re!==null)for(Te[Ve]=null,Ve=0;Ve<Re.length;Ve++){var De=Re[Ve];De!==null&&(De.lane&=-536870913)}h&=~Ke}p!==0&&ts(o,p,0),N!==0&&v===0&&o.tag!==0&&(o.suspendedLanes|=N&~(D&~l))}function ts(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var p=31-rt(l);o.entangledLanes|=l,o.entanglements[p]=o.entanglements[p]|1073741824|h&4194090}function Qr(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var p=31-rt(h),v=1<<p;v&l|o[p]&l&&(o[p]|=l),h&=~v}}function Jt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function $r(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function jn(){var o=se.p;return o!==0?o:(o=window.event,o===void 0?32:fb(o.type))}function Lt(o,l){var h=se.p;try{return se.p=o,l()}finally{se.p=h}}var kr=Math.random().toString(36).slice(2),ms="__reactFiber$"+kr,as="__reactProps$"+kr,Ps="__reactContainer$"+kr,Ft="__reactEvents$"+kr,_e="__reactListeners$"+kr,ht="__reactHandles$"+kr,ss="__reactResources$"+kr,It="__reactMarker$"+kr;function Cs(o){delete o[ms],delete o[as],delete o[Ft],delete o[_e],delete o[ht]}function os(o){var l=o[ms];if(l)return l;for(var h=o.parentNode;h;){if(l=h[Ps]||h[ms]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=Z2(o);o!==null;){if(h=o[ms])return h;o=Z2(o)}return l}o=h,h=o.parentNode}return null}function Zt(o){if(o=o[ms]||o[Ps]){var l=o.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return o}return null}function vs(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(r(33))}function ls(o){var l=o[ss];return l||(l=o[ss]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _s(o){o[It]=!0}var Fs=new Set,Qn={};function br(o,l){zn(o,l),zn(o+"Capture",l)}function zn(o,l){for(Qn[o]=l,o=0;o<l.length;o++)Fs.add(l[o])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},co={};function Dl(o){return Ze.call(co,o)?!0:Ze.call(Ol,o)?!1:Ga.test(o)?co[o]=!0:(Ol[o]=!0,!1)}function Ei(o,l,h){if(Dl(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function en(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function Nn(o,l,h,p){if(p===null)o.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+p)}}var Pi,uo;function Sn(o){if(Pi===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Pi=l&&l[1]||"",uo=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+o+uo}var Ya=!1;function ho(o,l){if(!o||Ya)return"";Ya=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(De){var Re=De}Reflect.construct(o,[],Ke)}else{try{Ke.call()}catch(De){Re=De}o.call(Ke.prototype)}}else{try{throw Error()}catch(De){Re=De}(Ke=o())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(De){if(De&&Re&&typeof De.stack=="string")return[De.stack,Re.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),D=N[0],X=N[1];if(D&&X){var ge=D.split(`
`),Te=X.split(`
`);for(v=p=0;p<ge.length&&!ge[p].includes("DetermineComponentFrameRoot");)p++;for(;v<Te.length&&!Te[v].includes("DetermineComponentFrameRoot");)v++;if(p===ge.length||v===Te.length)for(p=ge.length-1,v=Te.length-1;1<=p&&0<=v&&ge[p]!==Te[v];)v--;for(;1<=p&&0<=v;p--,v--)if(ge[p]!==Te[v]){if(p!==1||v!==1)do if(p--,v--,0>v||ge[p]!==Te[v]){var Ve=`
`+ge[p].replace(" at new "," at ");return o.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",o.displayName)),Ve}while(1<=p&&0<=v);break}}}finally{Ya=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Sn(h):""}function fo(o){switch(o.tag){case 26:case 27:case 5:return Sn(o.type);case 16:return Sn("Lazy");case 13:return Sn("Suspense");case 19:return Sn("SuspenseList");case 0:case 15:return ho(o.type,!1);case 11:return ho(o.type.render,!1);case 1:return ho(o.type,!0);case 31:return Sn("Activity");default:return""}}function mo(o){try{var l="";do l+=fo(o),o=o.return;while(o);return l}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function ks(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ho(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Wo(o){var l=Ho(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),p=""+o[l];if(!o.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var v=h.get,N=h.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(D){p=""+D,N.call(this,D)}}),Object.defineProperty(o,l,{enumerable:h.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function _n(o){o._valueTracker||(o._valueTracker=Wo(o))}function Ka(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),p="";return o&&(p=Ho(o)?o.checked?"true":"false":o.value),o=p,o!==h?(l.setValue(o),!0):!1}function hn(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Ti=/[\n"\\]/g;function ws(o){return o.replace(Ti,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Xa(o,l,h,p,v,N,D,X){o.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?o.type=D:o.removeAttribute("type"),l!=null?D==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+ks(l)):o.value!==""+ks(l)&&(o.value=""+ks(l)):D!=="submit"&&D!=="reset"||o.removeAttribute("value"),l!=null?Vo(o,D,ks(l)):h!=null?Vo(o,D,ks(h)):p!=null&&o.removeAttribute("value"),v==null&&N!=null&&(o.defaultChecked=!!N),v!=null&&(o.checked=v&&typeof v!="function"&&typeof v!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?o.name=""+ks(X):o.removeAttribute("name")}function Mi(o,l,h,p,v,N,D,X){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.type=N),l!=null||h!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;h=h!=null?""+ks(h):"",l=l!=null?""+ks(l):h,X||l===o.value||(o.value=l),o.defaultValue=l}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=X?o.checked:!!p,o.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(o.name=D)}function Vo(o,l,h){l==="number"&&hn(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function W(o,l,h,p){if(o=o.options,l){l={};for(var v=0;v<h.length;v++)l["$"+h[v]]=!0;for(h=0;h<o.length;h++)v=l.hasOwnProperty("$"+o[h].value),o[h].selected!==v&&(o[h].selected=v),v&&p&&(o[h].defaultSelected=!0)}else{for(h=""+ks(h),l=null,v=0;v<o.length;v++){if(o[v].value===h){o[v].selected=!0,p&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Oe(o,l,h){if(l!=null&&(l=""+ks(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+ks(h):""}function tt(o,l,h,p){if(l==null){if(p!=null){if(h!=null)throw Error(r(92));if(oe(p)){if(1<p.length)throw Error(r(93));p=p[0]}h=p}h==null&&(h=""),l=h}h=ks(l),o.defaultValue=h,p=o.textContent,p===h&&p!==""&&p!==null&&(o.value=p)}function pt(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cs(o,l,h){var p=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?p?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":p?o.setProperty(l,h):typeof h!="number"||h===0||Ct.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function tn(o,l,h){if(l!=null&&typeof l!="object")throw Error(r(62));if(o=o.style,h!=null){for(var p in h)!h.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var v in l)p=l[v],l.hasOwnProperty(v)&&h[v]!==p&&cs(o,v,p)}else for(var N in l)l.hasOwnProperty(N)&&cs(o,N,l[N])}function Un(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ri=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ea(o){return Ri.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ja=null;function Ic(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var fa=null,Za=null;function Wt(o){var l=Zt(o);if(l&&(o=l.stateNode)){var h=o[as]||null;e:switch(o=l.stateNode,l.type){case"input":if(Xa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ws(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var p=h[l];if(p!==o&&p.form===o.form){var v=p[as]||null;if(!v)throw Error(r(90));Xa(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(l=0;l<h.length;l++)p=h[l],p.form===o.form&&Ka(p)}break e;case"textarea":Oe(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&W(o,!!h.multiple,l,!1)}}}var Fc=!1;function Fd(o,l,h){if(Fc)return o(l,h);Fc=!0;try{var p=o(l);return p}finally{if(Fc=!1,(fa!==null||Za!==null)&&(_m(),fa&&(l=fa,o=Za,Za=fa=null,Wt(l),o)))for(l=0;l<o.length;l++)Wt(o[l])}}function $o(o,l){var h=o.stateNode;if(h===null)return null;var p=h[as]||null;if(p===null)return null;h=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,l,typeof h));return h}var Ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=!1;if(Ca)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){La=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{La=!1}var Qa=null,Bc=null,Oi=null;function Il(){if(Oi)return Oi;var o,l=Bc,h=l.length,p,v="value"in Qa?Qa.value:Qa.textContent,N=v.length;for(o=0;o<h&&l[o]===v[o];o++);var D=h-o;for(p=1;p<=D&&l[h-p]===v[N-p];p++);return Oi=v.slice(o,1<p?1-p:void 0)}function ei(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Di(){return!0}function Go(){return!1}function fn(o){function l(h,p,v,N,D){this._reactName=h,this._targetInst=v,this.type=p,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var X in o)o.hasOwnProperty(X)&&(h=o[X],this[X]=h?h(N):N[X]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Di:Go,this.isPropagationStopped=Go,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),l}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},po=fn(Ea),Pa=m({},Ea,{view:0,detail:0}),Yo=fn(Pa),Ko,go,Ii,ti=m({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ii&&(Ii&&o.type==="mousemove"?(Ko=o.screenX-Ii.screenX,go=o.screenY-Ii.screenY):go=Ko=0,Ii=o),Ko)},movementY:function(o){return"movementY"in o?o.movementY:go}}),Fl=fn(ti),zc=m({},ti,{dataTransfer:0}),sa=fn(zc),si=m({},Pa,{relatedTarget:0}),_=fn(si),U=m({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),de=fn(U),xe=m({},Ea,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Se=fn(xe),We=m({},Ea,{data:0}),Xe=fn(We),bt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qt(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=Ht[o])?!!l[o]:!1}function As(){return Qt}var nr=m({},Pa,{key:function(o){if(o.key){var l=bt[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ei(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?kt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(o){return o.type==="keypress"?ei(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ei(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Ar=fn(nr),zs=m({},ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cr=fn(zs),Lr=m({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),rn=fn(Lr),Fi=m({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),xo=fn(Fi),Ku=m({},ti,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Bd=fn(Ku),Xo=m({},Ea,{newState:0,oldState:0}),Ta=fn(Xo),Uc=[9,13,27,32],yo=Ca&&"CompositionEvent"in window,ma=null;Ca&&"documentMode"in document&&(ma=document.documentMode);var Gr=Ca&&"TextEvent"in window&&!ma,ri=Ca&&(!yo||ma&&8<ma&&11>=ma),ni=" ",Jo=!1;function Bl(o,l){switch(o){case"keyup":return Uc.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mn(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Bi=!1;function zl(o,l){switch(o){case"compositionend":return mn(l);case"keypress":return l.which!==32?null:(Jo=!0,ni);case"textInput":return o=l.data,o===ni&&Jo?null:o;default:return null}}function zd(o,l){if(Bi)return o==="compositionend"||!yo&&Bl(o,l)?(o=Il(),Oi=Bc=Qa=null,Bi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ri&&l.locale!=="ko"?null:l.data;default:return null}}var Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!Rr[o.type]:l==="textarea"}function Ul(o,l,h,p){fa?Za?Za.push(p):Za=[p]:fa=p,l=Pm(l,"onChange"),0<l.length&&(h=new po("onChange","change",null,h,p),o.push({event:h,listeners:l}))}var zi=null,pa=null;function ql(o){q2(o,0)}function nn(o){var l=vs(o);if(Ka(l))return o}function kn(o,l){if(o==="change")return l}var bo=!1;if(Ca){var ga;if(Ca){var ai="oninput"in document;if(!ai){var Hl=document.createElement("div");Hl.setAttribute("oninput","return;"),ai=typeof Hl.oninput=="function"}ga=ai}else ga=!1;bo=ga&&(!document.documentMode||9<document.documentMode)}function Ui(){zi&&(zi.detachEvent("onpropertychange",dr),pa=zi=null)}function dr(o){if(o.propertyName==="value"&&nn(pa)){var l=[];Ul(l,pa,o,Ic(o)),Fd(ql,l)}}function Xu(o,l,h){o==="focusin"?(Ui(),zi=l,pa=h,zi.attachEvent("onpropertychange",dr)):o==="focusout"&&Ui()}function ii(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return nn(pa)}function oi(o,l){if(o==="click")return nn(l)}function Wl(o,l){if(o==="input"||o==="change")return nn(l)}function qc(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Yr=typeof Object.is=="function"?Object.is:qc;function li(o,l){if(Yr(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),p=Object.keys(l);if(h.length!==p.length)return!1;for(p=0;p<h.length;p++){var v=h[p];if(!Ze.call(l,v)||!Yr(o[v],l[v]))return!1}return!0}function vo(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function wo(o,l){var h=vo(o);o=0;for(var p;h;){if(h.nodeType===3){if(p=o+h.textContent.length,o<=l&&p>=l)return{node:h,offset:l-o};o=p}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=vo(h)}}function ci(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?ci(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Vl(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=hn(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=hn(o.document)}return l}function An(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var di=Ca&&"documentMode"in document&&11>=document.documentMode,Ts=null,Us=null,Qs=null,ar=!1;function ui(o,l,h){var p=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ar||Ts==null||Ts!==hn(p)||(p=Ts,"selectionStart"in p&&An(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Qs&&li(Qs,p)||(Qs=p,p=Pm(Us,"onSelect"),0<p.length&&(l=new po("onSelect","select",null,l,h),o.push({event:l,listeners:p}),l.target=Ts)))}function xa(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Cn={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Zo={},Ju={};Ca&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function jo(o){if(Zo[o])return Zo[o];if(!Cn[o])return o;var l=Cn[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ju)return Zo[o]=l[h];return o}var Zu=jo("animationend"),Qu=jo("animationiteration"),eh=jo("animationstart"),$f=jo("transitionrun"),Gf=jo("transitionstart"),Yf=jo("transitioncancel"),th=jo("transitionend"),sh=new Map,Ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ud.push("scrollEnd");function ya(o,l){sh.set(o,l),br(l,[o])}var $l=new WeakMap;function na(o,l){if(typeof o=="object"&&o!==null){var h=$l.get(o);return h!==void 0?h:(l={value:o,source:l,stack:mo(l)},$l.set(o,l),l)}return{value:o,source:l,stack:mo(l)}}var aa=[],Qo=0,qd=0;function Hc(){for(var o=Qo,l=qd=Qo=0;l<o;){var h=aa[l];aa[l++]=null;var p=aa[l];aa[l++]=null;var v=aa[l];aa[l++]=null;var N=aa[l];if(aa[l++]=null,p!==null&&v!==null){var D=p.pending;D===null?v.next=v:(v.next=D.next,D.next=v),p.pending=v}N!==0&&Wd(h,v,N)}}function Wc(o,l,h,p){aa[Qo++]=o,aa[Qo++]=l,aa[Qo++]=h,aa[Qo++]=p,qd|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Hd(o,l,h,p){return Wc(o,l,h,p),tl(o)}function el(o,l){return Wc(o,null,null,l),tl(o)}function Wd(o,l,h){o.lanes|=h;var p=o.alternate;p!==null&&(p.lanes|=h);for(var v=!1,N=o.return;N!==null;)N.childLanes|=h,p=N.alternate,p!==null&&(p.childLanes|=h),N.tag===22&&(o=N.stateNode,o===null||o._visibility&1||(v=!0)),o=N,N=N.return;return o.tag===3?(N=o.stateNode,v&&l!==null&&(v=31-rt(h),o=N.hiddenUpdates,p=o[v],p===null?o[v]=[l]:p.push(l),l.lane=h|536870912),N):null}function tl(o){if(50<Ah)throw Ah=0,sg=null,Error(r(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var Kr={};function ba(o,l,h,p){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(o,l,h,p){return new ba(o,l,h,p)}function Gl(o){return o=o.prototype,!(!o||!o.isReactComponent)}function hi(o,l){var h=o.alternate;return h===null?(h=pn(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Vc(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function sl(o,l,h,p,v,N){var D=0;if(p=o,typeof o=="function")Gl(o)&&(D=1);else if(typeof o=="string")D=MS(o,h,te.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case I:return o=pn(31,h,l,v),o.elementType=I,o.lanes=N,o;case j:return qi(h.children,v,N,l);case S:D=8,v|=24;break;case A:return o=pn(12,h,l,v|2),o.elementType=A,o.lanes=N,o;case B:return o=pn(13,h,l,v),o.elementType=B,o.lanes=N,o;case ae:return o=pn(19,h,l,v),o.elementType=ae,o.lanes=N,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case k:case M:D=10;break e;case P:D=9;break e;case F:D=11;break e;case Y:D=14;break e;case E:D=16,p=null;break e}D=29,h=Error(r(130,o===null?"null":typeof o,"")),p=null}return l=pn(D,h,l,v),l.elementType=o,l.type=p,l.lanes=N,l}function qi(o,l,h,p){return o=pn(7,o,p,l),o.lanes=h,o}function Vd(o,l,h){return o=pn(6,o,null,l),o.lanes=h,o}function $c(o,l,h){return l=pn(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var No=[],Hi=0,Yl=null,$d=0,va=[],ia=0,rl=null,Wi=1,Vi="";function nl(o,l){No[Hi++]=$d,No[Hi++]=Yl,Yl=o,$d=l}function Kf(o,l,h){va[ia++]=Wi,va[ia++]=Vi,va[ia++]=rl,rl=o;var p=Wi;o=Vi;var v=32-rt(p)-1;p&=~(1<<v),h+=1;var N=32-rt(l)+v;if(30<N){var D=v-v%5;N=(p&(1<<D)-1).toString(32),p>>=D,v-=D,Wi=1<<32-rt(l)+v|h<<v|p,Vi=N+o}else Wi=1<<N|h<<v|p,Vi=o}function Gc(o){o.return!==null&&(nl(o,1),Kf(o,1,0))}function Yc(o){for(;o===Yl;)Yl=No[--Hi],No[Hi]=null,$d=No[--Hi],No[Hi]=null;for(;o===rl;)rl=va[--ia],va[ia]=null,Vi=va[--ia],va[ia]=null,Wi=va[--ia],va[ia]=null}var Or=null,ur=null,Ms=!1,So=null,fi=!1,rh=Error(r(519));function al(o){var l=Error(r(418,""));throw Kl(na(l,o)),rh}function Xf(o){var l=o.stateNode,h=o.type,p=o.memoizedProps;switch(l[ms]=o,l[as]=p,h){case"dialog":ys("cancel",l),ys("close",l);break;case"iframe":case"object":case"embed":ys("load",l);break;case"video":case"audio":for(h=0;h<Lh.length;h++)ys(Lh[h],l);break;case"source":ys("error",l);break;case"img":case"image":case"link":ys("error",l),ys("load",l);break;case"details":ys("toggle",l);break;case"input":ys("invalid",l),Mi(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),_n(l);break;case"select":ys("invalid",l);break;case"textarea":ys("invalid",l),tt(l,p.value,p.defaultValue,p.children),_n(l)}h=p.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||p.suppressHydrationWarning===!0||$2(l.textContent,h)?(p.popover!=null&&(ys("beforetoggle",l),ys("toggle",l)),p.onScroll!=null&&ys("scroll",l),p.onScrollEnd!=null&&ys("scrollend",l),p.onClick!=null&&(l.onclick=Tm),l=!0):l=!1,l||al(o)}function $i(o){for(Or=o.return;Or;)switch(Or.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:Or=Or.return}}function Ln(o){if(o!==Or)return!1;if(!Ms)return $i(o),Ms=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||yg(o.type,o.memoizedProps)),h=!h),h&&ur&&al(o),$i(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(l===0){ur=eo(o.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++;o=o.nextSibling}ur=null}}else l===27?(l=ur,uc(o.type)?(o=jg,jg=null,ur=o):ur=l):ur=Or?eo(o.stateNode.nextSibling):null;return!0}function oa(){ur=Or=null,Ms=!1}function Jf(){var o=So;return o!==null&&(ja===null?ja=o:ja.push.apply(ja,o),So=null),o}function Kl(o){So===null?So=[o]:So.push(o)}var mi=me(null),Xr=null,Gi=null;function _o(o,l,h){V(mi,l._currentValue),l._currentValue=h}function pi(o){o._currentValue=mi.current,O(mi)}function Gd(o,l,h){for(;o!==null;){var p=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),o===h)break;o=o.return}}function Yd(o,l,h,p){var v=o.child;for(v!==null&&(v.return=o);v!==null;){var N=v.dependencies;if(N!==null){var D=v.child;N=N.firstContext;e:for(;N!==null;){var X=N;N=v;for(var ge=0;ge<l.length;ge++)if(X.context===l[ge]){N.lanes|=h,X=N.alternate,X!==null&&(X.lanes|=h),Gd(N.return,h,o),p||(D=null);break e}N=X.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(r(341));D.lanes|=h,N=D.alternate,N!==null&&(N.lanes|=h),Gd(D,h,o),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===o){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function Xl(o,l,h,p){o=null;for(var v=l,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var X=v.type;Yr(v.pendingProps.value,D.value)||(o!==null?o.push(X):o=[X])}}else if(v===ve.current){if(D=v.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(o!==null?o.push(Oh):o=[Oh])}v=v.return}o!==null&&Yd(l,o,h,p),l.flags|=262144}function Kd(o){for(o=o.firstContext;o!==null;){if(!Yr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function gi(o){Xr=o,Gi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Dr(o){return Xd(Xr,o)}function ko(o,l){return Xr===null&&gi(o),Xd(o,l)}function Xd(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Gi===null){if(o===null)throw Error(r(308));Gi=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Gi=Gi.next=l;return h}var Ap=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,p){o.push(p)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},Zf=s.unstable_scheduleCallback,Cp=s.unstable_NormalPriority,Ir={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nh(){return{controller:new Ap,data:new Map,refCount:0}}function Kc(o){o.refCount--,o.refCount===0&&Zf(Cp,function(){o.controller.abort()})}var Xc=null,ah=0,il=0,Yi=null;function Lp(o,l){if(Xc===null){var h=Xc=[];ah=0,il=cg(),Yi={status:"pending",value:void 0,then:function(p){h.push(p)}}}return ah++,l.then(Qf,Qf),l}function Qf(){if(--ah===0&&Xc!==null){Yi!==null&&(Yi.status="fulfilled");var o=Xc;Xc=null,il=0,Yi=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function em(o,l){var h=[],p={status:"pending",value:null,reason:null,then:function(v){h.push(v)}};return o.then(function(){p.status="fulfilled",p.value=l;for(var v=0;v<h.length;v++)(0,h[v])(l)},function(v){for(p.status="rejected",p.reason=v,v=0;v<h.length;v++)(0,h[v])(void 0)}),p}var g=Z.S;Z.S=function(o,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&Lp(o,l),g!==null&&g(o,l)};var w=me(null);function C(){var o=w.current;return o!==null?o:rr.pooledCache}function L(o,l){l===null?V(w,w.current):V(w,l.pool)}function z(){var o=C();return o===null?null:{parent:Ir._currentValue,pool:o}}var H=Error(r(460)),G=Error(r(474)),J=Error(r(542)),re={then:function(){}};function ce(o){return o=o.status,o==="fulfilled"||o==="rejected"}function ye(){}function Pe(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(ye,ye),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,ke(o),o;default:if(typeof l.status=="string")l.then(ye,ye);else{if(o=rr,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=l,o.status="pending",o.then(function(p){if(l.status==="pending"){var v=l;v.status="fulfilled",v.value=p}},function(p){if(l.status==="pending"){var v=l;v.status="rejected",v.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,ke(o),o}throw le=l,H}}var le=null;function we(){if(le===null)throw Error(r(459));var o=le;return le=null,o}function ke(o){if(o===H||o===J)throw Error(r(483))}var Ie=!1;function Ee(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function He(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ue(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Je(o,l,h){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Ws&2)!==0){var v=p.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),p.pending=l,l=tl(o),Wd(o,null,h),l}return Wc(o,p,l,h),tl(o)}function Ye(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,Qr(o,h)}}function St(o,l){var h=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,h===p)){var v=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};N===null?v=N=D:N=N.next=D,h=h.next}while(h!==null);N===null?v=N=l:N=N.next=l}else v=N=l;h={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var mt=!1;function Gt(){if(mt){var o=Yi;if(o!==null)throw o}}function gt(o,l,h,p){mt=!1;var v=o.updateQueue;Ie=!1;var N=v.firstBaseUpdate,D=v.lastBaseUpdate,X=v.shared.pending;if(X!==null){v.shared.pending=null;var ge=X,Te=ge.next;ge.next=null,D===null?N=Te:D.next=Te,D=ge;var Ve=o.alternate;Ve!==null&&(Ve=Ve.updateQueue,X=Ve.lastBaseUpdate,X!==D&&(X===null?Ve.firstBaseUpdate=Te:X.next=Te,Ve.lastBaseUpdate=ge))}if(N!==null){var Ke=v.baseState;D=0,Ve=Te=ge=null,X=N;do{var Re=X.lane&-536870913,De=Re!==X.lane;if(De?(Es&Re)===Re:(p&Re)===Re){Re!==0&&Re===il&&(mt=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var $t=o,zt=X;Re=l;var Zs=h;switch(zt.tag){case 1:if($t=zt.payload,typeof $t=="function"){Ke=$t.call(Zs,Ke,Re);break e}Ke=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=zt.payload,Re=typeof $t=="function"?$t.call(Zs,Ke,Re):$t,Re==null)break e;Ke=m({},Ke,Re);break e;case 2:Ie=!0}}Re=X.callback,Re!==null&&(o.flags|=64,De&&(o.flags|=8192),De=v.callbacks,De===null?v.callbacks=[Re]:De.push(Re))}else De={lane:Re,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ve===null?(Te=Ve=De,ge=Ke):Ve=Ve.next=De,D|=Re;if(X=X.next,X===null){if(X=v.shared.pending,X===null)break;De=X,X=De.next,De.next=null,v.lastBaseUpdate=De,v.shared.pending=null}}while(!0);Ve===null&&(ge=Ke),v.baseState=ge,v.firstBaseUpdate=Te,v.lastBaseUpdate=Ve,N===null&&(v.shared.lanes=0),oc|=D,o.lanes=D,o.memoizedState=Ke}}function ps(o,l){if(typeof o!="function")throw Error(r(191,o));o.call(l)}function Er(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)ps(h[o],l)}var Vt=me(null),yt=me(0);function nt(o,l){o=ml,V(yt,o),V(Vt,l),ml=o|l.baseLanes}function ir(){V(yt,ml),V(Vt,Vt.current)}function Yt(){ml=yt.current,O(Vt),O(yt)}var rs=0,vt=null,Xt=null,js=null,er=!1,vr=!1,wr=!1,hr=0,hs=0,Ns=null,fr=0;function Bt(){throw Error(r(321))}function Fr(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!Yr(o[h],l[h]))return!1;return!0}function la(o,l,h,p,v,N){return rs=N,vt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Z.H=o===null||o.memoizedState===null?ky:Ay,wr=!1,N=h(p,v),wr=!1,vr&&(N=En(l,h,p,v)),mr(o),N}function mr(o){Z.H=hm;var l=Xt!==null&&Xt.next!==null;if(rs=0,js=Xt=vt=null,er=!1,hs=0,Ns=null,l)throw Error(r(300));o===null||xn||(o=o.dependencies,o!==null&&Kd(o)&&(xn=!0))}function En(o,l,h,p){vt=o;var v=0;do{if(vr&&(Ns=null),hs=0,vr=!1,25<=v)throw Error(r(301));if(v+=1,js=Xt=null,o.updateQueue!=null){var N=o.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Z.H=W3,N=l(h,p)}while(vr);return N}function Hs(){var o=Z.H,l=o.useState()[0];return l=typeof l.then=="function"?on(l):l,o=o.useState()[0],(Xt!==null?Xt.memoizedState:null)!==o&&(vt.flags|=1024),l}function jr(){var o=hr!==0;return hr=0,o}function Pn(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function an(o){if(er){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}er=!1}rs=0,js=Xt=vt=null,vr=!1,hs=hr=0,Ns=null}function Xs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return js===null?vt.memoizedState=js=o:js=js.next=o,js}function Ls(){if(Xt===null){var o=vt.alternate;o=o!==null?o.memoizedState:null}else o=Xt.next;var l=js===null?vt.memoizedState:js.next;if(l!==null)js=l,Xt=o;else{if(o===null)throw vt.alternate===null?Error(r(467)):Error(r(310));Xt=o,o={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},js===null?vt.memoizedState=js=o:js=js.next=o}return js}function gn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function on(o){var l=hs;return hs+=1,Ns===null&&(Ns=[]),o=Pe(Ns,o,l),l=vt,(js===null?l.memoizedState:js.next)===null&&(l=l.alternate,Z.H=l===null||l.memoizedState===null?ky:Ay),o}function Bs(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return on(o);if(o.$$typeof===M)return Dr(o)}throw Error(r(438,String(o)))}function Tn(o){var l=null,h=vt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var p=vt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(v){return v.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=gn(),vt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),p=0;p<o;p++)h[p]=$;return l.index++,h}function Br(o,l){return typeof l=="function"?l(o):l}function xi(o){var l=Ls();return Ma(l,Xt,o)}function Ma(o,l,h){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=h;var v=o.baseQueue,N=p.pending;if(N!==null){if(v!==null){var D=v.next;v.next=N.next,N.next=D}l.baseQueue=v=N,p.pending=null}if(N=o.baseState,v===null)o.memoizedState=N;else{l=v.next;var X=D=null,ge=null,Te=l,Ve=!1;do{var Ke=Te.lane&-536870913;if(Ke!==Te.lane?(Es&Ke)===Ke:(rs&Ke)===Ke){var Re=Te.revertLane;if(Re===0)ge!==null&&(ge=ge.next={lane:0,revertLane:0,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Ke===il&&(Ve=!0);else if((rs&Re)===Re){Te=Te.next,Re===il&&(Ve=!0);continue}else Ke={lane:0,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ge===null?(X=ge=Ke,D=N):ge=ge.next=Ke,vt.lanes|=Re,oc|=Re;Ke=Te.action,wr&&h(N,Ke),N=Te.hasEagerState?Te.eagerState:h(N,Ke)}else Re={lane:Ke,revertLane:Te.revertLane,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ge===null?(X=ge=Re,D=N):ge=ge.next=Re,vt.lanes|=Ke,oc|=Ke;Te=Te.next}while(Te!==null&&Te!==l);if(ge===null?D=N:ge.next=X,!Yr(N,o.memoizedState)&&(xn=!0,Ve&&(h=Yi,h!==null)))throw h;o.memoizedState=N,o.baseState=D,o.baseQueue=ge,p.lastRenderedState=N}return v===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function zr(o){var l=Ls(),h=l.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var p=h.dispatch,v=h.pending,N=l.memoizedState;if(v!==null){h.pending=null;var D=v=v.next;do N=o(N,D.action),D=D.next;while(D!==v);Yr(N,l.memoizedState)||(xn=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),h.lastRenderedState=N}return[N,p]}function Jc(o,l,h){var p=vt,v=Ls(),N=Ms;if(N){if(h===void 0)throw Error(r(407));h=h()}else h=l();var D=!Yr((Xt||v).memoizedState,h);D&&(v.memoizedState=h,xn=!0),v=v.queue;var X=Jl.bind(null,p,v,o);if(ec(2048,8,X,[o]),v.getSnapshot!==l||D||js!==null&&js.memoizedState.tag&1){if(p.flags|=2048,Xi(9,td(),Zc.bind(null,p,v,h,l),null),rr===null)throw Error(r(349));N||(rs&124)!==0||Jd(p,l,h)}return h}function Jd(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=vt.updateQueue,l===null?(l=gn(),vt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Zc(o,l,h,p){l.value=h,l.getSnapshot=p,tm(l)&&sm(o)}function Jl(o,l,h){return h(function(){tm(l)&&sm(o)})}function tm(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!Yr(o,h)}catch{return!0}}function sm(o){var l=el(o,2);l!==null&&Ba(l,o,2)}function Qc(o){var l=Xs();if(typeof o=="function"){var h=o;if(o=h(),wr){Qe(!0);try{h()}finally{Qe(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:o},l}function Ki(o,l,h,p){return o.baseState=h,Ma(o,Xt,typeof p=="function"?p:Br)}function Ep(o,l,h,p,v){if(um(o))throw Error(r(485));if(o=l.action,o!==null){var N={payload:v,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};Z.T!==null?h(!0):N.isTransition=!1,p(N),h=l.pending,h===null?(N.next=l.pending=N,rm(l,N)):(N.next=h.next,l.pending=h.next=N)}}function rm(o,l){var h=l.action,p=l.payload,v=o.state;if(l.isTransition){var N=Z.T,D={};Z.T=D;try{var X=h(v,p),ge=Z.S;ge!==null&&ge(D,X),nm(o,l,X)}catch(Te){Zl(o,l,Te)}finally{Z.T=N}}else try{N=h(v,p),nm(o,l,N)}catch(Te){Zl(o,l,Te)}}function nm(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(p){ih(o,l,p)},function(p){return Zl(o,l,p)}):ih(o,l,h)}function ih(o,l,h){l.status="fulfilled",l.value=h,oh(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,rm(o,h)))}function Zl(o,l,h){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=h,oh(l),l=l.next;while(l!==p)}o.action=null}function oh(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function lh(o,l){return l}function ed(o,l){if(Ms){var h=rr.formState;if(h!==null){e:{var p=vt;if(Ms){if(ur){t:{for(var v=ur,N=fi;v.nodeType!==8;){if(!N){v=null;break t}if(v=eo(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){ur=eo(v.nextSibling),p=v.data==="F!";break e}}al(p)}p=!1}p&&(l=h[0])}}return h=Xs(),h.memoizedState=h.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lh,lastRenderedState:l},h.queue=p,h=Ny.bind(null,vt,p),p.dispatch=h,p=Qc(!1),N=Pp.bind(null,vt,!1,p.queue),p=Xs(),v={state:l,dispatch:null,action:o,pending:null},p.queue=v,h=Ep.bind(null,vt,v,N,h),v.dispatch=h,p.memoizedState=o,[l,h,!1]}function Zd(o){var l=Ls();return Ql(l,Xt,o)}function Ql(o,l,h){if(l=Ma(o,l,lh)[0],o=xi(Br)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=on(l)}catch(D){throw D===H?J:D}else p=l;l=Ls();var v=l.queue,N=v.dispatch;return h!==l.memoizedState&&(vt.flags|=2048,Xi(9,td(),am.bind(null,v,h),null)),[p,N,o]}function am(o,l){o.action=l}function im(o){var l=Ls(),h=Xt;if(h!==null)return Ql(l,h,o);Ls(),l=l.memoizedState,h=Ls();var p=h.queue.dispatch;return h.memoizedState=o,[l,p,!1]}function Xi(o,l,h,p){return o={tag:o,create:h,deps:p,inst:l,next:null},l=vt.updateQueue,l===null&&(l=gn(),vt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(p=h.next,h.next=o,o.next=p,l.lastEffect=o),o}function td(){return{destroy:void 0,resource:void 0}}function Qd(){return Ls().memoizedState}function Ra(o,l,h,p){var v=Xs();p=p===void 0?null:p,vt.flags|=o,v.memoizedState=Xi(1|l,td(),h,p)}function ec(o,l,h,p){var v=Ls();p=p===void 0?null:p;var N=v.memoizedState.inst;Xt!==null&&p!==null&&Fr(p,Xt.memoizedState.deps)?v.memoizedState=Xi(l,N,h,p):(vt.flags|=o,v.memoizedState=Xi(1|l,N,h,p))}function ch(o,l){Ra(8390656,8,o,l)}function om(o,l){ec(2048,8,o,l)}function dh(o,l){return ec(4,2,o,l)}function ol(o,l){return ec(4,4,o,l)}function lm(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function uh(o,l,h){h=h!=null?h.concat([o]):null,ec(4,4,lm.bind(null,l,o),h)}function hh(){}function fh(o,l){var h=Ls();l=l===void 0?null:l;var p=h.memoizedState;return l!==null&&Fr(l,p[1])?p[0]:(h.memoizedState=[o,l],o)}function cm(o,l){var h=Ls();l=l===void 0?null:l;var p=h.memoizedState;if(l!==null&&Fr(l,p[1]))return p[0];if(p=o(),wr){Qe(!0);try{o()}finally{Qe(!1)}}return h.memoizedState=[p,l],p}function ll(o,l,h){return h===void 0||(rs&1073741824)!==0?o.memoizedState=l:(o.memoizedState=h,o=b2(),vt.lanes|=o,oc|=o,h)}function eu(o,l,h,p){return Yr(h,l)?h:Vt.current!==null?(o=ll(o,h,p),Yr(o,l)||(xn=!0),o):(rs&42)===0?(xn=!0,o.memoizedState=h):(o=b2(),vt.lanes|=o,oc|=o,l)}function sd(o,l,h,p,v){var N=se.p;se.p=N!==0&&8>N?N:8;var D=Z.T,X={};Z.T=X,Pp(o,!1,l,h);try{var ge=v(),Te=Z.S;if(Te!==null&&Te(X,ge),ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ve=em(ge,p);xh(o,l,Ve,Fa(o))}else xh(o,l,p,Fa(o))}catch(Ke){xh(o,l,{then:function(){},status:"rejected",reason:Ke},Fa())}finally{se.p=N,Z.T=D}}function Ji(){}function yi(o,l,h,p){if(o.tag!==5)throw Error(r(476));var v=Zi(o).queue;sd(o,v,l,ee,h===null?Ji:function(){return rd(o),h(p)})}function Zi(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:ee},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function rd(o){var l=Zi(o).next.queue;xh(o,l,{},Fa())}function nd(){return Dr(Oh)}function mh(){return Ls().memoizedState}function dm(){return Ls().memoizedState}function ph(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=Fa();o=Ue(h);var p=Je(l,o,h);p!==null&&(Ba(p,l,h),Ye(p,l,h)),l={cache:nh()},o.payload=l;return}l=l.return}}function gh(o,l,h){var p=Fa();h={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},um(o)?Sy(l,h):(h=Hd(o,l,h,p),h!==null&&(Ba(h,o,p),_y(h,l,p)))}function Ny(o,l,h){var p=Fa();xh(o,l,h,p)}function xh(o,l,h,p){var v={lane:p,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(um(o))Sy(l,v);else{var N=o.alternate;if(o.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var D=l.lastRenderedState,X=N(D,h);if(v.hasEagerState=!0,v.eagerState=X,Yr(X,D))return Wc(o,l,v,0),rr===null&&Hc(),!1}catch{}finally{}if(h=Hd(o,l,v,p),h!==null)return Ba(h,o,p),_y(h,l,p),!0}return!1}function Pp(o,l,h,p){if(p={lane:2,revertLane:cg(),action:p,hasEagerState:!1,eagerState:null,next:null},um(o)){if(l)throw Error(r(479))}else l=Hd(o,h,p,2),l!==null&&Ba(l,o,2)}function um(o){var l=o.alternate;return o===vt||l!==null&&l===vt}function Sy(o,l){vr=er=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function _y(o,l,h){if((h&4194048)!==0){var p=l.lanes;p&=o.pendingLanes,h|=p,l.lanes=h,Qr(o,h)}}var hm={readContext:Dr,use:Bs,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},ky={readContext:Dr,use:Bs,useCallback:function(o,l){return Xs().memoizedState=[o,l===void 0?null:l],o},useContext:Dr,useEffect:ch,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,Ra(4194308,4,lm.bind(null,l,o),h)},useLayoutEffect:function(o,l){return Ra(4194308,4,o,l)},useInsertionEffect:function(o,l){Ra(4,2,o,l)},useMemo:function(o,l){var h=Xs();l=l===void 0?null:l;var p=o();if(wr){Qe(!0);try{o()}finally{Qe(!1)}}return h.memoizedState=[p,l],p},useReducer:function(o,l,h){var p=Xs();if(h!==void 0){var v=h(l);if(wr){Qe(!0);try{h(l)}finally{Qe(!1)}}}else v=l;return p.memoizedState=p.baseState=v,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:v},p.queue=o,o=o.dispatch=gh.bind(null,vt,o),[p.memoizedState,o]},useRef:function(o){var l=Xs();return o={current:o},l.memoizedState=o},useState:function(o){o=Qc(o);var l=o.queue,h=Ny.bind(null,vt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:hh,useDeferredValue:function(o,l){var h=Xs();return ll(h,o,l)},useTransition:function(){var o=Qc(!1);return o=sd.bind(null,vt,o.queue,!0,!1),Xs().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var p=vt,v=Xs();if(Ms){if(h===void 0)throw Error(r(407));h=h()}else{if(h=l(),rr===null)throw Error(r(349));(Es&124)!==0||Jd(p,l,h)}v.memoizedState=h;var N={value:h,getSnapshot:l};return v.queue=N,ch(Jl.bind(null,p,N,o),[o]),p.flags|=2048,Xi(9,td(),Zc.bind(null,p,N,h,l),null),h},useId:function(){var o=Xs(),l=rr.identifierPrefix;if(Ms){var h=Vi,p=Wi;h=(p&~(1<<32-rt(p)-1)).toString(32)+h,l="«"+l+"R"+h,h=hr++,0<h&&(l+="H"+h.toString(32)),l+="»"}else h=fr++,l="«"+l+"r"+h.toString(32)+"»";return o.memoizedState=l},useHostTransitionStatus:nd,useFormState:ed,useActionState:ed,useOptimistic:function(o){var l=Xs();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Pp.bind(null,vt,!0,h),h.dispatch=l,[o,l]},useMemoCache:Tn,useCacheRefresh:function(){return Xs().memoizedState=ph.bind(null,vt)}},Ay={readContext:Dr,use:Bs,useCallback:fh,useContext:Dr,useEffect:om,useImperativeHandle:uh,useInsertionEffect:dh,useLayoutEffect:ol,useMemo:cm,useReducer:xi,useRef:Qd,useState:function(){return xi(Br)},useDebugValue:hh,useDeferredValue:function(o,l){var h=Ls();return eu(h,Xt.memoizedState,o,l)},useTransition:function(){var o=xi(Br)[0],l=Ls().memoizedState;return[typeof o=="boolean"?o:on(o),l]},useSyncExternalStore:Jc,useId:mh,useHostTransitionStatus:nd,useFormState:Zd,useActionState:Zd,useOptimistic:function(o,l){var h=Ls();return Ki(h,Xt,o,l)},useMemoCache:Tn,useCacheRefresh:dm},W3={readContext:Dr,use:Bs,useCallback:fh,useContext:Dr,useEffect:om,useImperativeHandle:uh,useInsertionEffect:dh,useLayoutEffect:ol,useMemo:cm,useReducer:zr,useRef:Qd,useState:function(){return zr(Br)},useDebugValue:hh,useDeferredValue:function(o,l){var h=Ls();return Xt===null?ll(h,o,l):eu(h,Xt.memoizedState,o,l)},useTransition:function(){var o=zr(Br)[0],l=Ls().memoizedState;return[typeof o=="boolean"?o:on(o),l]},useSyncExternalStore:Jc,useId:mh,useHostTransitionStatus:nd,useFormState:im,useActionState:im,useOptimistic:function(o,l){var h=Ls();return Xt!==null?Ki(h,Xt,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:Tn,useCacheRefresh:dm},tu=null,yh=0;function fm(o){var l=yh;return yh+=1,tu===null&&(tu=[]),Pe(tu,o,l)}function bh(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function mm(o,l){throw l.$$typeof===b?Error(r(525)):(o=Object.prototype.toString.call(l),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function Cy(o){var l=o._init;return l(o._payload)}function Ly(o){function l(Ne,be){if(o){var Ae=Ne.deletions;Ae===null?(Ne.deletions=[be],Ne.flags|=16):Ae.push(be)}}function h(Ne,be){if(!o)return null;for(;be!==null;)l(Ne,be),be=be.sibling;return null}function p(Ne){for(var be=new Map;Ne!==null;)Ne.key!==null?be.set(Ne.key,Ne):be.set(Ne.index,Ne),Ne=Ne.sibling;return be}function v(Ne,be){return Ne=hi(Ne,be),Ne.index=0,Ne.sibling=null,Ne}function N(Ne,be,Ae){return Ne.index=Ae,o?(Ae=Ne.alternate,Ae!==null?(Ae=Ae.index,Ae<be?(Ne.flags|=67108866,be):Ae):(Ne.flags|=67108866,be)):(Ne.flags|=1048576,be)}function D(Ne){return o&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function X(Ne,be,Ae,$e){return be===null||be.tag!==6?(be=Vd(Ae,Ne.mode,$e),be.return=Ne,be):(be=v(be,Ae),be.return=Ne,be)}function ge(Ne,be,Ae,$e){var wt=Ae.type;return wt===j?Ve(Ne,be,Ae.props.children,$e,Ae.key):be!==null&&(be.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===E&&Cy(wt)===be.type)?(be=v(be,Ae.props),bh(be,Ae),be.return=Ne,be):(be=sl(Ae.type,Ae.key,Ae.props,null,Ne.mode,$e),bh(be,Ae),be.return=Ne,be)}function Te(Ne,be,Ae,$e){return be===null||be.tag!==4||be.stateNode.containerInfo!==Ae.containerInfo||be.stateNode.implementation!==Ae.implementation?(be=$c(Ae,Ne.mode,$e),be.return=Ne,be):(be=v(be,Ae.children||[]),be.return=Ne,be)}function Ve(Ne,be,Ae,$e,wt){return be===null||be.tag!==7?(be=qi(Ae,Ne.mode,$e,wt),be.return=Ne,be):(be=v(be,Ae),be.return=Ne,be)}function Ke(Ne,be,Ae){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Vd(""+be,Ne.mode,Ae),be.return=Ne,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case y:return Ae=sl(be.type,be.key,be.props,null,Ne.mode,Ae),bh(Ae,be),Ae.return=Ne,Ae;case x:return be=$c(be,Ne.mode,Ae),be.return=Ne,be;case E:var $e=be._init;return be=$e(be._payload),Ke(Ne,be,Ae)}if(oe(be)||q(be))return be=qi(be,Ne.mode,Ae,null),be.return=Ne,be;if(typeof be.then=="function")return Ke(Ne,fm(be),Ae);if(be.$$typeof===M)return Ke(Ne,ko(Ne,be),Ae);mm(Ne,be)}return null}function Re(Ne,be,Ae,$e){var wt=be!==null?be.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return wt!==null?null:X(Ne,be,""+Ae,$e);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case y:return Ae.key===wt?ge(Ne,be,Ae,$e):null;case x:return Ae.key===wt?Te(Ne,be,Ae,$e):null;case E:return wt=Ae._init,Ae=wt(Ae._payload),Re(Ne,be,Ae,$e)}if(oe(Ae)||q(Ae))return wt!==null?null:Ve(Ne,be,Ae,$e,null);if(typeof Ae.then=="function")return Re(Ne,be,fm(Ae),$e);if(Ae.$$typeof===M)return Re(Ne,be,ko(Ne,Ae),$e);mm(Ne,Ae)}return null}function De(Ne,be,Ae,$e,wt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Ne=Ne.get(Ae)||null,X(be,Ne,""+$e,wt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case y:return Ne=Ne.get($e.key===null?Ae:$e.key)||null,ge(be,Ne,$e,wt);case x:return Ne=Ne.get($e.key===null?Ae:$e.key)||null,Te(be,Ne,$e,wt);case E:var gs=$e._init;return $e=gs($e._payload),De(Ne,be,Ae,$e,wt)}if(oe($e)||q($e))return Ne=Ne.get(Ae)||null,Ve(be,Ne,$e,wt,null);if(typeof $e.then=="function")return De(Ne,be,Ae,fm($e),wt);if($e.$$typeof===M)return De(Ne,be,Ae,ko(be,$e),wt);mm(be,$e)}return null}function $t(Ne,be,Ae,$e){for(var wt=null,gs=null,Tt=be,qt=be=0,bn=null;Tt!==null&&qt<Ae.length;qt++){Tt.index>qt?(bn=Tt,Tt=null):bn=Tt.sibling;var Ds=Re(Ne,Tt,Ae[qt],$e);if(Ds===null){Tt===null&&(Tt=bn);break}o&&Tt&&Ds.alternate===null&&l(Ne,Tt),be=N(Ds,be,qt),gs===null?wt=Ds:gs.sibling=Ds,gs=Ds,Tt=bn}if(qt===Ae.length)return h(Ne,Tt),Ms&&nl(Ne,qt),wt;if(Tt===null){for(;qt<Ae.length;qt++)Tt=Ke(Ne,Ae[qt],$e),Tt!==null&&(be=N(Tt,be,qt),gs===null?wt=Tt:gs.sibling=Tt,gs=Tt);return Ms&&nl(Ne,qt),wt}for(Tt=p(Tt);qt<Ae.length;qt++)bn=De(Tt,Ne,qt,Ae[qt],$e),bn!==null&&(o&&bn.alternate!==null&&Tt.delete(bn.key===null?qt:bn.key),be=N(bn,be,qt),gs===null?wt=bn:gs.sibling=bn,gs=bn);return o&&Tt.forEach(function(gc){return l(Ne,gc)}),Ms&&nl(Ne,qt),wt}function zt(Ne,be,Ae,$e){if(Ae==null)throw Error(r(151));for(var wt=null,gs=null,Tt=be,qt=be=0,bn=null,Ds=Ae.next();Tt!==null&&!Ds.done;qt++,Ds=Ae.next()){Tt.index>qt?(bn=Tt,Tt=null):bn=Tt.sibling;var gc=Re(Ne,Tt,Ds.value,$e);if(gc===null){Tt===null&&(Tt=bn);break}o&&Tt&&gc.alternate===null&&l(Ne,Tt),be=N(gc,be,qt),gs===null?wt=gc:gs.sibling=gc,gs=gc,Tt=bn}if(Ds.done)return h(Ne,Tt),Ms&&nl(Ne,qt),wt;if(Tt===null){for(;!Ds.done;qt++,Ds=Ae.next())Ds=Ke(Ne,Ds.value,$e),Ds!==null&&(be=N(Ds,be,qt),gs===null?wt=Ds:gs.sibling=Ds,gs=Ds);return Ms&&nl(Ne,qt),wt}for(Tt=p(Tt);!Ds.done;qt++,Ds=Ae.next())Ds=De(Tt,Ne,qt,Ds.value,$e),Ds!==null&&(o&&Ds.alternate!==null&&Tt.delete(Ds.key===null?qt:Ds.key),be=N(Ds,be,qt),gs===null?wt=Ds:gs.sibling=Ds,gs=Ds);return o&&Tt.forEach(function(VS){return l(Ne,VS)}),Ms&&nl(Ne,qt),wt}function Zs(Ne,be,Ae,$e){if(typeof Ae=="object"&&Ae!==null&&Ae.type===j&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case y:e:{for(var wt=Ae.key;be!==null;){if(be.key===wt){if(wt=Ae.type,wt===j){if(be.tag===7){h(Ne,be.sibling),$e=v(be,Ae.props.children),$e.return=Ne,Ne=$e;break e}}else if(be.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===E&&Cy(wt)===be.type){h(Ne,be.sibling),$e=v(be,Ae.props),bh($e,Ae),$e.return=Ne,Ne=$e;break e}h(Ne,be);break}else l(Ne,be);be=be.sibling}Ae.type===j?($e=qi(Ae.props.children,Ne.mode,$e,Ae.key),$e.return=Ne,Ne=$e):($e=sl(Ae.type,Ae.key,Ae.props,null,Ne.mode,$e),bh($e,Ae),$e.return=Ne,Ne=$e)}return D(Ne);case x:e:{for(wt=Ae.key;be!==null;){if(be.key===wt)if(be.tag===4&&be.stateNode.containerInfo===Ae.containerInfo&&be.stateNode.implementation===Ae.implementation){h(Ne,be.sibling),$e=v(be,Ae.children||[]),$e.return=Ne,Ne=$e;break e}else{h(Ne,be);break}else l(Ne,be);be=be.sibling}$e=$c(Ae,Ne.mode,$e),$e.return=Ne,Ne=$e}return D(Ne);case E:return wt=Ae._init,Ae=wt(Ae._payload),Zs(Ne,be,Ae,$e)}if(oe(Ae))return $t(Ne,be,Ae,$e);if(q(Ae)){if(wt=q(Ae),typeof wt!="function")throw Error(r(150));return Ae=wt.call(Ae),zt(Ne,be,Ae,$e)}if(typeof Ae.then=="function")return Zs(Ne,be,fm(Ae),$e);if(Ae.$$typeof===M)return Zs(Ne,be,ko(Ne,Ae),$e);mm(Ne,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,be!==null&&be.tag===6?(h(Ne,be.sibling),$e=v(be,Ae),$e.return=Ne,Ne=$e):(h(Ne,be),$e=Vd(Ae,Ne.mode,$e),$e.return=Ne,Ne=$e),D(Ne)):h(Ne,be)}return function(Ne,be,Ae,$e){try{yh=0;var wt=Zs(Ne,be,Ae,$e);return tu=null,wt}catch(Tt){if(Tt===H||Tt===J)throw Tt;var gs=pn(29,Tt,null,Ne.mode);return gs.lanes=$e,gs.return=Ne,gs}finally{}}}var su=Ly(!0),Ey=Ly(!1),bi=me(null),Ao=null;function tc(o){var l=o.alternate;V(ln,ln.current&1),V(bi,o),Ao===null&&(l===null||Vt.current!==null||l.memoizedState!==null)&&(Ao=o)}function Py(o){if(o.tag===22){if(V(ln,ln.current),V(bi,o),Ao===null){var l=o.alternate;l!==null&&l.memoizedState!==null&&(Ao=o)}}else sc()}function sc(){V(ln,ln.current),V(bi,bi.current)}function cl(o){O(bi),Ao===o&&(Ao=null),O(ln)}var ln=me(0);function pm(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||wg(h)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Tp(o,l,h,p){l=o.memoizedState,h=h(p,l),h=h==null?l:m({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var Mp={enqueueSetState:function(o,l,h){o=o._reactInternals;var p=Fa(),v=Ue(p);v.payload=l,h!=null&&(v.callback=h),l=Je(o,v,p),l!==null&&(Ba(l,o,p),Ye(l,o,p))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var p=Fa(),v=Ue(p);v.tag=1,v.payload=l,h!=null&&(v.callback=h),l=Je(o,v,p),l!==null&&(Ba(l,o,p),Ye(l,o,p))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=Fa(),p=Ue(h);p.tag=2,l!=null&&(p.callback=l),l=Je(o,p,h),l!==null&&(Ba(l,o,h),Ye(l,o,h))}};function Ty(o,l,h,p,v,N,D){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,N,D):l.prototype&&l.prototype.isPureReactComponent?!li(h,p)||!li(v,N):!0}function My(o,l,h,p){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,p),l.state!==o&&Mp.enqueueReplaceState(l,l.state,null)}function ad(o,l){var h=l;if("ref"in l){h={};for(var p in l)p!=="ref"&&(h[p]=l[p])}if(o=o.defaultProps){h===l&&(h=m({},h));for(var v in o)h[v]===void 0&&(h[v]=o[v])}return h}var gm=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function Ry(o){gm(o)}function Oy(o){console.error(o)}function Dy(o){gm(o)}function xm(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function Iy(o,l,h){try{var p=o.onCaughtError;p(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Rp(o,l,h){return h=Ue(h),h.tag=3,h.payload={element:null},h.callback=function(){xm(o,l)},h}function Fy(o){return o=Ue(o),o.tag=3,o}function By(o,l,h,p){var v=h.type.getDerivedStateFromError;if(typeof v=="function"){var N=p.value;o.payload=function(){return v(N)},o.callback=function(){Iy(l,h,p)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(o.callback=function(){Iy(l,h,p),typeof v!="function"&&(lc===null?lc=new Set([this]):lc.add(this));var X=p.stack;this.componentDidCatch(p.value,{componentStack:X!==null?X:""})})}function V3(o,l,h,p,v){if(h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=h.alternate,l!==null&&Xl(l,h,v,!0),h=bi.current,h!==null){switch(h.tag){case 13:return Ao===null?ng():h.alternate===null&&Pr===0&&(Pr=3),h.flags&=-257,h.flags|=65536,h.lanes=v,p===re?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([p]):l.add(p),ig(o,p,v)),!1;case 22:return h.flags|=65536,p===re?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([p]):h.add(p)),ig(o,p,v)),!1}throw Error(r(435,h.tag))}return ig(o,p,v),ng(),!1}if(Ms)return l=bi.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=v,p!==rh&&(o=Error(r(422),{cause:p}),Kl(na(o,h)))):(p!==rh&&(l=Error(r(423),{cause:p}),Kl(na(l,h))),o=o.current.alternate,o.flags|=65536,v&=-v,o.lanes|=v,p=na(p,h),v=Rp(o.stateNode,p,v),St(o,v),Pr!==4&&(Pr=2)),!1;var N=Error(r(520),{cause:p});if(N=na(N,h),kh===null?kh=[N]:kh.push(N),Pr!==4&&(Pr=2),l===null)return!0;p=na(p,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=v&-v,h.lanes|=o,o=Rp(h.stateNode,p,o),St(h,o),!1;case 1:if(l=h.type,N=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(lc===null||!lc.has(N))))return h.flags|=65536,v&=-v,h.lanes|=v,v=Fy(v),By(v,o,h,p),St(h,v),!1}h=h.return}while(h!==null);return!1}var zy=Error(r(461)),xn=!1;function Mn(o,l,h,p){l.child=o===null?Ey(l,null,h,p):su(l,o.child,h,p)}function Uy(o,l,h,p,v){h=h.render;var N=l.ref;if("ref"in p){var D={};for(var X in p)X!=="ref"&&(D[X]=p[X])}else D=p;return gi(l),p=la(o,l,h,D,N,v),X=jr(),o!==null&&!xn?(Pn(o,l,v),dl(o,l,v)):(Ms&&X&&Gc(l),l.flags|=1,Mn(o,l,p,v),l.child)}function qy(o,l,h,p,v){if(o===null){var N=h.type;return typeof N=="function"&&!Gl(N)&&N.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=N,Hy(o,l,N,p,v)):(o=sl(h.type,null,p,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(N=o.child,!qp(o,v)){var D=N.memoizedProps;if(h=h.compare,h=h!==null?h:li,h(D,p)&&o.ref===l.ref)return dl(o,l,v)}return l.flags|=1,o=hi(N,p),o.ref=l.ref,o.return=l,l.child=o}function Hy(o,l,h,p,v){if(o!==null){var N=o.memoizedProps;if(li(N,p)&&o.ref===l.ref)if(xn=!1,l.pendingProps=p=N,qp(o,v))(o.flags&131072)!==0&&(xn=!0);else return l.lanes=o.lanes,dl(o,l,v)}return Op(o,l,h,p,v)}function Wy(o,l,h){var p=l.pendingProps,v=p.children,N=o!==null?o.memoizedState:null;if(p.mode==="hidden"){if((l.flags&128)!==0){if(p=N!==null?N.baseLanes|h:h,o!==null){for(v=l.child=o.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;l.childLanes=N&~p}else l.childLanes=0,l.child=null;return Vy(o,l,p,h)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&L(l,N!==null?N.cachePool:null),N!==null?nt(l,N):ir(),Py(l);else return l.lanes=l.childLanes=536870912,Vy(o,l,N!==null?N.baseLanes|h:h,h)}else N!==null?(L(l,N.cachePool),nt(l,N),sc(),l.memoizedState=null):(o!==null&&L(l,null),ir(),sc());return Mn(o,l,v,h),l.child}function Vy(o,l,h,p){var v=C();return v=v===null?null:{parent:Ir._currentValue,pool:v},l.memoizedState={baseLanes:h,cachePool:v},o!==null&&L(l,null),ir(),Py(l),o!==null&&Xl(o,l,p,!0),null}function ym(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function Op(o,l,h,p,v){return gi(l),h=la(o,l,h,p,void 0,v),p=jr(),o!==null&&!xn?(Pn(o,l,v),dl(o,l,v)):(Ms&&p&&Gc(l),l.flags|=1,Mn(o,l,h,v),l.child)}function $y(o,l,h,p,v,N){return gi(l),l.updateQueue=null,h=En(l,p,h,v),mr(o),p=jr(),o!==null&&!xn?(Pn(o,l,N),dl(o,l,N)):(Ms&&p&&Gc(l),l.flags|=1,Mn(o,l,h,N),l.child)}function Gy(o,l,h,p,v){if(gi(l),l.stateNode===null){var N=Kr,D=h.contextType;typeof D=="object"&&D!==null&&(N=Dr(D)),N=new h(p,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Mp,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=p,N.state=l.memoizedState,N.refs={},Ee(l),D=h.contextType,N.context=typeof D=="object"&&D!==null?Dr(D):Kr,N.state=l.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(Tp(l,h,D,p),N.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&Mp.enqueueReplaceState(N,N.state,null),gt(l,p,N,v),Gt(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(o===null){N=l.stateNode;var X=l.memoizedProps,ge=ad(h,X);N.props=ge;var Te=N.context,Ve=h.contextType;D=Kr,typeof Ve=="object"&&Ve!==null&&(D=Dr(Ve));var Ke=h.getDerivedStateFromProps;Ve=typeof Ke=="function"||typeof N.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Ve||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X||Te!==D)&&My(l,N,p,D),Ie=!1;var Re=l.memoizedState;N.state=Re,gt(l,p,N,v),Gt(),Te=l.memoizedState,X||Re!==Te||Ie?(typeof Ke=="function"&&(Tp(l,h,Ke,p),Te=l.memoizedState),(ge=Ie||Ty(l,h,ge,p,Re,Te,D))?(Ve||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=Te),N.props=p,N.state=Te,N.context=D,p=ge):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{N=l.stateNode,He(o,l),D=l.memoizedProps,Ve=ad(h,D),N.props=Ve,Ke=l.pendingProps,Re=N.context,Te=h.contextType,ge=Kr,typeof Te=="object"&&Te!==null&&(ge=Dr(Te)),X=h.getDerivedStateFromProps,(Te=typeof X=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==Ke||Re!==ge)&&My(l,N,p,ge),Ie=!1,Re=l.memoizedState,N.state=Re,gt(l,p,N,v),Gt();var De=l.memoizedState;D!==Ke||Re!==De||Ie||o!==null&&o.dependencies!==null&&Kd(o.dependencies)?(typeof X=="function"&&(Tp(l,h,X,p),De=l.memoizedState),(Ve=Ie||Ty(l,h,Ve,p,Re,De,ge)||o!==null&&o.dependencies!==null&&Kd(o.dependencies))?(Te||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,De,ge),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,De,ge)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===o.memoizedProps&&Re===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&Re===o.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=De),N.props=p,N.state=De,N.context=ge,p=Ve):(typeof N.componentDidUpdate!="function"||D===o.memoizedProps&&Re===o.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===o.memoizedProps&&Re===o.memoizedState||(l.flags|=1024),p=!1)}return N=p,ym(o,l),p=(l.flags&128)!==0,N||p?(N=l.stateNode,h=p&&typeof h.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,o!==null&&p?(l.child=su(l,o.child,null,v),l.child=su(l,null,h,v)):Mn(o,l,h,v),l.memoizedState=N.state,o=l.child):o=dl(o,l,v),o}function Yy(o,l,h,p){return oa(),l.flags|=256,Mn(o,l,h,p),l.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ip(o){return{baseLanes:o,cachePool:z()}}function Fp(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=vi),o}function Ky(o,l,h){var p=l.pendingProps,v=!1,N=(l.flags&128)!==0,D;if((D=N)||(D=o!==null&&o.memoizedState===null?!1:(ln.current&2)!==0),D&&(v=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,o===null){if(Ms){if(v?tc(l):sc(),Ms){var X=ur,ge;if(ge=X){e:{for(ge=X,X=fi;ge.nodeType!==8;){if(!X){X=null;break e}if(ge=eo(ge.nextSibling),ge===null){X=null;break e}}X=ge}X!==null?(l.memoizedState={dehydrated:X,treeContext:rl!==null?{id:Wi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},ge=pn(18,null,null,0),ge.stateNode=X,ge.return=l,l.child=ge,Or=l,ur=null,ge=!0):ge=!1}ge||al(l)}if(X=l.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return wg(X)?l.lanes=32:l.lanes=536870912,null;cl(l)}return X=p.children,p=p.fallback,v?(sc(),v=l.mode,X=bm({mode:"hidden",children:X},v),p=qi(p,v,h,null),X.return=l,p.return=l,X.sibling=p,l.child=X,v=l.child,v.memoizedState=Ip(h),v.childLanes=Fp(o,D,h),l.memoizedState=Dp,p):(tc(l),Bp(l,X))}if(ge=o.memoizedState,ge!==null&&(X=ge.dehydrated,X!==null)){if(N)l.flags&256?(tc(l),l.flags&=-257,l=zp(o,l,h)):l.memoizedState!==null?(sc(),l.child=o.child,l.flags|=128,l=null):(sc(),v=p.fallback,X=l.mode,p=bm({mode:"visible",children:p.children},X),v=qi(v,X,h,null),v.flags|=2,p.return=l,v.return=l,p.sibling=v,l.child=p,su(l,o.child,null,h),p=l.child,p.memoizedState=Ip(h),p.childLanes=Fp(o,D,h),l.memoizedState=Dp,l=v);else if(tc(l),wg(X)){if(D=X.nextSibling&&X.nextSibling.dataset,D)var Te=D.dgst;D=Te,p=Error(r(419)),p.stack="",p.digest=D,Kl({value:p,source:null,stack:null}),l=zp(o,l,h)}else if(xn||Xl(o,l,h,!1),D=(h&o.childLanes)!==0,xn||D){if(D=rr,D!==null&&(p=h&-h,p=(p&42)!==0?1:Jt(p),p=(p&(D.suspendedLanes|h))!==0?0:p,p!==0&&p!==ge.retryLane))throw ge.retryLane=p,el(o,p),Ba(D,o,p),zy;X.data==="$?"||ng(),l=zp(o,l,h)}else X.data==="$?"?(l.flags|=192,l.child=o.child,l=null):(o=ge.treeContext,ur=eo(X.nextSibling),Or=l,Ms=!0,So=null,fi=!1,o!==null&&(va[ia++]=Wi,va[ia++]=Vi,va[ia++]=rl,Wi=o.id,Vi=o.overflow,rl=l),l=Bp(l,p.children),l.flags|=4096);return l}return v?(sc(),v=p.fallback,X=l.mode,ge=o.child,Te=ge.sibling,p=hi(ge,{mode:"hidden",children:p.children}),p.subtreeFlags=ge.subtreeFlags&65011712,Te!==null?v=hi(Te,v):(v=qi(v,X,h,null),v.flags|=2),v.return=l,p.return=l,p.sibling=v,l.child=p,p=v,v=l.child,X=o.child.memoizedState,X===null?X=Ip(h):(ge=X.cachePool,ge!==null?(Te=Ir._currentValue,ge=ge.parent!==Te?{parent:Te,pool:Te}:ge):ge=z(),X={baseLanes:X.baseLanes|h,cachePool:ge}),v.memoizedState=X,v.childLanes=Fp(o,D,h),l.memoizedState=Dp,p):(tc(l),h=o.child,o=h.sibling,h=hi(h,{mode:"visible",children:p.children}),h.return=l,h.sibling=null,o!==null&&(D=l.deletions,D===null?(l.deletions=[o],l.flags|=16):D.push(o)),l.child=h,l.memoizedState=null,h)}function Bp(o,l){return l=bm({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function bm(o,l){return o=pn(22,o,null,l),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function zp(o,l,h){return su(l,o.child,null,h),o=Bp(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function Xy(o,l,h){o.lanes|=l;var p=o.alternate;p!==null&&(p.lanes|=l),Gd(o.return,l,h)}function Up(o,l,h,p,v){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:h,tailMode:v}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=h,N.tailMode=v)}function Jy(o,l,h){var p=l.pendingProps,v=p.revealOrder,N=p.tail;if(Mn(o,l,p.children,h),p=ln.current,(p&2)!==0)p=p&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Xy(o,h,l);else if(o.tag===19)Xy(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}switch(V(ln,p),v){case"forwards":for(h=l.child,v=null;h!==null;)o=h.alternate,o!==null&&pm(o)===null&&(v=h),h=h.sibling;h=v,h===null?(v=l.child,l.child=null):(v=h.sibling,h.sibling=null),Up(l,!1,v,h,N);break;case"backwards":for(h=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&pm(o)===null){l.child=v;break}o=v.sibling,v.sibling=h,h=v,v=o}Up(l,!0,h,null,N);break;case"together":Up(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function dl(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),oc|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(Xl(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(r(153));if(l.child!==null){for(o=l.child,h=hi(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=hi(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function qp(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Kd(o)))}function $3(o,l,h){switch(l.tag){case 3:Ce(l,l.stateNode.containerInfo),_o(l,Ir,o.memoizedState.cache),oa();break;case 27:case 5:Le(l);break;case 4:Ce(l,l.stateNode.containerInfo);break;case 10:_o(l,l.type,l.memoizedProps.value);break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(tc(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Ky(o,l,h):(tc(l),o=dl(o,l,h),o!==null?o.sibling:null);tc(l);break;case 19:var v=(o.flags&128)!==0;if(p=(h&l.childLanes)!==0,p||(Xl(o,l,h,!1),p=(h&l.childLanes)!==0),v){if(p)return Jy(o,l,h);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),V(ln,ln.current),p)break;return null;case 22:case 23:return l.lanes=0,Wy(o,l,h);case 24:_o(l,Ir,o.memoizedState.cache)}return dl(o,l,h)}function Zy(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)xn=!0;else{if(!qp(o,h)&&(l.flags&128)===0)return xn=!1,$3(o,l,h);xn=(o.flags&131072)!==0}else xn=!1,Ms&&(l.flags&1048576)!==0&&Kf(l,$d,l.index);switch(l.lanes=0,l.tag){case 16:e:{o=l.pendingProps;var p=l.elementType,v=p._init;if(p=v(p._payload),l.type=p,typeof p=="function")Gl(p)?(o=ad(p,o),l.tag=1,l=Gy(null,l,p,o,h)):(l.tag=0,l=Op(null,l,p,o,h));else{if(p!=null){if(v=p.$$typeof,v===F){l.tag=11,l=Uy(null,l,p,o,h);break e}else if(v===Y){l.tag=14,l=qy(null,l,p,o,h);break e}}throw l=K(p)||p,Error(r(306,l,""))}}return l;case 0:return Op(o,l,l.type,l.pendingProps,h);case 1:return p=l.type,v=ad(p,l.pendingProps),Gy(o,l,p,v,h);case 3:e:{if(Ce(l,l.stateNode.containerInfo),o===null)throw Error(r(387));p=l.pendingProps;var N=l.memoizedState;v=N.element,He(o,l),gt(l,p,null,h);var D=l.memoizedState;if(p=D.cache,_o(l,Ir,p),p!==N.cache&&Yd(l,[Ir],h,!0),Gt(),p=D.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=Yy(o,l,p,h);break e}else if(p!==v){v=na(Error(r(424)),l),Kl(v),l=Yy(o,l,p,h);break e}else{switch(o=l.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(ur=eo(o.firstChild),Or=l,Ms=!0,So=null,fi=!0,h=Ey(l,null,p,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(oa(),p===v){l=dl(o,l,h);break e}Mn(o,l,p,h)}l=l.child}return l;case 26:return ym(o,l),o===null?(h=sb(l.type,null,l.pendingProps,null))?l.memoizedState=h:Ms||(h=l.type,o=l.pendingProps,p=Mm(fe.current).createElement(h),p[ms]=l,p[as]=o,On(p,h,o),_s(p),l.stateNode=p):l.memoizedState=sb(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return Le(l),o===null&&Ms&&(p=l.stateNode=Q2(l.type,l.pendingProps,fe.current),Or=l,fi=!0,v=ur,uc(l.type)?(jg=v,ur=eo(p.firstChild)):ur=v),Mn(o,l,l.pendingProps.children,h),ym(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&Ms&&((v=p=ur)&&(p=vS(p,l.type,l.pendingProps,fi),p!==null?(l.stateNode=p,Or=l,ur=eo(p.firstChild),fi=!1,v=!0):v=!1),v||al(l)),Le(l),v=l.type,N=l.pendingProps,D=o!==null?o.memoizedProps:null,p=N.children,yg(v,N)?p=null:D!==null&&yg(v,D)&&(l.flags|=32),l.memoizedState!==null&&(v=la(o,l,Hs,null,null,h),Oh._currentValue=v),ym(o,l),Mn(o,l,p,h),l.child;case 6:return o===null&&Ms&&((o=h=ur)&&(h=wS(h,l.pendingProps,fi),h!==null?(l.stateNode=h,Or=l,ur=null,o=!0):o=!1),o||al(l)),null;case 13:return Ky(o,l,h);case 4:return Ce(l,l.stateNode.containerInfo),p=l.pendingProps,o===null?l.child=su(l,null,p,h):Mn(o,l,p,h),l.child;case 11:return Uy(o,l,l.type,l.pendingProps,h);case 7:return Mn(o,l,l.pendingProps,h),l.child;case 8:return Mn(o,l,l.pendingProps.children,h),l.child;case 12:return Mn(o,l,l.pendingProps.children,h),l.child;case 10:return p=l.pendingProps,_o(l,l.type,p.value),Mn(o,l,p.children,h),l.child;case 9:return v=l.type._context,p=l.pendingProps.children,gi(l),v=Dr(v),p=p(v),l.flags|=1,Mn(o,l,p,h),l.child;case 14:return qy(o,l,l.type,l.pendingProps,h);case 15:return Hy(o,l,l.type,l.pendingProps,h);case 19:return Jy(o,l,h);case 31:return p=l.pendingProps,h=l.mode,p={mode:p.mode,children:p.children},o===null?(h=bm(p,h),h.ref=l.ref,l.child=h,h.return=l,l=h):(h=hi(o.child,p),h.ref=l.ref,l.child=h,h.return=l,l=h),l;case 22:return Wy(o,l,h);case 24:return gi(l),p=Dr(Ir),o===null?(v=C(),v===null&&(v=rr,N=nh(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=h),v=N),l.memoizedState={parent:p,cache:v},Ee(l),_o(l,Ir,v)):((o.lanes&h)!==0&&(He(o,l),gt(l,null,null,h),Gt()),v=o.memoizedState,N=l.memoizedState,v.parent!==p?(v={parent:p,cache:p},l.memoizedState=v,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=v),_o(l,Ir,p)):(p=N.cache,_o(l,Ir,p),p!==v.cache&&Yd(l,[Ir],h,!0))),Mn(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function ul(o){o.flags|=4}function Qy(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!ob(l)){if(l=bi.current,l!==null&&((Es&4194048)===Es?Ao!==null:(Es&62914560)!==Es&&(Es&536870912)===0||l!==Ao))throw le=re,G;o.flags|=8192}}function vm(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?Is():536870912,o.lanes|=l,iu|=l)}function vh(o,l){if(!Ms)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function Nr(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,p=0;if(l)for(var v=o.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)h|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=p,o.childLanes=h,l}function G3(o,l,h){var p=l.pendingProps;switch(Yc(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(l),null;case 1:return Nr(l),null;case 3:return h=l.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),pi(Ir),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Ln(l)?ul(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jf())),Nr(l),null;case 26:return h=l.memoizedState,o===null?(ul(l),h!==null?(Nr(l),Qy(l,h)):(Nr(l),l.flags&=-16777217)):h?h!==o.memoizedState?(ul(l),Nr(l),Qy(l,h)):(Nr(l),l.flags&=-16777217):(o.memoizedProps!==p&&ul(l),Nr(l),l.flags&=-16777217),null;case 27:Be(l),h=fe.current;var v=l.type;if(o!==null&&l.stateNode!=null)o.memoizedProps!==p&&ul(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}o=te.current,Ln(l)?Xf(l):(o=Q2(v,p,h),l.stateNode=o,ul(l))}return Nr(l),null;case 5:if(Be(l),h=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==p&&ul(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}if(o=te.current,Ln(l))Xf(l);else{switch(v=Mm(fe.current),o){case 1:o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=v.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?o.multiple=!0:p.size&&(o.size=p.size);break;default:o=typeof p.is=="string"?v.createElement(h,{is:p.is}):v.createElement(h)}}o[ms]=l,o[as]=p;e:for(v=l.child;v!==null;){if(v.tag===5||v.tag===6)o.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===l)break e;for(;v.sibling===null;){if(v.return===null||v.return===l)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}l.stateNode=o;e:switch(On(o,h,p),h){case"button":case"input":case"select":case"textarea":o=!!p.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ul(l)}}return Nr(l),l.flags&=-16777217,null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==p&&ul(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(o=fe.current,Ln(l)){if(o=l.stateNode,h=l.memoizedProps,p=null,v=Or,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}o[ms]=l,o=!!(o.nodeValue===h||p!==null&&p.suppressHydrationWarning===!0||$2(o.nodeValue,h)),o||al(l)}else o=Mm(o).createTextNode(p),o[ms]=l,l.stateNode=o}return Nr(l),null;case 13:if(p=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(v=Ln(l),p!==null&&p.dehydrated!==null){if(o===null){if(!v)throw Error(r(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[ms]=l}else oa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nr(l),v=!1}else v=Jf(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=v),v=!0;if(!v)return l.flags&256?(cl(l),l):(cl(l),null)}if(cl(l),(l.flags&128)!==0)return l.lanes=h,l;if(h=p!==null,o=o!==null&&o.memoizedState!==null,h){p=l.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==v&&(p.flags|=2048)}return h!==o&&h&&(l.child.flags|=8192),vm(l,l.updateQueue),Nr(l),null;case 4:return ue(),o===null&&fg(l.stateNode.containerInfo),Nr(l),null;case 10:return pi(l.type),Nr(l),null;case 19:if(O(ln),v=l.memoizedState,v===null)return Nr(l),null;if(p=(l.flags&128)!==0,N=v.rendering,N===null)if(p)vh(v,!1);else{if(Pr!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(N=pm(o),N!==null){for(l.flags|=128,vh(v,!1),o=N.updateQueue,l.updateQueue=o,vm(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)Vc(h,o),h=h.sibling;return V(ln,ln.current&1|2),l.child}o=o.sibling}v.tail!==null&&st()>Nm&&(l.flags|=128,p=!0,vh(v,!1),l.lanes=4194304)}else{if(!p)if(o=pm(N),o!==null){if(l.flags|=128,p=!0,o=o.updateQueue,l.updateQueue=o,vm(l,o),vh(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Ms)return Nr(l),null}else 2*st()-v.renderingStartTime>Nm&&h!==536870912&&(l.flags|=128,p=!0,vh(v,!1),l.lanes=4194304);v.isBackwards?(N.sibling=l.child,l.child=N):(o=v.last,o!==null?o.sibling=N:l.child=N,v.last=N)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=st(),l.sibling=null,o=ln.current,V(ln,p?o&1|2:o&1),l):(Nr(l),null);case 22:case 23:return cl(l),Yt(),p=l.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(h&536870912)!==0&&(l.flags&128)===0&&(Nr(l),l.subtreeFlags&6&&(l.flags|=8192)):Nr(l),h=l.updateQueue,h!==null&&vm(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048),o!==null&&O(w),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),pi(Ir),Nr(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function Y3(o,l){switch(Yc(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return pi(Ir),ue(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Be(l),null;case 13:if(cl(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(r(340));oa()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return O(ln),null;case 4:return ue(),null;case 10:return pi(l.type),null;case 22:case 23:return cl(l),Yt(),o!==null&&O(w),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return pi(Ir),null;case 25:return null;default:return null}}function e2(o,l){switch(Yc(l),l.tag){case 3:pi(Ir),ue();break;case 26:case 27:case 5:Be(l);break;case 4:ue();break;case 13:cl(l);break;case 19:O(ln);break;case 10:pi(l.type);break;case 22:case 23:cl(l),Yt(),o!==null&&O(w);break;case 24:pi(Ir)}}function wh(o,l){try{var h=l.updateQueue,p=h!==null?h.lastEffect:null;if(p!==null){var v=p.next;h=v;do{if((h.tag&o)===o){p=void 0;var N=h.create,D=h.inst;p=N(),D.destroy=p}h=h.next}while(h!==v)}}catch(X){tr(l,l.return,X)}}function rc(o,l,h){try{var p=l.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&o)===o){var D=p.inst,X=D.destroy;if(X!==void 0){D.destroy=void 0,v=l;var ge=h,Te=X;try{Te()}catch(Ve){tr(v,ge,Ve)}}}p=p.next}while(p!==N)}}catch(Ve){tr(l,l.return,Ve)}}function t2(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{Er(l,h)}catch(p){tr(o,o.return,p)}}}function s2(o,l,h){h.props=ad(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(p){tr(o,l,p)}}function jh(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof h=="function"?o.refCleanup=h(p):h.current=p}}catch(v){tr(o,l,v)}}function Co(o,l){var h=o.ref,p=o.refCleanup;if(h!==null)if(typeof p=="function")try{p()}catch(v){tr(o,l,v)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(v){tr(o,l,v)}else h.current=null}function r2(o){var l=o.type,h=o.memoizedProps,p=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&p.focus();break e;case"img":h.src?p.src=h.src:h.srcSet&&(p.srcset=h.srcSet)}}catch(v){tr(o,o.return,v)}}function Hp(o,l,h){try{var p=o.stateNode;pS(p,o.type,h,l),p[as]=l}catch(v){tr(o,o.return,v)}}function n2(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&uc(o.type)||o.tag===4}function Wp(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||n2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&uc(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Vp(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=Tm));else if(p!==4&&(p===27&&uc(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(Vp(o,l,h),o=o.sibling;o!==null;)Vp(o,l,h),o=o.sibling}function wm(o,l,h){var p=o.tag;if(p===5||p===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(p!==4&&(p===27&&uc(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(wm(o,l,h),o=o.sibling;o!==null;)wm(o,l,h),o=o.sibling}function a2(o){var l=o.stateNode,h=o.memoizedProps;try{for(var p=o.type,v=l.attributes;v.length;)l.removeAttributeNode(v[0]);On(l,p,h),l[ms]=o,l[as]=h}catch(N){tr(o,o.return,N)}}var hl=!1,Ur=!1,$p=!1,i2=typeof WeakSet=="function"?WeakSet:Set,yn=null;function K3(o,l){if(o=o.containerInfo,gg=Bm,o=Vl(o),An(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var p=h.getSelection&&h.getSelection();if(p&&p.rangeCount!==0){h=p.anchorNode;var v=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{h.nodeType,N.nodeType}catch{h=null;break e}var D=0,X=-1,ge=-1,Te=0,Ve=0,Ke=o,Re=null;t:for(;;){for(var De;Ke!==h||v!==0&&Ke.nodeType!==3||(X=D+v),Ke!==N||p!==0&&Ke.nodeType!==3||(ge=D+p),Ke.nodeType===3&&(D+=Ke.nodeValue.length),(De=Ke.firstChild)!==null;)Re=Ke,Ke=De;for(;;){if(Ke===o)break t;if(Re===h&&++Te===v&&(X=D),Re===N&&++Ve===p&&(ge=D),(De=Ke.nextSibling)!==null)break;Ke=Re,Re=Ke.parentNode}Ke=De}h=X===-1||ge===-1?null:{start:X,end:ge}}else h=null}h=h||{start:0,end:0}}else h=null;for(xg={focusedElem:o,selectionRange:h},Bm=!1,yn=l;yn!==null;)if(l=yn,o=l.child,(l.subtreeFlags&1024)!==0&&o!==null)o.return=l,yn=o;else for(;yn!==null;){switch(l=yn,N=l.alternate,o=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&N!==null){o=void 0,h=l,v=N.memoizedProps,N=N.memoizedState,p=h.stateNode;try{var $t=ad(h.type,v,h.elementType===h.type);o=p.getSnapshotBeforeUpdate($t,N),p.__reactInternalSnapshotBeforeUpdate=o}catch(zt){tr(h,h.return,zt)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)vg(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":vg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=l.sibling,o!==null){o.return=l.return,yn=o;break}yn=l.return}}function o2(o,l,h){var p=h.flags;switch(h.tag){case 0:case 11:case 15:nc(o,h),p&4&&wh(5,h);break;case 1:if(nc(o,h),p&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(D){tr(h,h.return,D)}else{var v=ad(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(v,l,o.__reactInternalSnapshotBeforeUpdate)}catch(D){tr(h,h.return,D)}}p&64&&t2(h),p&512&&jh(h,h.return);break;case 3:if(nc(o,h),p&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Er(o,l)}catch(D){tr(h,h.return,D)}}break;case 27:l===null&&p&4&&a2(h);case 26:case 5:nc(o,h),l===null&&p&4&&r2(h),p&512&&jh(h,h.return);break;case 12:nc(o,h);break;case 13:nc(o,h),p&4&&d2(o,h),p&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=nS.bind(null,h),jS(o,h))));break;case 22:if(p=h.memoizedState!==null||hl,!p){l=l!==null&&l.memoizedState!==null||Ur,v=hl;var N=Ur;hl=p,(Ur=l)&&!N?ac(o,h,(h.subtreeFlags&8772)!==0):nc(o,h),hl=v,Ur=N}break;case 30:break;default:nc(o,h)}}function l2(o){var l=o.alternate;l!==null&&(o.alternate=null,l2(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&Cs(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var pr=null,wa=!1;function fl(o,l,h){for(h=h.child;h!==null;)c2(o,l,h),h=h.sibling}function c2(o,l,h){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(ut,h)}catch{}switch(h.tag){case 26:Ur||Co(h,l),fl(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Ur||Co(h,l);var p=pr,v=wa;uc(h.type)&&(pr=h.stateNode,wa=!1),fl(o,l,h),Ph(h.stateNode),pr=p,wa=v;break;case 5:Ur||Co(h,l);case 6:if(p=pr,v=wa,pr=null,fl(o,l,h),pr=p,wa=v,pr!==null)if(wa)try{(pr.nodeType===9?pr.body:pr.nodeName==="HTML"?pr.ownerDocument.body:pr).removeChild(h.stateNode)}catch(N){tr(h,l,N)}else try{pr.removeChild(h.stateNode)}catch(N){tr(h,l,N)}break;case 18:pr!==null&&(wa?(o=pr,J2(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Bh(o)):J2(pr,h.stateNode));break;case 4:p=pr,v=wa,pr=h.stateNode.containerInfo,wa=!0,fl(o,l,h),pr=p,wa=v;break;case 0:case 11:case 14:case 15:Ur||rc(2,h,l),Ur||rc(4,h,l),fl(o,l,h);break;case 1:Ur||(Co(h,l),p=h.stateNode,typeof p.componentWillUnmount=="function"&&s2(h,l,p)),fl(o,l,h);break;case 21:fl(o,l,h);break;case 22:Ur=(p=Ur)||h.memoizedState!==null,fl(o,l,h),Ur=p;break;default:fl(o,l,h)}}function d2(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Bh(o)}catch(h){tr(l,l.return,h)}}function X3(o){switch(o.tag){case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new i2),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new i2),l;default:throw Error(r(435,o.tag))}}function Gp(o,l){var h=X3(o);l.forEach(function(p){var v=aS.bind(null,o,p);h.has(p)||(h.add(p),p.then(v,v))})}function Oa(o,l){var h=l.deletions;if(h!==null)for(var p=0;p<h.length;p++){var v=h[p],N=o,D=l,X=D;e:for(;X!==null;){switch(X.tag){case 27:if(uc(X.type)){pr=X.stateNode,wa=!1;break e}break;case 5:pr=X.stateNode,wa=!1;break e;case 3:case 4:pr=X.stateNode.containerInfo,wa=!0;break e}X=X.return}if(pr===null)throw Error(r(160));c2(N,D,v),pr=null,wa=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)u2(l,o),l=l.sibling}var Qi=null;function u2(o,l){var h=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Oa(l,o),Da(o),p&4&&(rc(3,o,o.return),wh(3,o),rc(5,o,o.return));break;case 1:Oa(l,o),Da(o),p&512&&(Ur||h===null||Co(h,h.return)),p&64&&hl&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?p:h.concat(p))));break;case 26:var v=Qi;if(Oa(l,o),Da(o),p&512&&(Ur||h===null||Co(h,h.return)),p&4){var N=h!==null?h.memoizedState:null;if(p=o.memoizedState,h===null)if(p===null)if(o.stateNode===null){e:{p=o.type,h=o.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":N=v.getElementsByTagName("title")[0],(!N||N[It]||N[ms]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(p),v.head.insertBefore(N,v.querySelector("head > title"))),On(N,p,h),N[ms]=o,_s(N),p=N;break e;case"link":var D=ab("link","href",v).get(p+(h.href||""));if(D){for(var X=0;X<D.length;X++)if(N=D[X],N.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&N.getAttribute("rel")===(h.rel==null?null:h.rel)&&N.getAttribute("title")===(h.title==null?null:h.title)&&N.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(X,1);break t}}N=v.createElement(p),On(N,p,h),v.head.appendChild(N);break;case"meta":if(D=ab("meta","content",v).get(p+(h.content||""))){for(X=0;X<D.length;X++)if(N=D[X],N.getAttribute("content")===(h.content==null?null:""+h.content)&&N.getAttribute("name")===(h.name==null?null:h.name)&&N.getAttribute("property")===(h.property==null?null:h.property)&&N.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&N.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(X,1);break t}}N=v.createElement(p),On(N,p,h),v.head.appendChild(N);break;default:throw Error(r(468,p))}N[ms]=o,_s(N),p=N}o.stateNode=p}else ib(v,o.type,o.stateNode);else o.stateNode=nb(v,p,o.memoizedProps);else N!==p?(N===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):N.count--,p===null?ib(v,o.type,o.stateNode):nb(v,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Hp(o,o.memoizedProps,h.memoizedProps)}break;case 27:Oa(l,o),Da(o),p&512&&(Ur||h===null||Co(h,h.return)),h!==null&&p&4&&Hp(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Oa(l,o),Da(o),p&512&&(Ur||h===null||Co(h,h.return)),o.flags&32){v=o.stateNode;try{pt(v,"")}catch(De){tr(o,o.return,De)}}p&4&&o.stateNode!=null&&(v=o.memoizedProps,Hp(o,v,h!==null?h.memoizedProps:v)),p&1024&&($p=!0);break;case 6:if(Oa(l,o),Da(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,h=o.stateNode;try{h.nodeValue=p}catch(De){tr(o,o.return,De)}}break;case 3:if(Dm=null,v=Qi,Qi=Rm(l.containerInfo),Oa(l,o),Qi=v,Da(o),p&4&&h!==null&&h.memoizedState.isDehydrated)try{Bh(l.containerInfo)}catch(De){tr(o,o.return,De)}$p&&($p=!1,h2(o));break;case 4:p=Qi,Qi=Rm(o.stateNode.containerInfo),Oa(l,o),Da(o),Qi=p;break;case 12:Oa(l,o),Da(o);break;case 13:Oa(l,o),Da(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Qp=st()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Gp(o,p)));break;case 22:v=o.memoizedState!==null;var ge=h!==null&&h.memoizedState!==null,Te=hl,Ve=Ur;if(hl=Te||v,Ur=Ve||ge,Oa(l,o),Ur=Ve,hl=Te,Da(o),p&8192)e:for(l=o.stateNode,l._visibility=v?l._visibility&-2:l._visibility|1,v&&(h===null||ge||hl||Ur||id(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){ge=h=l;try{if(N=ge.stateNode,v)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{X=ge.stateNode;var Ke=ge.memoizedProps.style,Re=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;X.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(De){tr(ge,ge.return,De)}}}else if(l.tag===6){if(h===null){ge=l;try{ge.stateNode.nodeValue=v?"":ge.memoizedProps}catch(De){tr(ge,ge.return,De)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=o.updateQueue,p!==null&&(h=p.retryQueue,h!==null&&(p.retryQueue=null,Gp(o,h))));break;case 19:Oa(l,o),Da(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Gp(o,p)));break;case 30:break;case 21:break;default:Oa(l,o),Da(o)}}function Da(o){var l=o.flags;if(l&2){try{for(var h,p=o.return;p!==null;){if(n2(p)){h=p;break}p=p.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var v=h.stateNode,N=Wp(o);wm(o,N,v);break;case 5:var D=h.stateNode;h.flags&32&&(pt(D,""),h.flags&=-33);var X=Wp(o);wm(o,X,D);break;case 3:case 4:var ge=h.stateNode.containerInfo,Te=Wp(o);Vp(o,Te,ge);break;default:throw Error(r(161))}}catch(Ve){tr(o,o.return,Ve)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function h2(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;h2(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function nc(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)o2(o,l.alternate,l),l=l.sibling}function id(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:rc(4,l,l.return),id(l);break;case 1:Co(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&s2(l,l.return,h),id(l);break;case 27:Ph(l.stateNode);case 26:case 5:Co(l,l.return),id(l);break;case 22:l.memoizedState===null&&id(l);break;case 30:id(l);break;default:id(l)}o=o.sibling}}function ac(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,v=o,N=l,D=N.flags;switch(N.tag){case 0:case 11:case 15:ac(v,N,h),wh(4,N);break;case 1:if(ac(v,N,h),p=N,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Te){tr(p,p.return,Te)}if(p=N,v=p.updateQueue,v!==null){var X=p.stateNode;try{var ge=v.shared.hiddenCallbacks;if(ge!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ge.length;v++)ps(ge[v],X)}catch(Te){tr(p,p.return,Te)}}h&&D&64&&t2(N),jh(N,N.return);break;case 27:a2(N);case 26:case 5:ac(v,N,h),h&&p===null&&D&4&&r2(N),jh(N,N.return);break;case 12:ac(v,N,h);break;case 13:ac(v,N,h),h&&D&4&&d2(v,N);break;case 22:N.memoizedState===null&&ac(v,N,h),jh(N,N.return);break;case 30:break;default:ac(v,N,h)}l=l.sibling}}function Yp(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Kc(h))}function Kp(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Kc(o))}function Lo(o,l,h,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)f2(o,l,h,p),l=l.sibling}function f2(o,l,h,p){var v=l.flags;switch(l.tag){case 0:case 11:case 15:Lo(o,l,h,p),v&2048&&wh(9,l);break;case 1:Lo(o,l,h,p);break;case 3:Lo(o,l,h,p),v&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Kc(o)));break;case 12:if(v&2048){Lo(o,l,h,p),o=l.stateNode;try{var N=l.memoizedProps,D=N.id,X=N.onPostCommit;typeof X=="function"&&X(D,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ge){tr(l,l.return,ge)}}else Lo(o,l,h,p);break;case 13:Lo(o,l,h,p);break;case 23:break;case 22:N=l.stateNode,D=l.alternate,l.memoizedState!==null?N._visibility&2?Lo(o,l,h,p):Nh(o,l):N._visibility&2?Lo(o,l,h,p):(N._visibility|=2,ru(o,l,h,p,(l.subtreeFlags&10256)!==0)),v&2048&&Yp(D,l);break;case 24:Lo(o,l,h,p),v&2048&&Kp(l.alternate,l);break;default:Lo(o,l,h,p)}}function ru(o,l,h,p,v){for(v=v&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=o,D=l,X=h,ge=p,Te=D.flags;switch(D.tag){case 0:case 11:case 15:ru(N,D,X,ge,v),wh(8,D);break;case 23:break;case 22:var Ve=D.stateNode;D.memoizedState!==null?Ve._visibility&2?ru(N,D,X,ge,v):Nh(N,D):(Ve._visibility|=2,ru(N,D,X,ge,v)),v&&Te&2048&&Yp(D.alternate,D);break;case 24:ru(N,D,X,ge,v),v&&Te&2048&&Kp(D.alternate,D);break;default:ru(N,D,X,ge,v)}l=l.sibling}}function Nh(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,p=l,v=p.flags;switch(p.tag){case 22:Nh(h,p),v&2048&&Yp(p.alternate,p);break;case 24:Nh(h,p),v&2048&&Kp(p.alternate,p);break;default:Nh(h,p)}l=l.sibling}}var Sh=8192;function nu(o){if(o.subtreeFlags&Sh)for(o=o.child;o!==null;)m2(o),o=o.sibling}function m2(o){switch(o.tag){case 26:nu(o),o.flags&Sh&&o.memoizedState!==null&&OS(Qi,o.memoizedState,o.memoizedProps);break;case 5:nu(o);break;case 3:case 4:var l=Qi;Qi=Rm(o.stateNode.containerInfo),nu(o),Qi=l;break;case 22:o.memoizedState===null&&(l=o.alternate,l!==null&&l.memoizedState!==null?(l=Sh,Sh=16777216,nu(o),Sh=l):nu(o));break;default:nu(o)}}function p2(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function _h(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];yn=p,x2(p,o)}p2(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)g2(o),o=o.sibling}function g2(o){switch(o.tag){case 0:case 11:case 15:_h(o),o.flags&2048&&rc(9,o,o.return);break;case 3:_h(o);break;case 12:_h(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,jm(o)):_h(o);break;default:_h(o)}}function jm(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];yn=p,x2(p,o)}p2(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:rc(8,l,l.return),jm(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,jm(l));break;default:jm(l)}o=o.sibling}}function x2(o,l){for(;yn!==null;){var h=yn;switch(h.tag){case 0:case 11:case 15:rc(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var p=h.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Kc(h.memoizedState.cache)}if(p=h.child,p!==null)p.return=h,yn=p;else e:for(h=o;yn!==null;){p=yn;var v=p.sibling,N=p.return;if(l2(p),p===h){yn=null;break e}if(v!==null){v.return=N,yn=v;break e}yn=N}}}var J3={getCacheForType:function(o){var l=Dr(Ir),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h}},Z3=typeof WeakMap=="function"?WeakMap:Map,Ws=0,rr=null,xs=null,Es=0,Vs=0,Ia=null,ic=!1,au=!1,Xp=!1,ml=0,Pr=0,oc=0,od=0,Jp=0,vi=0,iu=0,kh=null,ja=null,Zp=!1,Qp=0,Nm=1/0,Sm=null,lc=null,Rn=0,cc=null,ou=null,lu=0,eg=0,tg=null,y2=null,Ah=0,sg=null;function Fa(){if((Ws&2)!==0&&Es!==0)return Es&-Es;if(Z.T!==null){var o=il;return o!==0?o:cg()}return jn()}function b2(){vi===0&&(vi=(Es&536870912)===0||Ms?Dt():536870912);var o=bi.current;return o!==null&&(o.flags|=32),vi}function Ba(o,l,h){(o===rr&&(Vs===2||Vs===9)||o.cancelPendingCommit!==null)&&(cu(o,0),dc(o,Es,vi,!1)),fs(o,h),((Ws&2)===0||o!==rr)&&(o===rr&&((Ws&2)===0&&(od|=h),Pr===4&&dc(o,Es,vi,!1)),Eo(o))}function v2(o,l,h){if((Ws&6)!==0)throw Error(r(327));var p=!h&&(l&124)===0&&(l&o.expiredLanes)===0||At(o,l),v=p?tS(o,l):ag(o,l,!0),N=p;do{if(v===0){au&&!p&&dc(o,l,0,!1);break}else{if(h=o.current.alternate,N&&!Q3(h)){v=ag(o,l,!1),N=!1;continue}if(v===2){if(N=l,o.errorRecoveryDisabledLanes&N)var D=0;else D=o.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var X=o;v=kh;var ge=X.current.memoizedState.isDehydrated;if(ge&&(cu(X,D).flags|=256),D=ag(X,D,!1),D!==2){if(Xp&&!ge){X.errorRecoveryDisabledLanes|=N,od|=N,v=4;break e}N=ja,ja=v,N!==null&&(ja===null?ja=N:ja.push.apply(ja,N))}v=D}if(N=!1,v!==2)continue}}if(v===1){cu(o,0),dc(o,l,0,!0);break}e:{switch(p=o,N=v,N){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:dc(p,l,vi,!ic);break e;case 2:ja=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(v=Qp+300-st(),10<v)){if(dc(p,l,vi,!ic),bs(p,0,!0)!==0)break e;p.timeoutHandle=K2(w2.bind(null,p,h,ja,Sm,Zp,l,vi,od,iu,ic,N,2,-0,0),v);break e}w2(p,h,ja,Sm,Zp,l,vi,od,iu,ic,N,0,-0,0)}}break}while(!0);Eo(o)}function w2(o,l,h,p,v,N,D,X,ge,Te,Ve,Ke,Re,De){if(o.timeoutHandle=-1,Ke=l.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(Rh={stylesheets:null,count:0,unsuspend:RS},m2(l),Ke=DS(),Ke!==null)){o.cancelPendingCommit=Ke(C2.bind(null,o,l,N,h,p,v,D,X,ge,Ve,1,Re,De)),dc(o,N,D,!Te);return}C2(o,l,N,h,p,v,D,X,ge)}function Q3(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var p=0;p<h.length;p++){var v=h[p],N=v.getSnapshot;v=v.value;try{if(!Yr(N(),v))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function dc(o,l,h,p){l&=~Jp,l&=~od,o.suspendedLanes|=l,o.pingedLanes&=~l,p&&(o.warmLanes|=l),p=o.expirationTimes;for(var v=l;0<v;){var N=31-rt(v),D=1<<N;p[N]=-1,v&=~D}h!==0&&ts(o,h,l)}function _m(){return(Ws&6)===0?(Ch(0),!1):!0}function rg(){if(xs!==null){if(Vs===0)var o=xs.return;else o=xs,Gi=Xr=null,an(o),tu=null,yh=0,o=xs;for(;o!==null;)e2(o.alternate,o),o=o.return;xs=null}}function cu(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,xS(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),rg(),rr=o,xs=h=hi(o.current,null),Es=l,Vs=0,Ia=null,ic=!1,au=At(o,l),Xp=!1,iu=vi=Jp=od=oc=Pr=0,ja=kh=null,Zp=!1,(l&8)!==0&&(l|=l&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=l;0<p;){var v=31-rt(p),N=1<<v;l|=o[v],p&=~N}return ml=l,Hc(),h}function j2(o,l){vt=null,Z.H=hm,l===H||l===J?(l=we(),Vs=3):l===G?(l=we(),Vs=4):Vs=l===zy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ia=l,xs===null&&(Pr=1,xm(o,na(l,o.current)))}function N2(){var o=Z.H;return Z.H=hm,o===null?hm:o}function S2(){var o=Z.A;return Z.A=J3,o}function ng(){Pr=4,ic||(Es&4194048)!==Es&&bi.current!==null||(au=!0),(oc&134217727)===0&&(od&134217727)===0||rr===null||dc(rr,Es,vi,!1)}function ag(o,l,h){var p=Ws;Ws|=2;var v=N2(),N=S2();(rr!==o||Es!==l)&&(Sm=null,cu(o,l)),l=!1;var D=Pr;e:do try{if(Vs!==0&&xs!==null){var X=xs,ge=Ia;switch(Vs){case 8:rg(),D=6;break e;case 3:case 2:case 9:case 6:bi.current===null&&(l=!0);var Te=Vs;if(Vs=0,Ia=null,du(o,X,ge,Te),h&&au){D=0;break e}break;default:Te=Vs,Vs=0,Ia=null,du(o,X,ge,Te)}}eS(),D=Pr;break}catch(Ve){j2(o,Ve)}while(!0);return l&&o.shellSuspendCounter++,Gi=Xr=null,Ws=p,Z.H=v,Z.A=N,xs===null&&(rr=null,Es=0,Hc()),D}function eS(){for(;xs!==null;)_2(xs)}function tS(o,l){var h=Ws;Ws|=2;var p=N2(),v=S2();rr!==o||Es!==l?(Sm=null,Nm=st()+500,cu(o,l)):au=At(o,l);e:do try{if(Vs!==0&&xs!==null){l=xs;var N=Ia;t:switch(Vs){case 1:Vs=0,Ia=null,du(o,l,N,1);break;case 2:case 9:if(ce(N)){Vs=0,Ia=null,k2(l);break}l=function(){Vs!==2&&Vs!==9||rr!==o||(Vs=7),Eo(o)},N.then(l,l);break e;case 3:Vs=7;break e;case 4:Vs=5;break e;case 7:ce(N)?(Vs=0,Ia=null,k2(l)):(Vs=0,Ia=null,du(o,l,N,7));break;case 5:var D=null;switch(xs.tag){case 26:D=xs.memoizedState;case 5:case 27:var X=xs;if(!D||ob(D)){Vs=0,Ia=null;var ge=X.sibling;if(ge!==null)xs=ge;else{var Te=X.return;Te!==null?(xs=Te,km(Te)):xs=null}break t}}Vs=0,Ia=null,du(o,l,N,5);break;case 6:Vs=0,Ia=null,du(o,l,N,6);break;case 8:rg(),Pr=6;break e;default:throw Error(r(462))}}sS();break}catch(Ve){j2(o,Ve)}while(!0);return Gi=Xr=null,Z.H=p,Z.A=v,Ws=h,xs!==null?0:(rr=null,Es=0,Hc(),Pr)}function sS(){for(;xs!==null&&!ne();)_2(xs)}function _2(o){var l=Zy(o.alternate,o,ml);o.memoizedProps=o.pendingProps,l===null?km(o):xs=l}function k2(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=$y(h,l,l.pendingProps,l.type,void 0,Es);break;case 11:l=$y(h,l,l.pendingProps,l.type.render,l.ref,Es);break;case 5:an(l);default:e2(h,l),l=xs=Vc(l,ml),l=Zy(h,l,ml)}o.memoizedProps=o.pendingProps,l===null?km(o):xs=l}function du(o,l,h,p){Gi=Xr=null,an(l),tu=null,yh=0;var v=l.return;try{if(V3(o,v,l,h,Es)){Pr=1,xm(o,na(h,o.current)),xs=null;return}}catch(N){if(v!==null)throw xs=v,N;Pr=1,xm(o,na(h,o.current)),xs=null;return}l.flags&32768?(Ms||p===1?o=!0:au||(Es&536870912)!==0?o=!1:(ic=o=!0,(p===2||p===9||p===3||p===6)&&(p=bi.current,p!==null&&p.tag===13&&(p.flags|=16384))),A2(l,o)):km(l)}function km(o){var l=o;do{if((l.flags&32768)!==0){A2(l,ic);return}o=l.return;var h=G3(l.alternate,l,ml);if(h!==null){xs=h;return}if(l=l.sibling,l!==null){xs=l;return}xs=l=o}while(l!==null);Pr===0&&(Pr=5)}function A2(o,l){do{var h=Y3(o.alternate,o);if(h!==null){h.flags&=32767,xs=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){xs=o;return}xs=o=h}while(o!==null);Pr=6,xs=null}function C2(o,l,h,p,v,N,D,X,ge){o.cancelPendingCommit=null;do Am();while(Rn!==0);if((Ws&6)!==0)throw Error(r(327));if(l!==null){if(l===o.current)throw Error(r(177));if(N=l.lanes|l.childLanes,N|=qd,Ot(o,h,N,D,X,ge),o===rr&&(xs=rr=null,Es=0),ou=l,cc=o,lu=h,eg=N,tg=v,y2=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,iS(qe,function(){return M2(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null,v=se.p,se.p=2,D=Ws,Ws|=4;try{K3(o,l,h)}finally{Ws=D,se.p=v,Z.T=p}}Rn=1,L2(),E2(),P2()}}function L2(){if(Rn===1){Rn=0;var o=cc,l=ou,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=Z.T,Z.T=null;var p=se.p;se.p=2;var v=Ws;Ws|=4;try{u2(l,o);var N=xg,D=Vl(o.containerInfo),X=N.focusedElem,ge=N.selectionRange;if(D!==X&&X&&X.ownerDocument&&ci(X.ownerDocument.documentElement,X)){if(ge!==null&&An(X)){var Te=ge.start,Ve=ge.end;if(Ve===void 0&&(Ve=Te),"selectionStart"in X)X.selectionStart=Te,X.selectionEnd=Math.min(Ve,X.value.length);else{var Ke=X.ownerDocument||document,Re=Ke&&Ke.defaultView||window;if(Re.getSelection){var De=Re.getSelection(),$t=X.textContent.length,zt=Math.min(ge.start,$t),Zs=ge.end===void 0?zt:Math.min(ge.end,$t);!De.extend&&zt>Zs&&(D=Zs,Zs=zt,zt=D);var Ne=wo(X,zt),be=wo(X,Zs);if(Ne&&be&&(De.rangeCount!==1||De.anchorNode!==Ne.node||De.anchorOffset!==Ne.offset||De.focusNode!==be.node||De.focusOffset!==be.offset)){var Ae=Ke.createRange();Ae.setStart(Ne.node,Ne.offset),De.removeAllRanges(),zt>Zs?(De.addRange(Ae),De.extend(be.node,be.offset)):(Ae.setEnd(be.node,be.offset),De.addRange(Ae))}}}}for(Ke=[],De=X;De=De.parentNode;)De.nodeType===1&&Ke.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<Ke.length;X++){var $e=Ke[X];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Bm=!!gg,xg=gg=null}finally{Ws=v,se.p=p,Z.T=h}}o.current=l,Rn=2}}function E2(){if(Rn===2){Rn=0;var o=cc,l=ou,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=Z.T,Z.T=null;var p=se.p;se.p=2;var v=Ws;Ws|=4;try{o2(o,l.alternate,l)}finally{Ws=v,se.p=p,Z.T=h}}Rn=3}}function P2(){if(Rn===4||Rn===3){Rn=0,lt();var o=cc,l=ou,h=lu,p=y2;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Rn=5:(Rn=0,ou=cc=null,T2(o,o.pendingLanes));var v=o.pendingLanes;if(v===0&&(lc=null),$r(h),l=l.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(ut,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=Z.T,v=se.p,se.p=2,Z.T=null;try{for(var N=o.onRecoverableError,D=0;D<p.length;D++){var X=p[D];N(X.value,{componentStack:X.stack})}}finally{Z.T=l,se.p=v}}(lu&3)!==0&&Am(),Eo(o),v=o.pendingLanes,(h&4194090)!==0&&(v&42)!==0?o===sg?Ah++:(Ah=0,sg=o):Ah=0,Ch(0)}}function T2(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Kc(l)))}function Am(o){return L2(),E2(),P2(),M2()}function M2(){if(Rn!==5)return!1;var o=cc,l=eg;eg=0;var h=$r(lu),p=Z.T,v=se.p;try{se.p=32>h?32:h,Z.T=null,h=tg,tg=null;var N=cc,D=lu;if(Rn=0,ou=cc=null,lu=0,(Ws&6)!==0)throw Error(r(331));var X=Ws;if(Ws|=4,g2(N.current),f2(N,N.current,D,h),Ws=X,Ch(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(ut,N)}catch{}return!0}finally{se.p=v,Z.T=p,T2(o,l)}}function R2(o,l,h){l=na(h,l),l=Rp(o.stateNode,l,2),o=Je(o,l,2),o!==null&&(fs(o,2),Eo(o))}function tr(o,l,h){if(o.tag===3)R2(o,o,h);else for(;l!==null;){if(l.tag===3){R2(l,o,h);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(lc===null||!lc.has(p))){o=na(h,o),h=Fy(2),p=Je(l,h,2),p!==null&&(By(h,p,l,o),fs(p,2),Eo(p));break}}l=l.return}}function ig(o,l,h){var p=o.pingCache;if(p===null){p=o.pingCache=new Z3;var v=new Set;p.set(l,v)}else v=p.get(l),v===void 0&&(v=new Set,p.set(l,v));v.has(h)||(Xp=!0,v.add(h),o=rS.bind(null,o,l,h),l.then(o,o))}function rS(o,l,h){var p=o.pingCache;p!==null&&p.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,rr===o&&(Es&h)===h&&(Pr===4||Pr===3&&(Es&62914560)===Es&&300>st()-Qp?(Ws&2)===0&&cu(o,0):Jp|=h,iu===Es&&(iu=0)),Eo(o)}function O2(o,l){l===0&&(l=Is()),o=el(o,l),o!==null&&(fs(o,l),Eo(o))}function nS(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),O2(o,h)}function aS(o,l){var h=0;switch(o.tag){case 13:var p=o.stateNode,v=o.memoizedState;v!==null&&(h=v.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),O2(o,h)}function iS(o,l){return Fe(o,l)}var Cm=null,uu=null,og=!1,Lm=!1,lg=!1,ld=0;function Eo(o){o!==uu&&o.next===null&&(uu===null?Cm=uu=o:uu=uu.next=o),Lm=!0,og||(og=!0,lS())}function Ch(o,l){if(!lg&&Lm){lg=!0;do for(var h=!1,p=Cm;p!==null;){if(o!==0){var v=p.pendingLanes;if(v===0)var N=0;else{var D=p.suspendedLanes,X=p.pingedLanes;N=(1<<31-rt(42|o)+1)-1,N&=v&~(D&~X),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(h=!0,B2(p,N))}else N=Es,N=bs(p,p===rr?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||At(p,N)||(h=!0,B2(p,N));p=p.next}while(h);lg=!1}}function oS(){D2()}function D2(){Lm=og=!1;var o=0;ld!==0&&(gS()&&(o=ld),ld=0);for(var l=st(),h=null,p=Cm;p!==null;){var v=p.next,N=I2(p,l);N===0?(p.next=null,h===null?Cm=v:h.next=v,v===null&&(uu=h)):(h=p,(o!==0||(N&3)!==0)&&(Lm=!0)),p=v}Ch(o)}function I2(o,l){for(var h=o.suspendedLanes,p=o.pingedLanes,v=o.expirationTimes,N=o.pendingLanes&-62914561;0<N;){var D=31-rt(N),X=1<<D,ge=v[D];ge===-1?((X&h)===0||(X&p)!==0)&&(v[D]=ns(X,l)):ge<=l&&(o.expiredLanes|=X),N&=~X}if(l=rr,h=Es,h=bs(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,h===0||o===l&&(Vs===2||Vs===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&je(p),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||At(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(p!==null&&je(p),$r(h)){case 2:case 8:h=et;break;case 32:h=qe;break;case 268435456:h=dt;break;default:h=qe}return p=F2.bind(null,o),h=Fe(h,p),o.callbackPriority=l,o.callbackNode=h,l}return p!==null&&p!==null&&je(p),o.callbackPriority=2,o.callbackNode=null,2}function F2(o,l){if(Rn!==0&&Rn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Am()&&o.callbackNode!==h)return null;var p=Es;return p=bs(o,o===rr?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(v2(o,p,l),I2(o,st()),o.callbackNode!=null&&o.callbackNode===h?F2.bind(null,o):null)}function B2(o,l){if(Am())return null;v2(o,l,!0)}function lS(){yS(function(){(Ws&6)!==0?Fe(ze,oS):D2()})}function cg(){return ld===0&&(ld=Dt()),ld}function z2(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ea(""+o)}function U2(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function cS(o,l,h,p,v){if(l==="submit"&&h&&h.stateNode===v){var N=z2((v[as]||null).action),D=p.submitter;D&&(l=(l=D[as]||null)?z2(l.formAction):D.getAttribute("formAction"),l!==null&&(N=l,D=null));var X=new po("action","action",null,p,v);o.push({event:X,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ld!==0){var ge=D?U2(v,D):new FormData(v);yi(h,{pending:!0,data:ge,method:v.method,action:N},null,ge)}}else typeof N=="function"&&(X.preventDefault(),ge=D?U2(v,D):new FormData(v),yi(h,{pending:!0,data:ge,method:v.method,action:N},N,ge))},currentTarget:v}]})}}for(var dg=0;dg<Ud.length;dg++){var ug=Ud[dg],dS=ug.toLowerCase(),uS=ug[0].toUpperCase()+ug.slice(1);ya(dS,"on"+uS)}ya(Zu,"onAnimationEnd"),ya(Qu,"onAnimationIteration"),ya(eh,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya($f,"onTransitionRun"),ya(Gf,"onTransitionStart"),ya(Yf,"onTransitionCancel"),ya(th,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lh));function q2(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var p=o[h],v=p.event;p=p.listeners;e:{var N=void 0;if(l)for(var D=p.length-1;0<=D;D--){var X=p[D],ge=X.instance,Te=X.currentTarget;if(X=X.listener,ge!==N&&v.isPropagationStopped())break e;N=X,v.currentTarget=Te;try{N(v)}catch(Ve){gm(Ve)}v.currentTarget=null,N=ge}else for(D=0;D<p.length;D++){if(X=p[D],ge=X.instance,Te=X.currentTarget,X=X.listener,ge!==N&&v.isPropagationStopped())break e;N=X,v.currentTarget=Te;try{N(v)}catch(Ve){gm(Ve)}v.currentTarget=null,N=ge}}}}function ys(o,l){var h=l[Ft];h===void 0&&(h=l[Ft]=new Set);var p=o+"__bubble";h.has(p)||(H2(l,o,2,!1),h.add(p))}function hg(o,l,h){var p=0;l&&(p|=4),H2(h,o,p,l)}var Em="_reactListening"+Math.random().toString(36).slice(2);function fg(o){if(!o[Em]){o[Em]=!0,Fs.forEach(function(h){h!=="selectionchange"&&(hS.has(h)||hg(h,!1,o),hg(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Em]||(l[Em]=!0,hg("selectionchange",!1,l))}}function H2(o,l,h,p){switch(fb(l)){case 2:var v=BS;break;case 8:v=zS;break;default:v=Ag}h=v.bind(null,l,h,o),v=void 0,!La||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),p?v!==void 0?o.addEventListener(l,h,{capture:!0,passive:v}):o.addEventListener(l,h,!0):v!==void 0?o.addEventListener(l,h,{passive:v}):o.addEventListener(l,h,!1)}function mg(o,l,h,p,v){var N=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var X=p.stateNode.containerInfo;if(X===v)break;if(D===4)for(D=p.return;D!==null;){var ge=D.tag;if((ge===3||ge===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;X!==null;){if(D=os(X),D===null)return;if(ge=D.tag,ge===5||ge===6||ge===26||ge===27){p=N=D;continue e}X=X.parentNode}}p=p.return}Fd(function(){var Te=N,Ve=Ic(h),Ke=[];e:{var Re=sh.get(o);if(Re!==void 0){var De=po,$t=o;switch(o){case"keypress":if(ei(h)===0)break e;case"keydown":case"keyup":De=Ar;break;case"focusin":$t="focus",De=_;break;case"focusout":$t="blur",De=_;break;case"beforeblur":case"afterblur":De=_;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=sa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=rn;break;case Zu:case Qu:case eh:De=de;break;case th:De=xo;break;case"scroll":case"scrollend":De=Yo;break;case"wheel":De=Bd;break;case"copy":case"cut":case"paste":De=Se;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Cr;break;case"toggle":case"beforetoggle":De=Ta}var zt=(l&4)!==0,Zs=!zt&&(o==="scroll"||o==="scrollend"),Ne=zt?Re!==null?Re+"Capture":null:Re;zt=[];for(var be=Te,Ae;be!==null;){var $e=be;if(Ae=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||Ae===null||Ne===null||($e=$o(be,Ne),$e!=null&&zt.push(Eh(be,$e,Ae))),Zs)break;be=be.return}0<zt.length&&(Re=new De(Re,$t,null,h,Ve),Ke.push({event:Re,listeners:zt}))}}if((l&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",De=o==="mouseout"||o==="pointerout",Re&&h!==Ja&&($t=h.relatedTarget||h.fromElement)&&(os($t)||$t[Ps]))break e;if((De||Re)&&(Re=Ve.window===Ve?Ve:(Re=Ve.ownerDocument)?Re.defaultView||Re.parentWindow:window,De?($t=h.relatedTarget||h.toElement,De=Te,$t=$t?os($t):null,$t!==null&&(Zs=i($t),zt=$t.tag,$t!==Zs||zt!==5&&zt!==27&&zt!==6)&&($t=null)):(De=null,$t=Te),De!==$t)){if(zt=Fl,$e="onMouseLeave",Ne="onMouseEnter",be="mouse",(o==="pointerout"||o==="pointerover")&&(zt=Cr,$e="onPointerLeave",Ne="onPointerEnter",be="pointer"),Zs=De==null?Re:vs(De),Ae=$t==null?Re:vs($t),Re=new zt($e,be+"leave",De,h,Ve),Re.target=Zs,Re.relatedTarget=Ae,$e=null,os(Ve)===Te&&(zt=new zt(Ne,be+"enter",$t,h,Ve),zt.target=Ae,zt.relatedTarget=Zs,$e=zt),Zs=$e,De&&$t)t:{for(zt=De,Ne=$t,be=0,Ae=zt;Ae;Ae=hu(Ae))be++;for(Ae=0,$e=Ne;$e;$e=hu($e))Ae++;for(;0<be-Ae;)zt=hu(zt),be--;for(;0<Ae-be;)Ne=hu(Ne),Ae--;for(;be--;){if(zt===Ne||Ne!==null&&zt===Ne.alternate)break t;zt=hu(zt),Ne=hu(Ne)}zt=null}else zt=null;De!==null&&W2(Ke,Re,De,zt,!1),$t!==null&&Zs!==null&&W2(Ke,Zs,$t,zt,!0)}}e:{if(Re=Te?vs(Te):window,De=Re.nodeName&&Re.nodeName.toLowerCase(),De==="select"||De==="input"&&Re.type==="file")var wt=kn;else if(ra(Re))if(bo)wt=Wl;else{wt=ii;var gs=Xu}else De=Re.nodeName,!De||De.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Te&&Un(Te.elementType)&&(wt=kn):wt=oi;if(wt&&(wt=wt(o,Te))){Ul(Ke,wt,h,Ve);break e}gs&&gs(o,Re,Te),o==="focusout"&&Te&&Re.type==="number"&&Te.memoizedProps.value!=null&&Vo(Re,"number",Re.value)}switch(gs=Te?vs(Te):window,o){case"focusin":(ra(gs)||gs.contentEditable==="true")&&(Ts=gs,Us=Te,Qs=null);break;case"focusout":Qs=Us=Ts=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,ui(Ke,h,Ve);break;case"selectionchange":if(di)break;case"keydown":case"keyup":ui(Ke,h,Ve)}var Tt;if(yo)e:{switch(o){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Bi?Bl(o,h)&&(qt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(qt="onCompositionStart");qt&&(ri&&h.locale!=="ko"&&(Bi||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Bi&&(Tt=Il()):(Qa=Ve,Bc="value"in Qa?Qa.value:Qa.textContent,Bi=!0)),gs=Pm(Te,qt),0<gs.length&&(qt=new Xe(qt,o,null,h,Ve),Ke.push({event:qt,listeners:gs}),Tt?qt.data=Tt:(Tt=mn(h),Tt!==null&&(qt.data=Tt)))),(Tt=Gr?zl(o,h):zd(o,h))&&(qt=Pm(Te,"onBeforeInput"),0<qt.length&&(gs=new Xe("onBeforeInput","beforeinput",null,h,Ve),Ke.push({event:gs,listeners:qt}),gs.data=Tt)),cS(Ke,o,Te,h,Ve)}q2(Ke,l)})}function Eh(o,l,h){return{instance:o,listener:l,currentTarget:h}}function Pm(o,l){for(var h=l+"Capture",p=[];o!==null;){var v=o,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=$o(o,h),v!=null&&p.unshift(Eh(o,v,N)),v=$o(o,l),v!=null&&p.push(Eh(o,v,N))),o.tag===3)return p;o=o.return}return[]}function hu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function W2(o,l,h,p,v){for(var N=l._reactName,D=[];h!==null&&h!==p;){var X=h,ge=X.alternate,Te=X.stateNode;if(X=X.tag,ge!==null&&ge===p)break;X!==5&&X!==26&&X!==27||Te===null||(ge=Te,v?(Te=$o(h,N),Te!=null&&D.unshift(Eh(h,Te,ge))):v||(Te=$o(h,N),Te!=null&&D.push(Eh(h,Te,ge)))),h=h.return}D.length!==0&&o.push({event:l,listeners:D})}var fS=/\r\n?/g,mS=/\u0000|\uFFFD/g;function V2(o){return(typeof o=="string"?o:""+o).replace(fS,`
`).replace(mS,"")}function $2(o,l){return l=V2(l),V2(o)===l}function Tm(){}function Js(o,l,h,p,v,N){switch(h){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||pt(o,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&pt(o,""+p);break;case"className":en(o,"class",p);break;case"tabIndex":en(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":en(o,h,p);break;case"style":tn(o,p,N);break;case"data":if(l!=="object"){en(o,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=ea(""+p),o.setAttribute(h,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(h==="formAction"?(l!=="input"&&Js(o,l,"name",v.name,v,null),Js(o,l,"formEncType",v.formEncType,v,null),Js(o,l,"formMethod",v.formMethod,v,null),Js(o,l,"formTarget",v.formTarget,v,null)):(Js(o,l,"encType",v.encType,v,null),Js(o,l,"method",v.method,v,null),Js(o,l,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(h);break}p=ea(""+p),o.setAttribute(h,p);break;case"onClick":p!=null&&(o.onclick=Tm);break;case"onScroll":p!=null&&ys("scroll",o);break;case"onScrollEnd":p!=null&&ys("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}h=ea(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""+p):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":p===!0?o.setAttribute(h,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(h,p):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(h,p):o.removeAttribute(h);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(h):o.setAttribute(h,p);break;case"popover":ys("beforetoggle",o),ys("toggle",o),Ei(o,"popover",p);break;case"xlinkActuate":Nn(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Nn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Nn(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Nn(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Nn(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Nn(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Nn(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Nn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Nn(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ei(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=sn.get(h)||h,Ei(o,h,p))}}function pg(o,l,h,p,v,N){switch(h){case"style":tn(o,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(h=p.__html,h!=null){if(v.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof p=="string"?pt(o,p):(typeof p=="number"||typeof p=="bigint")&&pt(o,""+p);break;case"onScroll":p!=null&&ys("scroll",o);break;case"onScrollEnd":p!=null&&ys("scrollend",o);break;case"onClick":p!=null&&(o.onclick=Tm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qn.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(v=h.endsWith("Capture"),l=h.slice(2,v?h.length-7:void 0),N=o[as]||null,N=N!=null?N[h]:null,typeof N=="function"&&o.removeEventListener(l,N,v),typeof p=="function")){typeof N!="function"&&N!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,p,v);break e}h in o?o[h]=p:p===!0?o.setAttribute(h,""):Ei(o,h,p)}}}function On(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ys("error",o),ys("load",o);var p=!1,v=!1,N;for(N in h)if(h.hasOwnProperty(N)){var D=h[N];if(D!=null)switch(N){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Js(o,l,N,D,h,null)}}v&&Js(o,l,"srcSet",h.srcSet,h,null),p&&Js(o,l,"src",h.src,h,null);return;case"input":ys("invalid",o);var X=N=D=v=null,ge=null,Te=null;for(p in h)if(h.hasOwnProperty(p)){var Ve=h[p];if(Ve!=null)switch(p){case"name":v=Ve;break;case"type":D=Ve;break;case"checked":ge=Ve;break;case"defaultChecked":Te=Ve;break;case"value":N=Ve;break;case"defaultValue":X=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,l));break;default:Js(o,l,p,Ve,h,null)}}Mi(o,N,X,ge,Te,D,v,!1),_n(o);return;case"select":ys("invalid",o),p=D=N=null;for(v in h)if(h.hasOwnProperty(v)&&(X=h[v],X!=null))switch(v){case"value":N=X;break;case"defaultValue":D=X;break;case"multiple":p=X;default:Js(o,l,v,X,h,null)}l=N,h=D,o.multiple=!!p,l!=null?W(o,!!p,l,!1):h!=null&&W(o,!!p,h,!0);return;case"textarea":ys("invalid",o),N=v=p=null;for(D in h)if(h.hasOwnProperty(D)&&(X=h[D],X!=null))switch(D){case"value":p=X;break;case"defaultValue":v=X;break;case"children":N=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(91));break;default:Js(o,l,D,X,h,null)}tt(o,p,v,N),_n(o);return;case"option":for(ge in h)if(h.hasOwnProperty(ge)&&(p=h[ge],p!=null))switch(ge){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Js(o,l,ge,p,h,null)}return;case"dialog":ys("beforetoggle",o),ys("toggle",o),ys("cancel",o),ys("close",o);break;case"iframe":case"object":ys("load",o);break;case"video":case"audio":for(p=0;p<Lh.length;p++)ys(Lh[p],o);break;case"image":ys("error",o),ys("load",o);break;case"details":ys("toggle",o);break;case"embed":case"source":case"link":ys("error",o),ys("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in h)if(h.hasOwnProperty(Te)&&(p=h[Te],p!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Js(o,l,Te,p,h,null)}return;default:if(Un(l)){for(Ve in h)h.hasOwnProperty(Ve)&&(p=h[Ve],p!==void 0&&pg(o,l,Ve,p,h,void 0));return}}for(X in h)h.hasOwnProperty(X)&&(p=h[X],p!=null&&Js(o,l,X,p,h,null))}function pS(o,l,h,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,D=null,X=null,ge=null,Te=null,Ve=null;for(De in h){var Ke=h[De];if(h.hasOwnProperty(De)&&Ke!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":ge=Ke;default:p.hasOwnProperty(De)||Js(o,l,De,null,p,Ke)}}for(var Re in p){var De=p[Re];if(Ke=h[Re],p.hasOwnProperty(Re)&&(De!=null||Ke!=null))switch(Re){case"type":N=De;break;case"name":v=De;break;case"checked":Te=De;break;case"defaultChecked":Ve=De;break;case"value":D=De;break;case"defaultValue":X=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(r(137,l));break;default:De!==Ke&&Js(o,l,Re,De,p,Ke)}}Xa(o,D,X,ge,Te,Ve,N,v);return;case"select":De=D=X=Re=null;for(N in h)if(ge=h[N],h.hasOwnProperty(N)&&ge!=null)switch(N){case"value":break;case"multiple":De=ge;default:p.hasOwnProperty(N)||Js(o,l,N,null,p,ge)}for(v in p)if(N=p[v],ge=h[v],p.hasOwnProperty(v)&&(N!=null||ge!=null))switch(v){case"value":Re=N;break;case"defaultValue":X=N;break;case"multiple":D=N;default:N!==ge&&Js(o,l,v,N,p,ge)}l=X,h=D,p=De,Re!=null?W(o,!!h,Re,!1):!!p!=!!h&&(l!=null?W(o,!!h,l,!0):W(o,!!h,h?[]:"",!1));return;case"textarea":De=Re=null;for(X in h)if(v=h[X],h.hasOwnProperty(X)&&v!=null&&!p.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:Js(o,l,X,null,p,v)}for(D in p)if(v=p[D],N=h[D],p.hasOwnProperty(D)&&(v!=null||N!=null))switch(D){case"value":Re=v;break;case"defaultValue":De=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==N&&Js(o,l,D,v,p,N)}Oe(o,Re,De);return;case"option":for(var $t in h)if(Re=h[$t],h.hasOwnProperty($t)&&Re!=null&&!p.hasOwnProperty($t))switch($t){case"selected":o.selected=!1;break;default:Js(o,l,$t,null,p,Re)}for(ge in p)if(Re=p[ge],De=h[ge],p.hasOwnProperty(ge)&&Re!==De&&(Re!=null||De!=null))switch(ge){case"selected":o.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Js(o,l,ge,Re,p,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zt in h)Re=h[zt],h.hasOwnProperty(zt)&&Re!=null&&!p.hasOwnProperty(zt)&&Js(o,l,zt,null,p,Re);for(Te in p)if(Re=p[Te],De=h[Te],p.hasOwnProperty(Te)&&Re!==De&&(Re!=null||De!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(137,l));break;default:Js(o,l,Te,Re,p,De)}return;default:if(Un(l)){for(var Zs in h)Re=h[Zs],h.hasOwnProperty(Zs)&&Re!==void 0&&!p.hasOwnProperty(Zs)&&pg(o,l,Zs,void 0,p,Re);for(Ve in p)Re=p[Ve],De=h[Ve],!p.hasOwnProperty(Ve)||Re===De||Re===void 0&&De===void 0||pg(o,l,Ve,Re,p,De);return}}for(var Ne in h)Re=h[Ne],h.hasOwnProperty(Ne)&&Re!=null&&!p.hasOwnProperty(Ne)&&Js(o,l,Ne,null,p,Re);for(Ke in p)Re=p[Ke],De=h[Ke],!p.hasOwnProperty(Ke)||Re===De||Re==null&&De==null||Js(o,l,Ke,Re,p,De)}var gg=null,xg=null;function Mm(o){return o.nodeType===9?o:o.ownerDocument}function G2(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y2(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function yg(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var bg=null;function gS(){var o=window.event;return o&&o.type==="popstate"?o===bg?!1:(bg=o,!0):(bg=null,!1)}var K2=typeof setTimeout=="function"?setTimeout:void 0,xS=typeof clearTimeout=="function"?clearTimeout:void 0,X2=typeof Promise=="function"?Promise:void 0,yS=typeof queueMicrotask=="function"?queueMicrotask:typeof X2<"u"?function(o){return X2.resolve(null).then(o).catch(bS)}:K2;function bS(o){setTimeout(function(){throw o})}function uc(o){return o==="head"}function J2(o,l){var h=l,p=0,v=0;do{var N=h.nextSibling;if(o.removeChild(h),N&&N.nodeType===8)if(h=N.data,h==="/$"){if(0<p&&8>p){h=p;var D=o.ownerDocument;if(h&1&&Ph(D.documentElement),h&2&&Ph(D.body),h&4)for(h=D.head,Ph(h),D=h.firstChild;D;){var X=D.nextSibling,ge=D.nodeName;D[It]||ge==="SCRIPT"||ge==="STYLE"||ge==="LINK"&&D.rel.toLowerCase()==="stylesheet"||h.removeChild(D),D=X}}if(v===0){o.removeChild(N),Bh(l);return}v--}else h==="$"||h==="$?"||h==="$!"?v++:p=h.charCodeAt(0)-48;else p=0;h=N}while(h);Bh(l)}function vg(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":vg(h),Cs(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function vS(o,l,h,p){for(;o.nodeType===1;){var v=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[It])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(N=o.getAttribute("rel"),N==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(N!==v.rel||o.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||o.getAttribute("title")!==(v.title==null?null:v.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(N=o.getAttribute("src"),(N!==(v.src==null?null:v.src)||o.getAttribute("type")!==(v.type==null?null:v.type)||o.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&o.getAttribute("name")===N)return o}else return o;if(o=eo(o.nextSibling),o===null)break}return null}function wS(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=eo(o.nextSibling),o===null))return null;return o}function wg(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function jS(o,l){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")l();else{var p=function(){l(),h.removeEventListener("DOMContentLoaded",p)};h.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function eo(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return o}var jg=null;function Z2(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return o;l--}else h==="/$"&&l++}o=o.previousSibling}return null}function Q2(o,l,h){switch(l=Mm(h),o){case"html":if(o=l.documentElement,!o)throw Error(r(452));return o;case"head":if(o=l.head,!o)throw Error(r(453));return o;case"body":if(o=l.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Ph(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);Cs(o)}var wi=new Map,eb=new Set;function Rm(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var pl=se.d;se.d={f:NS,r:SS,D:_S,C:kS,L:AS,m:CS,X:ES,S:LS,M:PS};function NS(){var o=pl.f(),l=_m();return o||l}function SS(o){var l=Zt(o);l!==null&&l.tag===5&&l.type==="form"?rd(l):pl.r(o)}var fu=typeof document>"u"?null:document;function tb(o,l,h){var p=fu;if(p&&typeof l=="string"&&l){var v=ws(l);v='link[rel="'+o+'"][href="'+v+'"]',typeof h=="string"&&(v+='[crossorigin="'+h+'"]'),eb.has(v)||(eb.add(v),o={rel:o,crossOrigin:h,href:l},p.querySelector(v)===null&&(l=p.createElement("link"),On(l,"link",o),_s(l),p.head.appendChild(l)))}}function _S(o){pl.D(o),tb("dns-prefetch",o,null)}function kS(o,l){pl.C(o,l),tb("preconnect",o,l)}function AS(o,l,h){pl.L(o,l,h);var p=fu;if(p&&o&&l){var v='link[rel="preload"][as="'+ws(l)+'"]';l==="image"&&h&&h.imageSrcSet?(v+='[imagesrcset="'+ws(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(v+='[imagesizes="'+ws(h.imageSizes)+'"]')):v+='[href="'+ws(o)+'"]';var N=v;switch(l){case"style":N=mu(o);break;case"script":N=pu(o)}wi.has(N)||(o=m({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),wi.set(N,o),p.querySelector(v)!==null||l==="style"&&p.querySelector(Th(N))||l==="script"&&p.querySelector(Mh(N))||(l=p.createElement("link"),On(l,"link",o),_s(l),p.head.appendChild(l)))}}function CS(o,l){pl.m(o,l);var h=fu;if(h&&o){var p=l&&typeof l.as=="string"?l.as:"script",v='link[rel="modulepreload"][as="'+ws(p)+'"][href="'+ws(o)+'"]',N=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=pu(o)}if(!wi.has(N)&&(o=m({rel:"modulepreload",href:o},l),wi.set(N,o),h.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Mh(N)))return}p=h.createElement("link"),On(p,"link",o),_s(p),h.head.appendChild(p)}}}function LS(o,l,h){pl.S(o,l,h);var p=fu;if(p&&o){var v=ls(p).hoistableStyles,N=mu(o);l=l||"default";var D=v.get(N);if(!D){var X={loading:0,preload:null};if(D=p.querySelector(Th(N)))X.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":l},h),(h=wi.get(N))&&Ng(o,h);var ge=D=p.createElement("link");_s(ge),On(ge,"link",o),ge._p=new Promise(function(Te,Ve){ge.onload=Te,ge.onerror=Ve}),ge.addEventListener("load",function(){X.loading|=1}),ge.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Om(D,l,p)}D={type:"stylesheet",instance:D,count:1,state:X},v.set(N,D)}}}function ES(o,l){pl.X(o,l);var h=fu;if(h&&o){var p=ls(h).hoistableScripts,v=pu(o),N=p.get(v);N||(N=h.querySelector(Mh(v)),N||(o=m({src:o,async:!0},l),(l=wi.get(v))&&Sg(o,l),N=h.createElement("script"),_s(N),On(N,"link",o),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function PS(o,l){pl.M(o,l);var h=fu;if(h&&o){var p=ls(h).hoistableScripts,v=pu(o),N=p.get(v);N||(N=h.querySelector(Mh(v)),N||(o=m({src:o,async:!0,type:"module"},l),(l=wi.get(v))&&Sg(o,l),N=h.createElement("script"),_s(N),On(N,"link",o),h.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function sb(o,l,h,p){var v=(v=fe.current)?Rm(v):null;if(!v)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=mu(h.href),h=ls(v).hoistableStyles,p=h.get(l),p||(p={type:"style",instance:null,count:0,state:null},h.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=mu(h.href);var N=ls(v).hoistableStyles,D=N.get(o);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(o,D),(N=v.querySelector(Th(o)))&&!N._p&&(D.instance=N,D.state.loading=5),wi.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},wi.set(o,h),N||TS(v,o,h,D.state))),l&&p===null)throw Error(r(528,""));return D}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=pu(h),h=ls(v).hoistableScripts,p=h.get(l),p||(p={type:"script",instance:null,count:0,state:null},h.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function mu(o){return'href="'+ws(o)+'"'}function Th(o){return'link[rel="stylesheet"]['+o+"]"}function rb(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function TS(o,l,h,p){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=o.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),On(l,"link",h),_s(l),o.head.appendChild(l))}function pu(o){return'[src="'+ws(o)+'"]'}function Mh(o){return"script[async]"+o}function nb(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var p=o.querySelector('style[data-href~="'+ws(h.href)+'"]');if(p)return l.instance=p,_s(p),p;var v=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),_s(p),On(p,"style",v),Om(p,h.precedence,o),l.instance=p;case"stylesheet":v=mu(h.href);var N=o.querySelector(Th(v));if(N)return l.state.loading|=4,l.instance=N,_s(N),N;p=rb(h),(v=wi.get(v))&&Ng(p,v),N=(o.ownerDocument||o).createElement("link"),_s(N);var D=N;return D._p=new Promise(function(X,ge){D.onload=X,D.onerror=ge}),On(N,"link",p),l.state.loading|=4,Om(N,h.precedence,o),l.instance=N;case"script":return N=pu(h.src),(v=o.querySelector(Mh(N)))?(l.instance=v,_s(v),v):(p=h,(v=wi.get(N))&&(p=m({},h),Sg(p,v)),o=o.ownerDocument||o,v=o.createElement("script"),_s(v),On(v,"link",p),o.head.appendChild(v),l.instance=v);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,Om(p,h.precedence,o));return l.instance}function Om(o,l,h){for(var p=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,N=v,D=0;D<p.length;D++){var X=p[D];if(X.dataset.precedence===l)N=X;else if(N!==v)break}N?N.parentNode.insertBefore(o,N.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function Ng(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function Sg(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var Dm=null;function ab(o,l,h){if(Dm===null){var p=new Map,v=Dm=new Map;v.set(h,p)}else v=Dm,p=v.get(h),p||(p=new Map,v.set(h,p));if(p.has(o))return p;for(p.set(o,null),h=h.getElementsByTagName(o),v=0;v<h.length;v++){var N=h[v];if(!(N[It]||N[ms]||o==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(l)||"";D=o+D;var X=p.get(D);X?X.push(N):p.set(D,[N])}}return p}function ib(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function MS(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return o=l.disabled,typeof l.precedence=="string"&&o==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function ob(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Rh=null;function RS(){}function OS(o,l,h){if(Rh===null)throw Error(r(475));var p=Rh;if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var v=mu(h.href),N=o.querySelector(Th(v));if(N){o=N._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(p.count++,p=Im.bind(p),o.then(p,p)),l.state.loading|=4,l.instance=N,_s(N);return}N=o.ownerDocument||o,h=rb(h),(v=wi.get(v))&&Ng(h,v),N=N.createElement("link"),_s(N);var D=N;D._p=new Promise(function(X,ge){D.onload=X,D.onerror=ge}),On(N,"link",h),l.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(p.count++,l=Im.bind(p),o.addEventListener("load",l),o.addEventListener("error",l))}}function DS(){if(Rh===null)throw Error(r(475));var o=Rh;return o.stylesheets&&o.count===0&&_g(o,o.stylesheets),0<o.count?function(l){var h=setTimeout(function(){if(o.stylesheets&&_g(o,o.stylesheets),o.unsuspend){var p=o.unsuspend;o.unsuspend=null,p()}},6e4);return o.unsuspend=l,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Im(){if(this.count--,this.count===0){if(this.stylesheets)_g(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Fm=null;function _g(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Fm=new Map,l.forEach(IS,o),Fm=null,Im.call(o))}function IS(o,l){if(!(l.state.loading&4)){var h=Fm.get(o);if(h)var p=h.get(null);else{h=new Map,Fm.set(o,h);for(var v=o.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var D=v[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),p=D)}p&&h.set(null,p)}v=l.instance,D=v.getAttribute("data-precedence"),N=h.get(D)||p,N===p&&h.set(null,v),h.set(D,v),this.count++,p=Im.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),N?N.parentNode.insertBefore(v,N.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(v,o.firstChild)),l.state.loading|=4}}var Oh={$$typeof:M,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function FS(o,l,h,p,v,N,D,X){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function lb(o,l,h,p,v,N,D,X,ge,Te,Ve,Ke){return o=new FS(o,l,h,D,X,ge,Te,Ke),l=1,N===!0&&(l|=24),N=pn(3,null,null,l),o.current=N,N.stateNode=o,l=nh(),l.refCount++,o.pooledCache=l,l.refCount++,N.memoizedState={element:p,isDehydrated:h,cache:l},Ee(N),o}function cb(o){return o?(o=Kr,o):Kr}function db(o,l,h,p,v,N){v=cb(v),p.context===null?p.context=v:p.pendingContext=v,p=Ue(l),p.payload={element:h},N=N===void 0?null:N,N!==null&&(p.callback=N),h=Je(o,p,l),h!==null&&(Ba(h,o,l),Ye(h,o,l))}function ub(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function kg(o,l){ub(o,l),(o=o.alternate)&&ub(o,l)}function hb(o){if(o.tag===13){var l=el(o,67108864);l!==null&&Ba(l,o,67108864),kg(o,67108864)}}var Bm=!0;function BS(o,l,h,p){var v=Z.T;Z.T=null;var N=se.p;try{se.p=2,Ag(o,l,h,p)}finally{se.p=N,Z.T=v}}function zS(o,l,h,p){var v=Z.T;Z.T=null;var N=se.p;try{se.p=8,Ag(o,l,h,p)}finally{se.p=N,Z.T=v}}function Ag(o,l,h,p){if(Bm){var v=Cg(p);if(v===null)mg(o,l,p,zm,h),mb(o,p);else if(qS(v,o,l,h,p))p.stopPropagation();else if(mb(o,p),l&4&&-1<US.indexOf(o)){for(;v!==null;){var N=Zt(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Mt(N.pendingLanes);if(D!==0){var X=N;for(X.pendingLanes|=2,X.entangledLanes|=2;D;){var ge=1<<31-rt(D);X.entanglements[1]|=ge,D&=~ge}Eo(N),(Ws&6)===0&&(Nm=st()+500,Ch(0))}}break;case 13:X=el(N,2),X!==null&&Ba(X,N,2),_m(),kg(N,2)}if(N=Cg(p),N===null&&mg(o,l,p,zm,h),N===v)break;v=N}v!==null&&p.stopPropagation()}else mg(o,l,p,null,h)}}function Cg(o){return o=Ic(o),Lg(o)}var zm=null;function Lg(o){if(zm=null,o=os(o),o!==null){var l=i(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=c(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return zm=o,null}function fb(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case ze:return 2;case et:return 8;case qe:case Nt:return 32;case dt:return 268435456;default:return 32}default:return 32}}var Eg=!1,hc=null,fc=null,mc=null,Dh=new Map,Ih=new Map,pc=[],US="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(o,l){switch(o){case"focusin":case"focusout":hc=null;break;case"dragenter":case"dragleave":fc=null;break;case"mouseover":case"mouseout":mc=null;break;case"pointerover":case"pointerout":Dh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ih.delete(l.pointerId)}}function Fh(o,l,h,p,v,N){return o===null||o.nativeEvent!==N?(o={blockedOn:l,domEventName:h,eventSystemFlags:p,nativeEvent:N,targetContainers:[v]},l!==null&&(l=Zt(l),l!==null&&hb(l)),o):(o.eventSystemFlags|=p,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function qS(o,l,h,p,v){switch(l){case"focusin":return hc=Fh(hc,o,l,h,p,v),!0;case"dragenter":return fc=Fh(fc,o,l,h,p,v),!0;case"mouseover":return mc=Fh(mc,o,l,h,p,v),!0;case"pointerover":var N=v.pointerId;return Dh.set(N,Fh(Dh.get(N)||null,o,l,h,p,v)),!0;case"gotpointercapture":return N=v.pointerId,Ih.set(N,Fh(Ih.get(N)||null,o,l,h,p,v)),!0}return!1}function pb(o){var l=os(o.target);if(l!==null){var h=i(l);if(h!==null){if(l=h.tag,l===13){if(l=c(h),l!==null){o.blockedOn=l,Lt(o.priority,function(){if(h.tag===13){var p=Fa();p=Jt(p);var v=el(h,p);v!==null&&Ba(v,h,p),kg(h,p)}});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Um(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=Cg(o.nativeEvent);if(h===null){h=o.nativeEvent;var p=new h.constructor(h.type,h);Ja=p,h.target.dispatchEvent(p),Ja=null}else return l=Zt(h),l!==null&&hb(l),o.blockedOn=h,!1;l.shift()}return!0}function gb(o,l,h){Um(o)&&h.delete(l)}function HS(){Eg=!1,hc!==null&&Um(hc)&&(hc=null),fc!==null&&Um(fc)&&(fc=null),mc!==null&&Um(mc)&&(mc=null),Dh.forEach(gb),Ih.forEach(gb)}function qm(o,l){o.blockedOn===l&&(o.blockedOn=null,Eg||(Eg=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,HS)))}var Hm=null;function xb(o){Hm!==o&&(Hm=o,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Hm===o&&(Hm=null);for(var l=0;l<o.length;l+=3){var h=o[l],p=o[l+1],v=o[l+2];if(typeof p!="function"){if(Lg(p||h)===null)continue;break}var N=Zt(h);N!==null&&(o.splice(l,3),l-=3,yi(N,{pending:!0,data:v,method:h.method,action:p},p,v))}}))}function Bh(o){function l(ge){return qm(ge,o)}hc!==null&&qm(hc,o),fc!==null&&qm(fc,o),mc!==null&&qm(mc,o),Dh.forEach(l),Ih.forEach(l);for(var h=0;h<pc.length;h++){var p=pc[h];p.blockedOn===o&&(p.blockedOn=null)}for(;0<pc.length&&(h=pc[0],h.blockedOn===null);)pb(h),h.blockedOn===null&&pc.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(p=0;p<h.length;p+=3){var v=h[p],N=h[p+1],D=v[as]||null;if(typeof N=="function")D||xb(h);else if(D){var X=null;if(N&&N.hasAttribute("formAction")){if(v=N,D=N[as]||null)X=D.formAction;else if(Lg(v)!==null)continue}else X=D.action;typeof X=="function"?h[p+1]=X:(h.splice(p,3),p-=3),xb(h)}}}function Pg(o){this._internalRoot=o}Wm.prototype.render=Pg.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(r(409));var h=l.current,p=Fa();db(h,p,o,l,null,null)},Wm.prototype.unmount=Pg.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;db(o.current,2,null,o,null,null),_m(),l[Ps]=null}};function Wm(o){this._internalRoot=o}Wm.prototype.unstable_scheduleHydration=function(o){if(o){var l=jn();o={blockedOn:null,target:o,priority:l};for(var h=0;h<pc.length&&l!==0&&l<pc[h].priority;h++);pc.splice(h,0,o),h===0&&pb(o)}};var yb=e.version;if(yb!=="19.1.1")throw Error(r(527,yb,"19.1.1"));se.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=u(l),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var WS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vm.isDisabled&&Vm.supportsFiber)try{ut=Vm.inject(WS),_t=Vm}catch{}}return Uh.createRoot=function(o,l){if(!a(o))throw Error(r(299));var h=!1,p="",v=Ry,N=Oy,D=Dy,X=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(v=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(X=l.unstable_transitionCallbacks)),l=lb(o,1,!1,null,null,h,p,v,N,D,X,null),o[Ps]=l.current,fg(o),new Pg(l)},Uh.hydrateRoot=function(o,l,h){if(!a(o))throw Error(r(299));var p=!1,v="",N=Ry,D=Oy,X=Dy,ge=null,Te=null;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(v=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(X=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(ge=h.unstable_transitionCallbacks),h.formState!==void 0&&(Te=h.formState)),l=lb(o,1,!0,l,h??null,p,v,N,D,X,ge,Te),l.context=cb(null),h=l.current,p=Fa(),p=Jt(p),v=Ue(p),v.callback=null,Je(h,v,p),h=p,l.current.lanes=h,fs(l,h),Eo(l),o[Ps]=l.current,fg(o),new Wm(l)},Uh.version="19.1.1",Uh}var Cb;function QS(){if(Cb)return Rg.exports;Cb=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Rg.exports=ZS(),Rg.exports}var e6=QS();const t6=dj(e6);var s6=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function hj({packageName:s,customMessages:e}){let t=s;function r(i,c){if(!c)return`${t}: ${i}`;let d=i;const u=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const f of u){const m=(c[f[1]]||"").toString();d=d.replace(`{{${f[1]}}}`,m)}return`${t}: ${d}`}const a={...s6,...e};return{setPackageName({packageName:i}){return typeof i=="string"&&(t=i),this},setMessages({customMessages:i}){return Object.assign(a,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(r(a.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(r(a.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(r(a.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(r(a.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(r(a.MissingClerkProvider,i))},throw(i){throw new Error(r(i))}}}var fj=Object.defineProperty,r6=Object.getOwnPropertyDescriptor,n6=Object.getOwnPropertyNames,a6=Object.prototype.hasOwnProperty,i6=(s,e)=>{for(var t in e)fj(s,t,{get:e[t],enumerable:!0})},o6=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of n6(e))!a6.call(s,a)&&a!==t&&fj(s,a,{get:()=>e[a],enumerable:!(r=r6(e,a))||r.enumerable});return s},l6=(s,e,t)=>(o6(s,e,"default"),t),c6={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},d6=new Set(["first_factor","second_factor","multi_factor"]),u6=new Set(["strict_mfa","strict","moderate","lax"]),h6=s=>typeof s=="number"&&s>0,f6=s=>d6.has(s),m6=s=>u6.has(s),Fg=s=>s.replace(/^(org:)*/,"org:"),p6=(s,e)=>{const{orgId:t,orgRole:r,orgPermissions:a}=e;return!s.role&&!s.permission||!t||!r||!a?null:s.permission?a.includes(Fg(s.permission)):s.role?Fg(r)===Fg(s.role):null},Lb=(s,e)=>{const{org:t,user:r}=x6(s),[a,i]=e.split(":"),c=i||a;return a==="org"?t.includes(c):a==="user"?r.includes(c):[...t,...r].includes(c)},g6=(s,e)=>{const{features:t,plans:r}=e;return s.feature&&t?Lb(t,s.feature):s.plan&&r?Lb(r,s.plan):null},x6=s=>{const e=s?s.split(",").map(t=>t.trim()):[];return{org:e.filter(t=>t.split(":")[0].includes("o")).map(t=>t.split(":")[1]),user:e.filter(t=>t.split(":")[0].includes("u")).map(t=>t.split(":")[1])}},y6=s=>{if(!s)return!1;const e=a=>typeof a=="string"?c6[a]:a,t=typeof s=="string"&&m6(s),r=typeof s=="object"&&f6(s.level)&&h6(s.afterMinutes);return t||r?e.bind(null,s):!1},b6=(s,{factorVerificationAge:e})=>{if(!s.reverification||!e)return null;const t=y6(s.reverification);if(!t)return null;const{level:r,afterMinutes:a}=t(),[i,c]=e,d=i!==-1?a>i:null,u=c!==-1?a>c:null;switch(r){case"first_factor":return d;case"second_factor":return c!==-1?u:d;case"multi_factor":return c===-1?d:d&&u}},v6=s=>e=>{if(!s.userId)return!1;const t=g6(e,s),r=p6(e,s),a=b6(e,s);return[t||r,a].some(i=>i===null)?[t||r,a].some(i=>i===!0):[t||r,a].every(i=>i===!0)},w6=({authObject:{sessionId:s,sessionStatus:e,userId:t,actor:r,orgId:a,orgRole:i,orgSlug:c,signOut:d,getToken:u,has:f,sessionClaims:m},options:{treatPendingAsSignedOut:b=!0}})=>{if(s===void 0&&t===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:s,sessionClaims:void 0,userId:t,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:d,getToken:u};if(s===null&&t===null)return{isLoaded:!0,isSignedIn:!1,sessionId:s,userId:t,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:d,getToken:u};if(b&&e==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:d,getToken:u};if(s&&m&&t&&a&&i)return{isLoaded:!0,isSignedIn:!0,sessionId:s,sessionClaims:m,userId:t,actor:r||null,orgId:a,orgRole:i,orgSlug:c||null,has:f,signOut:d,getToken:u};if(s&&m&&t&&!a)return{isLoaded:!0,isSignedIn:!0,sessionId:s,sessionClaims:m,userId:t,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:f,signOut:d,getToken:u}},mj=s=>typeof atob<"u"&&typeof atob=="function"?atob(s):typeof global<"u"&&global.Buffer?new global.Buffer(s,"base64").toString():s,j6=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],pj="pk_live_",N6="pk_test_";function gj(s){if(!s.endsWith("$"))return!1;const e=s.slice(0,-1);return e.includes("$")?!1:e.includes(".")}function Eb(s,e={}){if(s=s||"",!s||!Wx(s)){if(e.fatal&&!s)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!Wx(s))throw new Error("Publishable key not valid.");return null}const t=s.startsWith(pj)?"production":"development";let r;try{r=mj(s.split("_")[2])}catch{if(e.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!gj(r)){if(e.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let a=r.slice(0,-1);return e.proxyUrl?a=e.proxyUrl:t!=="development"&&e.domain&&e.isSatellite&&(a=`clerk.${e.domain}`),{instanceType:t,frontendApi:a}}function Wx(s=""){try{if(!(s.startsWith(pj)||s.startsWith(N6)))return!1;const t=s.split("_");if(t.length!==3)return!1;const r=t[2];if(!r)return!1;const a=mj(r);return gj(a)}catch{return!1}}function S6(){const s=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;const t=typeof e=="string"?e:e.hostname;let r=s.get(t);return r===void 0&&(r=j6.some(a=>t.endsWith(a)),s.set(t,r)),r}}}var _6="METHOD_CALLED";function M1(s,e){return{event:_6,payload:{method:s,...e}}}var Bg={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function k6(){if(Pb)return zg;Pb=1;var s=np();function e(b,y){return b===y&&(b!==0||1/b===1/y)||b!==b&&y!==y}var t=typeof Object.is=="function"?Object.is:e,r=s.useState,a=s.useEffect,i=s.useLayoutEffect,c=s.useDebugValue;function d(b,y){var x=y(),j=r({inst:{value:x,getSnapshot:y}}),S=j[0].inst,A=j[1];return i(function(){S.value=x,S.getSnapshot=y,u(S)&&A({inst:S})},[b,x,y]),a(function(){return u(S)&&A({inst:S}),b(function(){u(S)&&A({inst:S})})},[b]),c(x),x}function u(b){var y=b.getSnapshot;b=b.value;try{var x=y();return!t(b,x)}catch{return!0}}function f(b,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:d;return zg.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:m,zg}var Tb;function A6(){return Tb||(Tb=1,Bg.exports=k6()),Bg.exports}var xj=A6();const yj=0,bj=1,vj=2,Mb=3;var Rb=Object.prototype.hasOwnProperty;function Vx(s,e){var t,r;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((r=s.length)===e.length)for(;r--&&Vx(s[r],e[r]););return r===-1}if(!t||typeof s=="object"){r=0;for(t in s)if(Rb.call(s,t)&&++r&&!Rb.call(e,t)||!(t in e)||!Vx(s[t],e[t]))return!1;return Object.keys(e).length===r}}return s!==s&&e!==e}const ro=new WeakMap,_c=()=>{},dn=_c(),F0=Object,ds=s=>s===dn,Ni=s=>typeof s=="function",El=(s,e)=>({...s,...e}),wj=s=>Ni(s.then),Ug={},$m={},R1="undefined",Mf=typeof window!=R1,$x=typeof document!=R1,C6=Mf&&"Deno"in window,L6=()=>Mf&&typeof window.requestAnimationFrame!=R1,vc=(s,e)=>{const t=ro.get(s);return[()=>!ds(e)&&s.get(e)||Ug,r=>{if(!ds(e)){const a=s.get(e);e in $m||($m[e]=a),t[5](e,El(a,r),a||Ug)}},t[6],()=>!ds(e)&&e in $m?$m[e]:!ds(e)&&s.get(e)||Ug]};let Gx=!0;const E6=()=>Gx,[Yx,Kx]=Mf&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_c,_c],P6=()=>{const s=$x&&document.visibilityState;return ds(s)||s!=="hidden"},T6=s=>($x&&document.addEventListener("visibilitychange",s),Yx("focus",s),()=>{$x&&document.removeEventListener("visibilitychange",s),Kx("focus",s)}),M6=s=>{const e=()=>{Gx=!0,s()},t=()=>{Gx=!1};return Yx("online",e),Yx("offline",t),()=>{Kx("online",e),Kx("offline",t)}},R6={isOnline:E6,isVisible:P6},O6={initFocus:T6,initReconnect:M6},Ob=!Me.useId,pf=!Mf||C6,D6=s=>L6()?window.requestAnimationFrame(s):setTimeout(s,1),sf=pf?T.useEffect:T.useLayoutEffect,qg=typeof navigator<"u"&&navigator.connection,Db=!pf&&qg&&(["slow-2g","2g"].includes(qg.effectiveType)||qg.saveData),Gm=new WeakMap,I6=s=>F0.prototype.toString.call(s),Hg=(s,e)=>s===`[object ${e}]`;let F6=0;const Xx=s=>{const e=typeof s,t=I6(s),r=Hg(t,"Date"),a=Hg(t,"RegExp"),i=Hg(t,"Object");let c,d;if(F0(s)===s&&!r&&!a){if(c=Gm.get(s),c)return c;if(c=++F6+"~",Gm.set(s,c),Array.isArray(s)){for(c="@",d=0;d<s.length;d++)c+=Xx(s[d])+",";Gm.set(s,c)}if(i){c="#";const u=F0.keys(s).sort();for(;!ds(d=u.pop());)ds(s[d])||(c+=d+":"+Xx(s[d])+",");Gm.set(s,c)}}else c=r?s.toJSON():e=="symbol"?s.toString():e=="string"?JSON.stringify(s):""+s;return c},Ou=s=>{if(Ni(s))try{s=s()}catch{s=""}const e=s;return s=typeof s=="string"?s:(Array.isArray(s)?s.length:s)?Xx(s):"",[s,e]};let B6=0;const Jx=()=>++B6;async function jj(...s){const[e,t,r,a]=s,i=El({populateCache:!0,throwOnError:!0},typeof a=="boolean"?{revalidate:a}:a||{});let c=i.populateCache;const d=i.rollbackOnError;let u=i.optimisticData;const f=y=>typeof d=="function"?d(y):d!==!1,m=i.throwOnError;if(Ni(t)){const y=t,x=[],j=e.keys();for(const S of j)!/^\$(inf|sub)\$/.test(S)&&y(e.get(S)._k)&&x.push(S);return Promise.all(x.map(b))}return b(t);async function b(y){const[x]=Ou(y);if(!x)return;const[j,S]=vc(e,x),[A,k,P,M]=ro.get(e),F=()=>{const K=A[x];return(Ni(i.revalidate)?i.revalidate(j().data,y):i.revalidate!==!1)&&(delete P[x],delete M[x],K&&K[0])?K[0](vj).then(()=>j().data):j().data};if(s.length<3)return F();let B=r,ae,Y=!1;const E=Jx();k[x]=[E,0];const I=!ds(u),$=j(),R=$.data,q=$._c,ie=ds(q)?R:q;if(I&&(u=Ni(u)?u(ie,R):u,S({data:u,_c:ie})),Ni(B))try{B=B(ie)}catch(K){ae=K,Y=!0}if(B&&wj(B))if(B=await B.catch(K=>{ae=K,Y=!0}),E!==k[x][0]){if(Y)throw ae;return B}else Y&&I&&f(ae)&&(c=!0,S({data:ie,_c:dn}));if(c&&!Y)if(Ni(c)){const K=c(B,ie);S({data:K,error:dn,_c:dn})}else S({data:B,error:dn,_c:dn});if(k[x][1]=Jx(),Promise.resolve(F()).then(()=>{S({_c:dn})}),Y){if(m)throw ae;return}return B}}const Ib=(s,e)=>{for(const t in s)s[t][0]&&s[t][0](e)},Nj=(s,e)=>{if(!ro.has(s)){const t=El(O6,e),r=Object.create(null),a=jj.bind(dn,s);let i=_c;const c=Object.create(null),d=(m,b)=>{const y=c[m]||[];return c[m]=y,y.push(b),()=>y.splice(y.indexOf(b),1)},u=(m,b,y)=>{s.set(m,b);const x=c[m];if(x)for(const j of x)j(b,y)},f=()=>{if(!ro.has(s)&&(ro.set(s,[r,Object.create(null),Object.create(null),Object.create(null),a,u,d]),!pf)){const m=t.initFocus(setTimeout.bind(dn,Ib.bind(dn,r,yj))),b=t.initReconnect(setTimeout.bind(dn,Ib.bind(dn,r,bj)));i=()=>{m&&m(),b&&b(),ro.delete(s)}}};return f(),[s,a,f,i]}return[s,ro.get(s)[4]]},z6=(s,e,t,r,a)=>{const i=t.errorRetryCount,c=a.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*t.errorRetryInterval;!ds(i)&&c>i||setTimeout(r,d,a)},U6=Vx,[Rf,Sj]=Nj(new Map),_j=El({onLoadingSlow:_c,onSuccess:_c,onError:_c,onErrorRetry:z6,onDiscarded:_c,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Db?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Db?5e3:3e3,compare:U6,isPaused:()=>!1,cache:Rf,mutate:Sj,fallback:{}},R6),kj=(s,e)=>{const t=El(s,e);if(e){const{use:r,fallback:a}=s,{use:i,fallback:c}=e;r&&i&&(t.use=r.concat(i)),a&&c&&(t.fallback=El(a,c))}return t},Zx=T.createContext({}),q6=s=>{const{value:e}=s,t=T.useContext(Zx),r=Ni(e),a=T.useMemo(()=>r?e(t):e,[r,t,e]),i=T.useMemo(()=>r?a:kj(t,a),[r,t,a]),c=a&&a.provider,d=T.useRef(dn);c&&!d.current&&(d.current=Nj(c(i.cache||Rf),a));const u=d.current;return u&&(i.cache=u[0],i.mutate=u[1]),sf(()=>{if(u)return u[2]&&u[2](),u[3]},[]),T.createElement(Zx.Provider,El(s,{value:i}))},Aj="$inf$",Cj=Mf&&window.__SWR_DEVTOOLS_USE__,H6=Cj?window.__SWR_DEVTOOLS_USE__:[],W6=()=>{Cj&&(window.__SWR_DEVTOOLS_REACT__=Me)},Lj=s=>Ni(s[1])?[s[0],s[1],s[2]||{}]:[s[0],null,(s[1]===null?s[2]:s[1])||{}],Ej=()=>El(_j,T.useContext(Zx)),V6=(s,e)=>{const[t,r]=Ou(s),[,,,a]=ro.get(Rf);if(a[t])return a[t];const i=e(r);return a[t]=i,i},$6=s=>(e,t,r)=>s(e,t&&((...i)=>{const[c]=Ou(e),[,,,d]=ro.get(Rf);if(c.startsWith(Aj))return t(...i);const u=d[c];return ds(u)?t(...i):(delete d[c],u)}),r),G6=H6.concat($6),Y6=s=>function(...t){const r=Ej(),[a,i,c]=Lj(t),d=kj(r,c);let u=s;const{use:f}=d,m=(f||[]).concat(G6);for(let b=m.length;b--;)u=m[b](u);return u(a,i||d.fetcher||null,d)},K6=(s,e,t)=>{const r=e[s]||(e[s]=[]);return r.push(t),()=>{const a=r.indexOf(t);a>=0&&(r[a]=r[r.length-1],r.pop())}},X6=(s,e)=>(...t)=>{const[r,a,i]=Lj(t),c=(i.use||[]).concat(e);return s(r,a,{...i,use:c})};W6();const J6=()=>{},Z6=J6(),Qx=Object,Fb=s=>s===Z6,Q6=s=>typeof s=="function",Ym=new WeakMap,e_=s=>Qx.prototype.toString.call(s),Wg=(s,e)=>s===`[object ${e}]`;let t_=0;const e1=s=>{const e=typeof s,t=e_(s),r=Wg(t,"Date"),a=Wg(t,"RegExp"),i=Wg(t,"Object");let c,d;if(Qx(s)===s&&!r&&!a){if(c=Ym.get(s),c)return c;if(c=++t_+"~",Ym.set(s,c),Array.isArray(s)){for(c="@",d=0;d<s.length;d++)c+=e1(s[d])+",";Ym.set(s,c)}if(i){c="#";const u=Qx.keys(s).sort();for(;!Fb(d=u.pop());)Fb(s[d])||(c+=d+":"+e1(s[d])+",");Ym.set(s,c)}}else c=r?s.toJSON():e=="symbol"?s.toString():e=="string"?JSON.stringify(s):""+s;return c},s_=s=>{if(Q6(s))try{s=s()}catch{s=""}const e=s;return s=typeof s=="string"?s:(Array.isArray(s)?s.length:s)?e1(s):"",[s,e]},r_=s=>s_(s)[0],Vg=Me.use||(s=>{switch(s.status){case"pending":throw s;case"fulfilled":return s.value;case"rejected":throw s.reason;default:throw s.status="pending",s.then(e=>{s.status="fulfilled",s.value=e},e=>{s.status="rejected",s.reason=e}),s}}),$g={dedupe:!0},n_=(s,e,t)=>{const{cache:r,compare:a,suspense:i,fallbackData:c,revalidateOnMount:d,revalidateIfStale:u,refreshInterval:f,refreshWhenHidden:m,refreshWhenOffline:b,keepPreviousData:y}=t,[x,j,S,A]=ro.get(r),[k,P]=Ou(s),M=T.useRef(!1),F=T.useRef(!1),B=T.useRef(k),ae=T.useRef(e),Y=T.useRef(t),E=()=>Y.current,I=()=>E().isVisible()&&E().isOnline(),[$,R,q,ie]=vc(r,k),K=T.useRef({}).current,oe=ds(c)?ds(t.fallback)?dn:t.fallback[k]:c,Z=(Fe,je)=>{for(const ne in K){const lt=ne;if(lt==="data"){if(!a(Fe[lt],je[lt])&&(!ds(Fe[lt])||!a(he,je[lt])))return!1}else if(je[lt]!==Fe[lt])return!1}return!0},se=T.useMemo(()=>{const Fe=!k||!e?!1:ds(d)?E().isPaused()||i?!1:u!==!1:d,je=et=>{const qe=El(et);return delete qe._k,Fe?{isValidating:!0,isLoading:!0,...qe}:qe},ne=$(),lt=ie(),st=je(ne),it=ne===lt?st:je(lt);let ze=st;return[()=>{const et=je($());return Z(et,ze)?(ze.data=et.data,ze.isLoading=et.isLoading,ze.isValidating=et.isValidating,ze.error=et.error,ze):(ze=et,et)},()=>it]},[r,k]),ee=xj.useSyncExternalStore(T.useCallback(Fe=>q(k,(je,ne)=>{Z(ne,je)||Fe()}),[r,k]),se[0],se[1]),pe=!M.current,Q=x[k]&&x[k].length>0,me=ee.data,O=ds(me)?oe&&wj(oe)?Vg(oe):oe:me,V=ee.error,te=T.useRef(O),he=y?ds(me)?ds(te.current)?O:te.current:me:O,fe=Q&&!ds(V)?!1:pe&&!ds(d)?d:E().isPaused()?!1:i?ds(O)?!1:u:ds(O)||u,ve=!!(k&&e&&pe&&fe),Ce=ds(ee.isValidating)?ve:ee.isValidating,ue=ds(ee.isLoading)?ve:ee.isLoading,Le=T.useCallback(async Fe=>{const je=ae.current;if(!k||!je||F.current||E().isPaused())return!1;let ne,lt,st=!0;const it=Fe||{},ze=!S[k]||!it.dedupe,et=()=>Ob?!F.current&&k===B.current&&M.current:k===B.current,qe={isValidating:!1,isLoading:!1},Nt=()=>{R(qe)},dt=()=>{const ft=S[k];ft&&ft[1]===lt&&delete S[k]},Rt={isValidating:!0};ds($().data)&&(Rt.isLoading=!0);try{if(ze&&(R(Rt),t.loadingTimeout&&ds($().data)&&setTimeout(()=>{st&&et()&&E().onLoadingSlow(k,t)},t.loadingTimeout),S[k]=[je(P),Jx()]),[ne,lt]=S[k],ne=await ne,ze&&setTimeout(dt,t.dedupingInterval),!S[k]||S[k][1]!==lt)return ze&&et()&&E().onDiscarded(k),!1;qe.error=dn;const ft=j[k];if(!ds(ft)&&(lt<=ft[0]||lt<=ft[1]||ft[1]===0))return Nt(),ze&&et()&&E().onDiscarded(k),!1;const ut=$().data;qe.data=a(ut,ne)?ut:ne,ze&&et()&&E().onSuccess(ne,k,t)}catch(ft){dt();const ut=E(),{shouldRetryOnError:_t}=ut;ut.isPaused()||(qe.error=ft,ze&&et()&&(ut.onError(ft,k,ut),(_t===!0||Ni(_t)&&_t(ft))&&(!E().revalidateOnFocus||!E().revalidateOnReconnect||I())&&ut.onErrorRetry(ft,k,ut,Qe=>{const rt=x[k];rt&&rt[0]&&rt[0](Mb,Qe)},{retryCount:(it.retryCount||0)+1,dedupe:!0})))}return st=!1,Nt(),!0},[k,r]),Be=T.useCallback((...Fe)=>jj(r,B.current,...Fe),[]);if(sf(()=>{ae.current=e,Y.current=t,ds(me)||(te.current=me)}),sf(()=>{if(!k)return;const Fe=Le.bind(dn,$g);let je=0;E().revalidateOnFocus&&(je=Date.now()+E().focusThrottleInterval);const lt=K6(k,x,(st,it={})=>{if(st==yj){const ze=Date.now();E().revalidateOnFocus&&ze>je&&I()&&(je=ze+E().focusThrottleInterval,Fe())}else if(st==bj)E().revalidateOnReconnect&&I()&&Fe();else{if(st==vj)return Le();if(st==Mb)return Le(it)}});return F.current=!1,B.current=k,M.current=!0,R({_k:P}),fe&&(S[k]||(ds(O)||pf?Fe():D6(Fe))),()=>{F.current=!0,lt()}},[k]),sf(()=>{let Fe;function je(){const lt=Ni(f)?f($().data):f;lt&&Fe!==-1&&(Fe=setTimeout(ne,lt))}function ne(){!$().error&&(m||E().isVisible())&&(b||E().isOnline())?Le($g).then(je):je()}return je(),()=>{Fe&&(clearTimeout(Fe),Fe=-1)}},[f,m,b,k]),T.useDebugValue(he),i&&ds(O)&&k){if(!Ob&&pf)throw new Error("Fallback data is required when using Suspense in SSR.");ae.current=e,Y.current=t,F.current=!1;const Fe=A[k];if(!ds(Fe)){const je=Be(Fe);Vg(je)}if(ds(V)){const je=Le($g);ds(he)||(je.status="fulfilled",je.value=!0),Vg(je)}else throw V}return{mutate:Be,get data(){return K.data=!0,he},get error(){return K.error=!0,V},get isValidating(){return K.isValidating=!0,Ce},get isLoading(){return K.isLoading=!0,ue}}},a_=F0.defineProperty(q6,"defaultValue",{value:_j}),O1=Y6(n_),i_=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:a_,default:O1,mutate:Sj,preload:V6,unstable_serialize:r_,useSWRConfig:Ej},Symbol.toStringTag,{value:"Module"})),o_=()=>{},l_=o_(),t1=Object,Bb=s=>s===l_,c_=s=>typeof s=="function",Km=new WeakMap,d_=s=>t1.prototype.toString.call(s),Gg=(s,e)=>s===`[object ${e}]`;let u_=0;const s1=s=>{const e=typeof s,t=d_(s),r=Gg(t,"Date"),a=Gg(t,"RegExp"),i=Gg(t,"Object");let c,d;if(t1(s)===s&&!r&&!a){if(c=Km.get(s),c)return c;if(c=++u_+"~",Km.set(s,c),Array.isArray(s)){for(c="@",d=0;d<s.length;d++)c+=s1(s[d])+",";Km.set(s,c)}if(i){c="#";const u=t1.keys(s).sort();for(;!Bb(d=u.pop());)Bb(s[d])||(c+=d+":"+s1(s[d])+",");Km.set(s,c)}}else c=r?s.toJSON():e=="symbol"?s.toString():e=="string"?JSON.stringify(s):""+s;return c},h_=s=>{if(c_(s))try{s=s()}catch{s=""}const e=s;return s=typeof s=="string"?s:(Array.isArray(s)?s.length:s)?s1(s):"",[s,e]},f_=s=>h_(s?s(0,null):null)[0],Yg=Promise.resolve(),m_=s=>(e,t,r)=>{const a=T.useRef(!1),{cache:i,initialSize:c=1,revalidateAll:d=!1,persistSize:u=!1,revalidateFirstPage:f=!0,revalidateOnMount:m=!1,parallel:b=!1}=r,[,,,y]=ro.get(Rf);let x;try{x=f_(e),x&&(x=Aj+x)}catch{}const[j,S,A]=vc(i,x),k=T.useCallback(()=>ds(j()._l)?c:j()._l,[i,x,c]);xj.useSyncExternalStore(T.useCallback(E=>x?A(x,()=>{E()}):()=>{},[i,x]),k,k);const P=T.useCallback(()=>{const E=j()._l;return ds(E)?c:E},[x,c]),M=T.useRef(P());sf(()=>{if(!a.current){a.current=!0;return}x&&S({_l:u?M.current:P()})},[x,i]);const F=m&&!a.current,B=s(x,async E=>{const I=j()._i,$=j()._r;S({_r:dn});const R=[],q=P(),[ie]=vc(i,E),K=ie().data,oe=[];let Z=null;for(let se=0;se<q;++se){const[ee,pe]=Ou(e(se,b?null:Z));if(!ee)break;const[Q,me]=vc(i,ee);let O=Q().data;const V=d||I||ds(O)||f&&!se&&!ds(K)||F||K&&!ds(K[se])&&!r.compare(K[se],O);if(t&&(typeof $=="function"?$(O,pe):V)){const te=async()=>{if(!(ee in y))O=await t(pe);else{const fe=y[ee];delete y[ee],O=await fe}me({data:O,_k:pe}),R[se]=O};b?oe.push(te):await te()}else R[se]=O;b||(Z=O)}return b&&await Promise.all(oe.map(se=>se())),S({_i:dn}),R},r),ae=T.useCallback(function(E,I){const $=typeof I=="boolean"?{revalidate:I}:I||{},R=$.revalidate!==!1;return x?(R&&(ds(E)?S({_i:!0,_r:$.revalidate}):S({_i:!1,_r:$.revalidate})),arguments.length?B.mutate(E,{...$,revalidate:R}):B.mutate()):Yg},[x,i]),Y=T.useCallback(E=>{if(!x)return Yg;const[,I]=vc(i,x);let $;if(Ni(E)?$=E(P()):typeof E=="number"&&($=E),typeof $!="number")return Yg;I({_l:$}),M.current=$;const R=[],[q]=vc(i,x);let ie=null;for(let K=0;K<$;++K){const[oe]=Ou(e(K,ie)),[Z]=vc(i,oe),se=oe?Z().data:dn;if(ds(se))return ae(q().data);R.push(se),ie=se}return ae(R)},[x,i,ae,P]);return{size:P(),setSize:Y,mutate:ae,get data(){return B.data},get error(){return B.error},get isValidating(){return B.isValidating},get isLoading(){return B.isLoading}}},p_=X6(O1,m_);var zb=Object.prototype.hasOwnProperty;function Ub(s,e,t){for(t of s.keys())if(rf(t,e))return t}function rf(s,e){var t,r,a;if(s===e)return!0;if(s&&e&&(t=s.constructor)===e.constructor){if(t===Date)return s.getTime()===e.getTime();if(t===RegExp)return s.toString()===e.toString();if(t===Array){if((r=s.length)===e.length)for(;r--&&rf(s[r],e[r]););return r===-1}if(t===Set){if(s.size!==e.size)return!1;for(r of s)if(a=r,a&&typeof a=="object"&&(a=Ub(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(s.size!==e.size)return!1;for(r of s)if(a=r[0],a&&typeof a=="object"&&(a=Ub(e,a),!a)||!rf(r[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)s=new Uint8Array(s),e=new Uint8Array(e);else if(t===DataView){if((r=s.byteLength)===e.byteLength)for(;r--&&s.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(s)){if((r=s.byteLength)===e.byteLength)for(;r--&&s[r]===e[r];);return r===-1}if(!t||typeof s=="object"){r=0;for(t in s)if(zb.call(s,t)&&++r&&!zb.call(e,t)||!(t in e)||!rf(s[t],e[t]))return!1;return Object.keys(e).length===r}}return s!==s&&e!==e}function g_(s,e){if(!s)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}var zo=(s,e)=>{const{assertCtxFn:t=g_}={},r=Me.createContext(void 0);return r.displayName=s,[r,()=>{const c=Me.useContext(r);return t(c,`${s} not found`),c.value},()=>{const c=Me.useContext(r);return c?c.value:{}}]},D1={};i6(D1,{useSWR:()=>O1,useSWRInfinite:()=>p_});l6(D1,i_);var[Pj,I1]=zo("ClerkInstanceContext"),[x_,y_]=zo("UserContext"),[b_,v_]=zo("ClientContext"),[w_,BD]=zo("SessionContext");Me.createContext({});var[j_,zD]=zo("CheckoutContext"),N_=({children:s,...e})=>Me.createElement(j_.Provider,{value:{value:e}},s),[S_,UD]=zo("OrganizationContext"),__=({children:s,organization:e,swrConfig:t})=>Me.createElement(D1.SWRConfig,{value:t},Me.createElement(S_.Provider,{value:{value:{organization:e}}},s));function F1(s){if(!Me.useContext(Pj)){if(typeof s=="function"){s();return}throw new Error(`${s} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?Me.useLayoutEffect:Me.useEffect;var qb="useUser";function Rd(){F1(qb);const s=y_();return I1().telemetry?.record(M1(qb)),s===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:s===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:s}}var zu=()=>(F1("useClerk"),I1()),Hb=rf,k_=s=>{const e=T.useRef(s);return T.useEffect(()=>{e.current=s},[s]),e.current},za=(s,e,t)=>{const r=!!t,a=T.useRef(t);T.useEffect(()=>{a.current=t},[t]),T.useEffect(()=>{if(!r||!s)return()=>{};const i=(...c)=>{a.current&&a.current(...c)};return s.on(e,i),()=>{s.off(e,i)}},[r,e,s,a])},Tj=Me.createContext(null);Tj.displayName="ElementsContext";var A_=(s,e)=>{if(!s)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${e} in an <Elements> provider.`);return s},B0=s=>s!==null&&typeof s=="object",C_=(s,e,t)=>B0(s)?Object.keys(s).reduce((r,a)=>{const i=!B0(e)||!Mj(s[a],e[a]);return t.includes(a)?(i&&console.warn(`Unsupported prop change: options.${a} is not a mutable property.`),r):i?{...r||{},[a]:s[a]}:r},null):null,Wb="[object Object]",Mj=(s,e)=>{if(!B0(s)||!B0(e))return s===e;const t=Array.isArray(s),r=Array.isArray(e);if(t!==r)return!1;const a=Object.prototype.toString.call(s)===Wb,i=Object.prototype.toString.call(e)===Wb;if(a!==i)return!1;if(!a&&!t)return s===e;const c=Object.keys(s),d=Object.keys(e);if(c.length!==d.length)return!1;const u={};for(let x=0;x<c.length;x+=1)u[c[x]]=!0;for(let x=0;x<d.length;x+=1)u[d[x]]=!0;const f=Object.keys(u);if(f.length!==c.length)return!1;const m=s,b=e,y=x=>Mj(m[x],b[x]);return f.every(y)},Vb=s=>{const e=Me.useContext(Tj);return A_(e,s)},L_=s=>s.charAt(0).toUpperCase()+s.slice(1),E_=(s,e)=>{const t=`${L_(s)}Element`,i=e?c=>{Vb(`mounts <${t}>`);const{id:d,className:u}=c;return Me.createElement("div",{id:d,className:u})}:({id:c,className:d,fallback:u,options:f={},onBlur:m,onFocus:b,onReady:y,onChange:x,onEscape:j,onClick:S,onLoadError:A,onLoaderStart:k,onNetworksChange:P,onConfirm:M,onCancel:F,onShippingAddressChange:B,onShippingRateChange:ae})=>{const Y=Vb(`mounts <${t}>`),E="elements"in Y?Y.elements:null,[I,$]=Me.useState(null),R=Me.useRef(null),q=Me.useRef(null),[ie,K]=T.useState(!1);za(I,"blur",m),za(I,"focus",b),za(I,"escape",j),za(I,"click",S),za(I,"loaderror",A),za(I,"loaderstart",k),za(I,"networkschange",P),za(I,"confirm",M),za(I,"cancel",F),za(I,"shippingaddresschange",B),za(I,"shippingratechange",ae),za(I,"change",x);let oe;y&&(oe=()=>{K(!0),y(I)}),za(I,"ready",oe),Me.useLayoutEffect(()=>{if(R.current===null&&q.current!==null&&E){let se=null;E&&(se=E.create(s,f)),R.current=se,$(se),se&&se.mount(q.current)}},[E,f]);const Z=k_(f);return Me.useEffect(()=>{if(!R.current)return;const se=C_(f,Z,["paymentRequest"]);se&&"update"in R.current&&R.current.update(se)},[f,Z]),Me.useLayoutEffect(()=>()=>{if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}},[]),Me.createElement(Me.Fragment,null,!ie&&u,Me.createElement("div",{id:c,style:{height:ie?"unset":"0px",visibility:ie?"visible":"hidden"},className:d,ref:q}))};return i.displayName=t,i.__elementType=s,i},P_=typeof window>"u";E_("payment",P_);zo("StripeLibsContext");zo("PaymentElementContext");zo("StripeUtilsContext");var Fo=hj({packageName:"@clerk/clerk-react"});function T_(s){Fo.setMessages(s).setPackageName(s)}var[M_,R_]=zo("AuthContext"),O_=Pj,B1=I1,D_="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",I_=s=>`You've passed multiple children components to <${s}/>. You can only pass a single child component or text.`,F_="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Kg="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",B_="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",z_="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",U_="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",q_="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",H_=s=>`<${s} /> can only accept <${s}.Page /> and <${s}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,W_=s=>`Missing props. <${s}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,V_=s=>`Missing props. <${s}.Link /> component requires the following props: url, label and labelIcon.`,$_="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",G_="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",Y_="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",K_="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",X_="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",J_="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",Z_="Missing props. <UserButton.Action /> component requires the following props: label.",Of=s=>{F1(()=>{Fo.throwMissingClerkProviderError({source:s})})},Rj=s=>new Promise(e=>{const t=r=>{["ready","degraded"].includes(r)&&(e(),s.off("status",t))};s.on("status",t,{notify:!0})}),Q_=s=>async e=>(await Rj(s),s.session?s.session.getToken(e):null),ek=s=>async(...e)=>(await Rj(s),s.signOut(...e)),Ml=(s={})=>{var e,t;Of("useAuth");const{treatPendingAsSignedOut:r,...a}=s??{},i=a;let d=R_();d.sessionId===void 0&&d.userId===void 0&&(d=i??{});const u=B1(),f=T.useCallback(Q_(u),[u]),m=T.useCallback(ek(u),[u]);return(e=u.telemetry)==null||e.record(M1("useAuth",{treatPendingAsSignedOut:r})),tk({...d,getToken:f,signOut:m},{treatPendingAsSignedOut:r??((t=u.__internal_getOption)==null?void 0:t.call(u,"treatPendingAsSignedOut"))})};function tk(s,{treatPendingAsSignedOut:e=!0}={}){const{userId:t,orgId:r,orgRole:a,has:i,signOut:c,getToken:d,orgPermissions:u,factorVerificationAge:f,sessionClaims:m}=s??{},b=T.useCallback(x=>i?i(x):v6({userId:t,orgId:r,orgRole:a,orgPermissions:u,factorVerificationAge:f,features:m?.fea||"",plans:m?.pla||""})(x),[i,t,r,a,u,f]),y=w6({authObject:{...s,getToken:d,signOut:c,has:b},options:{treatPendingAsSignedOut:e}});return y||Fo.throw(F_)}var z1=()=>{var s;Of("useSignIn");const e=B1(),t=v_();return(s=e.telemetry)==null||s.record(M1("useSignIn")),t?{isLoaded:!0,signIn:t.signIn,setActive:e.setActive}:{isLoaded:!1,signIn:void 0,setActive:void 0}},yr=(s,e)=>{const r=(typeof e=="string"?e:e?.component)||s.displayName||s.name||"Component";s.displayName=r;const a=typeof e=="string"?void 0:e,i=c=>{Of(r||"withClerk");const d=B1();return!d.loaded&&!a?.renderWhileLoading?null:Me.createElement(s,{...c,component:r,clerk:d})};return i.displayName=`withClerk(${r})`,i},sk=()=>{try{return!1}catch{}return!1},rk=()=>{try{return!1}catch{}return!1},nk=()=>{try{return!0}catch{}return!1},$b=new Set,U1=(s,e,t)=>{const r=rk()||nk(),a=s;$b.has(a)||r||($b.add(a),console.warn(`Clerk - DEPRECATION WARNING: "${s}" is deprecated and will be removed in the next major release.
${e}`))},Oj=({children:s,treatPendingAsSignedOut:e})=>{Of("SignedIn");const{userId:t}=Ml({treatPendingAsSignedOut:e});return t?s:null},Dj=({children:s,treatPendingAsSignedOut:e})=>{Of("SignedOut");const{userId:t}=Ml({treatPendingAsSignedOut:e});return t===null?s:null};yr(({clerk:s,...e})=>{const{client:t,session:r}=s,a=t.signedInSessions?t.signedInSessions.length>0:t.activeSessions&&t.activeSessions.length>0;return Me.useEffect(()=>{r===null&&a?s.redirectToAfterSignOut():s.redirectToSignIn(e)},[]),null},"RedirectToSignIn");yr(({clerk:s,...e})=>(Me.useEffect(()=>{s.redirectToSignUp(e)},[]),null),"RedirectToSignUp");yr(({clerk:s})=>{const{session:e}=s;return Me.useEffect(()=>{if(!e){s.redirectToSignIn();return}s.__internal_navigateToTaskIfAvailable()},[]),null},"RedirectToTask");yr(({clerk:s})=>(Me.useEffect(()=>{U1("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),s.redirectToUserProfile()},[]),null),"RedirectToUserProfile");yr(({clerk:s})=>(Me.useEffect(()=>{U1("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),s.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");yr(({clerk:s})=>(Me.useEffect(()=>{U1("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),s.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");yr(({clerk:s,...e})=>(Me.useEffect(()=>{s.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");var da=s=>{sk()&&console.error(`Clerk: ${s}`)};function Xg(s,e,t){if(typeof s=="function")return s(e);if(typeof s<"u")return s;if(typeof t<"u")return t}var ak=uj(),Gb=(s,...e)=>{const t={...s};for(const r of e)delete t[r];return t},ap=s=>e=>{try{return Me.Children.only(s)}catch{return Fo.throw(I_(e))}},ip=(s,e)=>(s||(s=e),typeof s=="string"&&(s=Me.createElement("button",null,s)),s),op=s=>(...e)=>{if(s&&typeof s=="function")return s(...e)};function ik(s){return typeof s=="function"}var Xm=new Map;function ok(s,e,t=1){Me.useEffect(()=>{const r=Xm.get(s)||0;return r==t?Fo.throw(e):(Xm.set(s,r+1),()=>{Xm.set(s,(Xm.get(s)||1)-1)})},[])}function lk(s,e,t){const r=s.displayName||s.name||e||"Component",a=i=>(ok(e,t),Me.createElement(s,{...i}));return a.displayName=`withMaxAllowedInstancesGuard(${r})`,a}var nf=s=>{const[e,t]=T.useState(new Map);return s.map(r=>({id:r.id,mount:a=>t(i=>new Map(i).set(String(r.id),a)),unmount:()=>t(a=>{const i=new Map(a);return i.set(String(r.id),null),i}),portal:()=>{const a=e.get(String(r.id));return a?ak.createPortal(r.component,a):null}}))},ca=(s,e)=>!!s&&Me.isValidElement(s)&&s?.type===e,Ij=(s,e)=>zj({children:s,reorderItemsLabels:["account","security"],LinkComponent:If,PageComponent:Df,MenuItemsComponent:cp,componentName:"UserProfile"},e),Fj=(s,e)=>zj({children:s,reorderItemsLabels:["general","members"],LinkComponent:up,PageComponent:dp,componentName:"OrganizationProfile"},e),Bj=s=>{const e=[],t=[up,dp,cp,Df,If];return Me.Children.forEach(s,r=>{t.some(a=>ca(r,a))||e.push(r)}),e},zj=(s,e)=>{const{children:t,LinkComponent:r,PageComponent:a,MenuItemsComponent:i,reorderItemsLabels:c,componentName:d}=s,{allowForAnyChildren:u=!1}=e||{},f=[];Me.Children.forEach(t,P=>{if(!ca(P,a)&&!ca(P,r)&&!ca(P,i)){P&&!u&&da(H_(d));return}const{props:M}=P,{children:F,label:B,url:ae,labelIcon:Y}=M;if(ca(P,a))if(Yb(M,c))f.push({label:B});else if(Jg(M))f.push({label:B,labelIcon:Y,children:F,url:ae});else{da(W_(d));return}if(ca(P,r))if(Zg(M))f.push({label:B,labelIcon:Y,url:ae});else{da(V_(d));return}});const m=[],b=[],y=[];f.forEach((P,M)=>{if(Jg(P)){m.push({component:P.children,id:M}),b.push({component:P.labelIcon,id:M});return}Zg(P)&&y.push({component:P.labelIcon,id:M})});const x=nf(m),j=nf(b),S=nf(y),A=[],k=[];return f.forEach((P,M)=>{if(Yb(P,c)){A.push({label:P.label});return}if(Jg(P)){const{portal:F,mount:B,unmount:ae}=x.find($=>$.id===M),{portal:Y,mount:E,unmount:I}=j.find($=>$.id===M);A.push({label:P.label,url:P.url,mount:B,unmount:ae,mountIcon:E,unmountIcon:I}),k.push(F),k.push(Y);return}if(Zg(P)){const{portal:F,mount:B,unmount:ae}=S.find(Y=>Y.id===M);A.push({label:P.label,url:P.url,mountIcon:B,unmountIcon:ae}),k.push(F);return}}),{customPages:A,customPagesPortals:k}},Yb=(s,e)=>{const{children:t,label:r,url:a,labelIcon:i}=s;return!t&&!a&&!i&&e.some(c=>c===r)},Jg=s=>{const{children:e,label:t,url:r,labelIcon:a}=s;return!!e&&!!r&&!!a&&!!t},Zg=s=>{const{children:e,label:t,url:r,labelIcon:a}=s;return!e&&!!r&&!!a&&!!t},ck=s=>dk({children:s,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:cp,MenuActionComponent:qj,MenuLinkComponent:Hj,UserProfileLinkComponent:If,UserProfilePageComponent:Df}),dk=({children:s,MenuItemsComponent:e,MenuActionComponent:t,MenuLinkComponent:r,UserProfileLinkComponent:a,UserProfilePageComponent:i,reorderItemsLabels:c})=>{const d=[],u=[],f=[];Me.Children.forEach(s,j=>{if(!ca(j,e)&&!ca(j,a)&&!ca(j,i)){j&&da($_);return}if(ca(j,a)||ca(j,i))return;const{props:S}=j;Me.Children.forEach(S.children,A=>{if(!ca(A,t)&&!ca(A,r)){A&&da(G_);return}const{props:k}=A,{label:P,labelIcon:M,href:F,onClick:B,open:ae}=k;if(ca(A,t))if(Kb(k,c))d.push({label:P});else if(Qg(k)){const Y={label:P,labelIcon:M};if(B!==void 0)d.push({...Y,onClick:B});else if(ae!==void 0)d.push({...Y,open:ae.startsWith("/")?ae:`/${ae}`});else{da("Custom menu item must have either onClick or open property");return}}else{da(Z_);return}if(ca(A,r))if(ex(k))d.push({label:P,labelIcon:M,href:F});else{da(J_);return}})});const m=[],b=[];d.forEach((j,S)=>{Qg(j)&&m.push({component:j.labelIcon,id:S}),ex(j)&&b.push({component:j.labelIcon,id:S})});const y=nf(m),x=nf(b);return d.forEach((j,S)=>{if(Kb(j,c)&&u.push({label:j.label}),Qg(j)){const{portal:A,mount:k,unmount:P}=y.find(F=>F.id===S),M={label:j.label,mountIcon:k,unmountIcon:P};"onClick"in j?M.onClick=j.onClick:"open"in j&&(M.open=j.open),u.push(M),f.push(A)}if(ex(j)){const{portal:A,mount:k,unmount:P}=x.find(M=>M.id===S);u.push({label:j.label,href:j.href,mountIcon:k,unmountIcon:P}),f.push(A)}}),{customMenuItems:u,customMenuItemsPortals:f}},Kb=(s,e)=>{const{children:t,label:r,onClick:a,labelIcon:i}=s;return!t&&!a&&!i&&e.some(c=>c===r)},Qg=s=>{const{label:e,labelIcon:t,onClick:r,open:a}=s;return!!t&&!!e&&(typeof r=="function"||typeof a=="string")},ex=s=>{const{label:e,href:t,labelIcon:r}=s;return!!t&&!!r&&!!e};function uk(s){const{root:e=document?.body,selector:t,timeout:r=0}=s;return new Promise((a,i)=>{if(!e){i(new Error("No root element provided"));return}let c=e;if(t&&(c=e?.querySelector(t)),c?.childElementCount&&c.childElementCount>0){a();return}const u=new MutationObserver(f=>{for(const m of f)if(m.type==="childList"&&(!c&&t&&(c=e?.querySelector(t)),c?.childElementCount&&c.childElementCount>0)){u.disconnect(),a();return}});u.observe(e,{childList:!0,subtree:!0}),r>0&&setTimeout(()=>{u.disconnect(),i(new Error("Timeout waiting for element children"))},r)})}function $a(s){const e=T.useRef(),[t,r]=T.useState("rendering");return T.useEffect(()=>{if(!s)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!e.current&&(e.current=uk({selector:`[data-clerk-component="${s}"]`}).then(()=>{r("rendered")}).catch(()=>{r("error")}))},[s]),t}var Jm=s=>"mount"in s,Xb=s=>"open"in s,Jb=s=>s?.map(({mountIcon:e,unmountIcon:t,...r})=>r),ha=class extends Me.PureComponent{constructor(){super(...arguments),this.rootRef=Me.createRef()}componentDidUpdate(s){var e,t,r,a;if(!Jm(s)||!Jm(this.props))return;const i=Gb(s.props,"customPages","customMenuItems","children"),c=Gb(this.props.props,"customPages","customMenuItems","children"),d=((e=i.customPages)==null?void 0:e.length)!==((t=c.customPages)==null?void 0:t.length),u=((r=i.customMenuItems)==null?void 0:r.length)!==((a=c.customMenuItems)==null?void 0:a.length),f=Jb(s.props.customMenuItems),m=Jb(this.props.props.customMenuItems);(!Hb(i,c)||!Hb(f,m)||d||u)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Jm(this.props)&&this.props.mount(this.rootRef.current,this.props.props),Xb(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Jm(this.props)&&this.props.unmount(this.rootRef.current),Xb(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:s=!1}=this.props,e={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return Me.createElement(Me.Fragment,null,!s&&Me.createElement("div",{...e}),this.props.children)}},lp=s=>{var e,t;return Me.createElement(Me.Fragment,null,(e=s?.customPagesPortals)==null?void 0:e.map((r,a)=>T.createElement(r,{key:a})),(t=s?.customMenuItemsPortals)==null?void 0:t.map((r,a)=>T.createElement(r,{key:a})))};yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountSignIn,unmount:s.unmountSignIn,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"SignIn",renderWhileLoading:!0});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountSignUp,unmount:s.unmountSignUp,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"SignUp",renderWhileLoading:!0});function Df({children:s}){return da(B_),Me.createElement(Me.Fragment,null,s)}function If({children:s}){return da(z_),Me.createElement(Me.Fragment,null,s)}var hk=yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}},{customPages:d,customPagesPortals:u}=Ij(r.children);return Me.createElement(Me.Fragment,null,i&&t,Me.createElement(ha,{component:e,mount:s.mountUserProfile,unmount:s.unmountUserProfile,updateProps:s.__unstable__updateProps,props:{...r,customPages:d},rootProps:c},Me.createElement(lp,{customPagesPortals:u})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(hk,{Page:Df,Link:If});var Uj=T.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),fk=yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}},{customPages:d,customPagesPortals:u}=Ij(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),f=Object.assign(r.userProfileProps||{},{customPages:d}),{customMenuItems:m,customMenuItemsPortals:b}=ck(r.children),y=Bj(r.children),x={mount:s.mountUserButton,unmount:s.unmountUserButton,updateProps:s.__unstable__updateProps,props:{...r,userProfileProps:f,customMenuItems:m}},j={customPagesPortals:u,customMenuItemsPortals:b};return Me.createElement(Uj.Provider,{value:x},i&&t,s.loaded&&Me.createElement(ha,{component:e,...x,hideRootHtmlElement:!!r.__experimental_asProvider,rootProps:c},r.__experimental_asProvider?y:null,Me.createElement(lp,{...j})))},{component:"UserButton",renderWhileLoading:!0});function cp({children:s}){return da(Y_),Me.createElement(Me.Fragment,null,s)}function qj({children:s}){return da(K_),Me.createElement(Me.Fragment,null,s)}function Hj({children:s}){return da(X_),Me.createElement(Me.Fragment,null,s)}function mk(s){const e=T.useContext(Uj),t={...e,props:{...e.props,...s}};return Me.createElement(ha,{...t})}var Wj=Object.assign(fk,{UserProfilePage:Df,UserProfileLink:If,MenuItems:cp,Action:qj,Link:Hj,__experimental_Outlet:mk});function dp({children:s}){return da(U_),Me.createElement(Me.Fragment,null,s)}function up({children:s}){return da(q_),Me.createElement(Me.Fragment,null,s)}var pk=yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}},{customPages:d,customPagesPortals:u}=Fj(r.children);return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountOrganizationProfile,unmount:s.unmountOrganizationProfile,updateProps:s.__unstable__updateProps,props:{...r,customPages:d},rootProps:c},Me.createElement(lp,{customPagesPortals:u})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(pk,{Page:dp,Link:up});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountCreateOrganization,unmount:s.unmountCreateOrganization,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"CreateOrganization",renderWhileLoading:!0});var Vj=T.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),gk=yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}},{customPages:d,customPagesPortals:u}=Fj(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),f=Object.assign(r.organizationProfileProps||{},{customPages:d}),m=Bj(r.children),b={mount:s.mountOrganizationSwitcher,unmount:s.unmountOrganizationSwitcher,updateProps:s.__unstable__updateProps,props:{...r,organizationProfileProps:f},rootProps:c,component:e};return s.__experimental_prefetchOrganizationSwitcher(),Me.createElement(Vj.Provider,{value:b},Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{...b,hideRootHtmlElement:!!r.__experimental_asProvider},r.__experimental_asProvider?m:null,Me.createElement(lp,{customPagesPortals:u}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function xk(s){const e=T.useContext(Vj),t={...e,props:{...e.props,...s}};return Me.createElement(ha,{...t})}Object.assign(gk,{OrganizationProfilePage:dp,OrganizationProfileLink:up,__experimental_Outlet:xk});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountOrganizationList,unmount:s.unmountOrganizationList,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"OrganizationList",renderWhileLoading:!0});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,open:s.openGoogleOneTap,close:s.closeGoogleOneTap,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"GoogleOneTap",renderWhileLoading:!0});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountWaitlist,unmount:s.unmountWaitlist,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"Waitlist",renderWhileLoading:!0});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountPricingTable,unmount:s.unmountPricingTable,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"PricingTable",renderWhileLoading:!0});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountApiKeys,unmount:s.unmountApiKeys,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"ApiKeys",renderWhileLoading:!0});yr(({clerk:s,component:e,fallback:t,...r})=>{const i=$a(e)==="rendering"||!s.loaded,c={...i&&t&&{style:{display:"none"}}};return Me.createElement(Me.Fragment,null,i&&t,s.loaded&&Me.createElement(ha,{component:e,mount:s.mountTaskSelectOrganization,unmount:s.unmountTaskSelectOrganization,updateProps:s.__unstable__updateProps,props:r,rootProps:c}))},{component:"TaskSelectOrganization",renderWhileLoading:!0});var $j=s=>{throw TypeError(s)},q1=(s,e,t)=>e.has(s)||$j("Cannot "+t),Sr=(s,e,t)=>(q1(s,e,"read from private field"),t?t.call(s):e.get(s)),pd=(s,e,t)=>e.has(s)?$j("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),gu=(s,e,t,r)=>(q1(s,e,"write to private field"),e.set(s,t),t),tx=(s,e,t)=>(q1(s,e,"access private method"),t),yk=(s,e="5.79.0")=>{if(s)return s;const t=bk(e);return t?t==="snapshot"?"5.79.0":t:vk(e)},bk=s=>s.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/)?.[1],vk=s=>s.trim().replace(/^v/,"").split(".")[0];function wk(s){return s?jk(s)||Gj(s):!0}function jk(s){return/^http(s)?:\/\//.test(s||"")}function Gj(s){return s.startsWith("/")}function Nk(s){return s?Gj(s)?new URL(s,window.location.origin).toString():s:""}function Sk(s){if(!s)return"";let e;if(s.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(s.match(/\.clerk.accounts/))return s;e=/^(clerk\.)*/gi}return`clerk.${s.replace(e,"")}`}var _k={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(s,e)=>e<5,retryImmediately:!1,jitter:!0},kk=100,Yj=async s=>new Promise(e=>setTimeout(e,s)),Kj=(s,e)=>e?s*(1+Math.random()):s,Ak=s=>{let e=0;const t=()=>{const r=s.initialDelay,a=s.factor;let i=r*Math.pow(a,e);return i=Kj(i,s.jitter),Math.min(s.maxDelayBetweenRetries||i,i)};return async()=>{await Yj(t()),e++}},Ck=async(s,e={})=>{let t=0;const{shouldRetry:r,initialDelay:a,maxDelayBetweenRetries:i,factor:c,retryImmediately:d,jitter:u}={..._k,...e},f=Ak({initialDelay:a,maxDelayBetweenRetries:i,factor:c,jitter:u});for(;;)try{return await s()}catch(m){if(t++,!r(m,t))throw m;d&&t===1?await Yj(Kj(kk,u)):await f()}},Lk="loadScript cannot be called when document does not exist",Ek="loadScript cannot be called without a src";async function Pk(s="",e){const{async:t,defer:r,beforeLoad:a,crossOrigin:i,nonce:c}=e||{};return Ck(()=>new Promise((u,f)=>{s||f(new Error(Ek)),(!document||!document.body)&&f(Lk);const m=document.createElement("script");i&&m.setAttribute("crossorigin",i),m.async=t||!1,m.defer=r||!1,m.addEventListener("load",()=>{m.remove(),u(m)}),m.addEventListener("error",()=>{m.remove(),f()}),m.src=s,m.nonce=c,a?.(m),document.body.appendChild(m)}),{shouldRetry:(u,f)=>f<=5})}var Xj="Clerk: Failed to load Clerk",{isDevOrStagingUrl:Tk}=S6(),Jj=hj({packageName:"@clerk/shared"});function Mk(s){Jj.setPackageName({packageName:s})}function r1(){if(typeof window>"u"||!window.Clerk)return!1;const s=window.Clerk;return typeof s=="object"&&typeof s.load=="function"}function Zb(s){return new Promise((e,t)=>{let r=!1;const a=(f,m)=>{clearTimeout(f),clearInterval(m)},i=()=>{r||r1()&&(r=!0,a(d,u),e(null))},d=setTimeout(()=>{r||(r=!0,a(d,u),r1()?e(null):t(new Error(Xj)))},s);i();const u=setInterval(()=>{if(r){clearInterval(u);return}i()},100)})}var Rk=async s=>{const e=s?.scriptLoadTimeout??15e3;if(r1())return null;if(document.querySelector("script[data-clerk-js-script]"))return Zb(e);if(!s?.publishableKey)return Jj.throwMissingPublishableKeyError(),null;const r=Zb(e);return Pk(Ok(s),{async:!0,crossOrigin:"anonymous",nonce:s.nonce,beforeLoad:Ik(s)}).catch(()=>{throw new Error(Xj)}),r},Ok=s=>{const{clerkJSUrl:e,clerkJSVariant:t,clerkJSVersion:r,proxyUrl:a,domain:i,publishableKey:c}=s;if(e)return e;let d="";a&&wk(a)?d=Nk(a).replace(/http(s)?:\/\//,""):i&&!Tk(Eb(c)?.frontendApi||"")?d=Sk(i):d=Eb(c)?.frontendApi||"";const u=t?`${t.replace(/\.+$/,"")}.`:"",f=yk(r);return`https://${d}/npm/@clerk/clerk-js@${f}/dist/clerk.${u}browser.js`},Dk=s=>{const e={};return s.publishableKey&&(e["data-clerk-publishable-key"]=s.publishableKey),s.proxyUrl&&(e["data-clerk-proxy-url"]=s.proxyUrl),s.domain&&(e["data-clerk-domain"]=s.domain),s.nonce&&(e.nonce=s.nonce),e},Ik=s=>e=>{const t=Dk(s);for(const r in t)e.setAttribute(r,t[r])},Fk=(s,e,t)=>!s&&t?Bk(t):zk(e),Bk=s=>{const e=s.userId,t=s.user,r=s.sessionId,a=s.sessionStatus,i=s.sessionClaims,c=s.session,d=s.organization,u=s.orgId,f=s.orgRole,m=s.orgPermissions,b=s.orgSlug,y=s.actor,x=s.factorVerificationAge;return{userId:e,user:t,sessionId:r,session:c,sessionStatus:a,sessionClaims:i,organization:d,orgId:u,orgRole:f,orgPermissions:m,orgSlug:b,actor:y,factorVerificationAge:x}},zk=s=>{const e=s.user?s.user.id:s.user,t=s.user,r=s.session?s.session.id:s.session,a=s.session,i=s.session?.status,c=s.session?s.session.lastActiveToken?.jwt?.claims:null,d=s.session?s.session.factorVerificationAge:null,u=a?.actor,f=s.organization,m=s.organization?s.organization.id:s.organization,b=f?.slug,y=f&&t?.organizationMemberships?.find(S=>S.organization.id===m),x=y&&y.permissions,j=y&&y.role;return{userId:e,user:t,sessionId:r,session:a,sessionStatus:i,sessionClaims:c,organization:f,orgId:m,orgRole:j,orgSlug:b,orgPermissions:x,actor:u,factorVerificationAge:d}};function Qb(){return typeof window<"u"}var ev=(s,e,t,r,a)=>{const{notify:i}=a||{};let c=s.get(t);c||(c=[],s.set(t,c)),c.push(r),i&&e.has(t)&&r(e.get(t))},tv=(s,e,t)=>(s.get(e)||[]).map(r=>r(t)),sv=(s,e,t)=>{const r=s.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):s.set(e,[]))},Uk=()=>{const s=new Map,e=new Map,t=new Map;return{on:(...a)=>ev(s,e,...a),prioritizedOn:(...a)=>ev(t,e,...a),emit:(a,i)=>{e.set(a,i),tv(t,a,i),tv(s,a,i)},off:(...a)=>sv(s,...a),prioritizedOff:(...a)=>sv(t,...a),internal:{retrieveListeners:a=>s.get(a)||[]}}},Zm={Status:"status"},qk=()=>Uk();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);var Zj=yr(({clerk:s,children:e,...t})=>{const{signUpFallbackRedirectUrl:r,forceRedirectUrl:a,fallbackRedirectUrl:i,signUpForceRedirectUrl:c,mode:d,initialValues:u,withSignUp:f,oauthFlow:m,...b}=t;e=ip(e,"Sign in");const y=ap(e)("SignInButton"),x=()=>{const A={forceRedirectUrl:a,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:c,initialValues:u,withSignUp:f,oauthFlow:m};return d==="modal"?s.openSignIn({...A,appearance:t.appearance}):s.redirectToSignIn({...A,signInFallbackRedirectUrl:i,signInForceRedirectUrl:a})},S={...b,onClick:async A=>(y&&typeof y=="object"&&"props"in y&&await op(y.props.onClick)(A),x())};return Me.cloneElement(y,S)},{component:"SignInButton",renderWhileLoading:!0});yr(({clerk:s,children:e,...t})=>{const{redirectUrl:r,...a}=t;e=ip(e,"Sign in with Metamask");const i=ap(e)("SignInWithMetamaskButton"),c=async()=>{async function f(){await s.authenticateWithMetamask({redirectUrl:r||void 0})}f()},u={...a,onClick:async f=>(await op(i.props.onClick)(f),c())};return Me.cloneElement(i,u)},{component:"SignInWithMetamask",renderWhileLoading:!0});yr(({clerk:s,children:e,...t})=>{const{redirectUrl:r="/",signOutOptions:a,...i}=t;e=ip(e,"Sign out");const c=ap(e)("SignOutButton"),d=()=>s.signOut({redirectUrl:r,...a}),f={...i,onClick:async m=>(await op(c.props.onClick)(m),d())};return Me.cloneElement(c,f)},{component:"SignOutButton",renderWhileLoading:!0});var Qj=yr(({clerk:s,children:e,...t})=>{const{fallbackRedirectUrl:r,forceRedirectUrl:a,signInFallbackRedirectUrl:i,signInForceRedirectUrl:c,mode:d,initialValues:u,oauthFlow:f,...m}=t;e=ip(e,"Sign up");const b=ap(e)("SignUpButton"),y=()=>{const S={fallbackRedirectUrl:r,forceRedirectUrl:a,signInFallbackRedirectUrl:i,signInForceRedirectUrl:c,initialValues:u,oauthFlow:f};return d==="modal"?s.openSignUp({...S,appearance:t.appearance,unsafeMetadata:t.unsafeMetadata}):s.redirectToSignUp({...S,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:a})},j={...m,onClick:async S=>(b&&typeof b=="object"&&"props"in b&&await op(b.props.onClick)(S),y())};return Me.cloneElement(b,j)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var Hk={name:"@clerk/clerk-react",version:"5.38.1",environment:"production"},_0,Nu,Su,bc,bl,wc,Zh,k0,eN=class tN{constructor(e){pd(this,Zh),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskSelectOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],pd(this,_0,"loading"),pd(this,Nu),pd(this,Su),pd(this,bc),pd(this,bl,qk()),this.buildSignInUrl=a=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildSignInUrl(a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=a=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildSignUpUrl(a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...a)=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildAfterSignInUrl(...a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...a)=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildAfterSignUpUrl(...a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterSignOutUrl",a)},this.buildNewSubscriptionRedirectUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",a)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",a)},this.buildUserProfileUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildUserProfileUrl",a)},this.buildCreateOrganizationUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildCreateOrganizationUrl",a)},this.buildOrganizationProfileUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildOrganizationProfileUrl",a)},this.buildWaitlistUrl=()=>{const a=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("buildWaitlistUrl",a)},this.buildUrlWithAuth=a=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildUrlWithAuth(a))||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("handleUnauthenticated",a)},this.on=(...a)=>{var i;if((i=this.clerkjs)!=null&&i.on)return this.clerkjs.on(...a);Sr(this,bl).on(...a)},this.off=(...a)=>{var i;if((i=this.clerkjs)!=null&&i.off)return this.clerkjs.off(...a);Sr(this,bl).off(...a)},this.addOnLoaded=a=>{this.loadedListeners.push(a),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(a=>a()),this.loadedListeners=[]},this.beforeLoad=a=>{if(!a)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=a=>{var i;if(!a)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=a,this.premountMethodCalls.forEach(c=>c()),this.premountAddListenerCalls.forEach((c,d)=>{c.nativeUnsubscribe=a.addListener(d)}),(i=Sr(this,bl).internal.retrieveListeners("status"))==null||i.forEach(c=>{this.on("status",c,{notify:!0})}),this.preopenSignIn!==null&&a.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&a.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&a.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&a.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&a.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&a.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&a.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&a.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&a.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&a.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&a.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((c,d)=>{a.mountSignIn(d,c)}),this.premountSignUpNodes.forEach((c,d)=>{a.mountSignUp(d,c)}),this.premountUserProfileNodes.forEach((c,d)=>{a.mountUserProfile(d,c)}),this.premountUserButtonNodes.forEach((c,d)=>{a.mountUserButton(d,c)}),this.premountOrganizationListNodes.forEach((c,d)=>{a.mountOrganizationList(d,c)}),this.premountWaitlistNodes.forEach((c,d)=>{a.mountWaitlist(d,c)}),this.premountPricingTableNodes.forEach((c,d)=>{a.mountPricingTable(d,c)}),this.premountApiKeysNodes.forEach((c,d)=>{a.mountApiKeys(d,c)}),this.premountOAuthConsentNodes.forEach((c,d)=>{a.__internal_mountOAuthConsent(d,c)}),this.premountTaskSelectOrganizationNodes.forEach((c,d)=>{a.mountTaskSelectOrganization(d,c)}),typeof this.clerkjs.status>"u"&&Sr(this,bl).emit(Zm.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...a)=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_checkout(...a)},this.__unstable__updateProps=async a=>{const i=await tx(this,Zh,k0).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(a)},this.__internal_navigateToTaskIfAvailable=async a=>this.clerkjs?this.clerkjs.__internal_navigateToTaskIfAvailable(a):Promise.reject(),this.setActive=a=>this.clerkjs?this.clerkjs.setActive(a):Promise.reject(),this.openSignIn=a=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(a):this.preopenSignIn=a},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(a):this.preopenCheckout=a},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(a):this.preopenPlanDetails=a},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(a):this.preopenSubscriptionDetails=a??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(a):this.preopenUserVerification=a},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=a=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(a):this.preopenOneTap=a},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(a):this.preopenUserProfile=a},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(a):this.preopenOrganizationProfile=a},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(a):this.preopenCreateOrganization=a},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=a=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(a):this.preOpenWaitlist=a},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=a=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(a):this.preopenSignUp=a},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(a,i):this.premountSignInNodes.set(a,i)},this.unmountSignIn=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(a):this.premountSignInNodes.delete(a)},this.mountSignUp=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(a,i):this.premountSignUpNodes.set(a,i)},this.unmountSignUp=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(a):this.premountSignUpNodes.delete(a)},this.mountUserProfile=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(a,i):this.premountUserProfileNodes.set(a,i)},this.unmountUserProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(a):this.premountUserProfileNodes.delete(a)},this.mountOrganizationProfile=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(a,i):this.premountOrganizationProfileNodes.set(a,i)},this.unmountOrganizationProfile=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(a):this.premountOrganizationProfileNodes.delete(a)},this.mountCreateOrganization=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(a,i):this.premountCreateOrganizationNodes.set(a,i)},this.unmountCreateOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(a):this.premountCreateOrganizationNodes.delete(a)},this.mountOrganizationSwitcher=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(a,i):this.premountOrganizationSwitcherNodes.set(a,i)},this.unmountOrganizationSwitcher=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(a):this.premountOrganizationSwitcherNodes.delete(a)},this.__experimental_prefetchOrganizationSwitcher=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",a)},this.mountOrganizationList=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(a,i):this.premountOrganizationListNodes.set(a,i)},this.unmountOrganizationList=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(a):this.premountOrganizationListNodes.delete(a)},this.mountUserButton=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(a,i):this.premountUserButtonNodes.set(a,i)},this.unmountUserButton=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(a):this.premountUserButtonNodes.delete(a)},this.mountWaitlist=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(a,i):this.premountWaitlistNodes.set(a,i)},this.unmountWaitlist=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(a):this.premountWaitlistNodes.delete(a)},this.mountPricingTable=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(a,i):this.premountPricingTableNodes.set(a,i)},this.unmountPricingTable=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(a):this.premountPricingTableNodes.delete(a)},this.mountApiKeys=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(a,i):this.premountApiKeysNodes.set(a,i)},this.unmountApiKeys=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(a):this.premountApiKeysNodes.delete(a)},this.__internal_mountOAuthConsent=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(a,i):this.premountOAuthConsentNodes.set(a,i)},this.__internal_unmountOAuthConsent=a=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(a):this.premountOAuthConsentNodes.delete(a)},this.mountTaskSelectOrganization=(a,i)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskSelectOrganization(a,i):this.premountTaskSelectOrganizationNodes.set(a,i)},this.unmountTaskSelectOrganization=a=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskSelectOrganization(a):this.premountTaskSelectOrganizationNodes.delete(a)},this.addListener=a=>{if(this.clerkjs)return this.clerkjs.addListener(a);{const i=()=>{var c;const d=this.premountAddListenerCalls.get(a);d&&((c=d.nativeUnsubscribe)==null||c.call(d),this.premountAddListenerCalls.delete(a))};return this.premountAddListenerCalls.set(a,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.navigate(a)};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...a)=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectWithAuth(...a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToSignIn(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToSignUp(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToUserProfile",a)},this.redirectToAfterSignUp=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToAfterSignUp",a)},this.redirectToAfterSignIn=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("redirectToAfterSignIn",a)},this.redirectToAfterSignOut=()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&this.loaded?a():this.premountMethodCalls.set("redirectToAfterSignOut",a)},this.redirectToOrganizationProfile=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToOrganizationProfile",a)},this.redirectToCreateOrganization=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToCreateOrganization",a)},this.redirectToWaitlist=async()=>{const a=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return a();this.premountMethodCalls.set("redirectToWaitlist",a)},this.handleRedirectCallback=async a=>{var i;const c=()=>{var d;return(d=this.clerkjs)==null?void 0:d.handleRedirectCallback(a)};this.clerkjs&&this.loaded?(i=c())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",c)},this.handleGoogleOneTapCallback=async(a,i)=>{var c;const d=()=>{var u;return(u=this.clerkjs)==null?void 0:u.handleGoogleOneTapCallback(a,i)};this.clerkjs&&this.loaded?(c=d())==null||c.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",d)},this.handleEmailLinkVerification=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleEmailLinkVerification(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithMetamask(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithCoinbaseWallet(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithOKXWallet(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.authenticateWithWeb3(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async a=>(await tx(this,Zh,k0).call(this)).authenticateWithGoogleOneTap(a),this.__internal_loadStripeJs=async()=>(await tx(this,Zh,k0).call(this)).__internal_loadStripeJs(),this.createOrganization=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.createOrganization(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.getOrganization(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async a=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.joinWaitlist(a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...a)=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.signOut(...a)};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:t=null,publishableKey:r}=e||{};gu(this,bc,r),gu(this,Su,e?.proxyUrl),gu(this,Nu,e?.domain),this.options=e,this.Clerk=t,this.mode=Qb()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=Hk),Sr(this,bl).emit(Zm.Status,"loading"),Sr(this,bl).prioritizedOn(Zm.Status,a=>gu(this,_0,a)),Sr(this,bc)&&this.loadClerkJS()}get publishableKey(){return Sr(this,bc)}get loaded(){var e;return((e=this.clerkjs)==null?void 0:e.loaded)||!1}get status(){var e;return this.clerkjs?((e=this.clerkjs)==null?void 0:e.status)||(this.clerkjs.loaded?"ready":"loading"):Sr(this,_0)}static getOrCreateInstance(e){return(!Qb()||!Sr(this,wc)||e.Clerk&&Sr(this,wc).Clerk!==e.Clerk||Sr(this,wc).publishableKey!==e.publishableKey)&&gu(this,wc,new tN(e)),Sr(this,wc)}static clearInstance(){gu(this,wc,null)}get domain(){return typeof window<"u"&&window.location?Xg(Sr(this,Nu),new URL(window.location.href),""):typeof Sr(this,Nu)=="function"?Fo.throw(Kg):Sr(this,Nu)||""}get proxyUrl(){return typeof window<"u"&&window.location?Xg(Sr(this,Su),new URL(window.location.href),""):typeof Sr(this,Su)=="function"?Fo.throw(Kg):Sr(this,Su)||""}__internal_getOption(e){var t,r;return(t=this.clerkjs)!=null&&t.__internal_getOption?(r=this.clerkjs)==null?void 0:r.__internal_getOption(e):this.options[e]}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Xg(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Fo.throw(Kg):!1}async loadClerkJS(){var e;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Sr(this,bc),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let t;ik(this.Clerk)?(t=new this.Clerk(Sr(this,bc),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(t),await t.load(this.options)):(t=this.Clerk,t.loaded||(this.beforeLoad(t),await t.load(this.options))),global.Clerk=t}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await Rk({...this.options,publishableKey:Sr(this,bc),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(e=global.Clerk)!=null&&e.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(t){const r=t;Sr(this,bl).emit(Zm.Status,"error"),console.error(r.stack||r.message||r);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var e;return(e=this.clerkjs)==null?void 0:e.billing}get apiKeys(){var e;return(e=this.clerkjs)==null?void 0:e.apiKeys}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};_0=new WeakMap;Nu=new WeakMap;Su=new WeakMap;bc=new WeakMap;bl=new WeakMap;wc=new WeakMap;Zh=new WeakSet;k0=function(){return new Promise(s=>{this.addOnLoaded(()=>s(this.clerkjs))})};pd(eN,wc);var rv=eN;function Wk(s){const{isomorphicClerkOptions:e,initialState:t,children:r}=s,{isomorphicClerk:a,clerkStatus:i}=Vk(e),[c,d]=Me.useState({client:a.client,session:a.session,user:a.user,organization:a.organization});Me.useEffect(()=>a.addListener(q=>d({...q})),[]);const u=Fk(a.loaded,c,t),f=Me.useMemo(()=>({value:a}),[i]),m=Me.useMemo(()=>({value:c.client}),[c.client]),{sessionId:b,sessionStatus:y,sessionClaims:x,session:j,userId:S,user:A,orgId:k,actor:P,organization:M,orgRole:F,orgSlug:B,orgPermissions:ae,factorVerificationAge:Y}=u,E=Me.useMemo(()=>({value:{sessionId:b,sessionStatus:y,sessionClaims:x,userId:S,actor:P,orgId:k,orgRole:F,orgSlug:B,orgPermissions:ae,factorVerificationAge:Y}}),[b,y,S,P,k,F,B,Y,x?.__raw]),I=Me.useMemo(()=>({value:j}),[b,j]),$=Me.useMemo(()=>({value:A}),[S,A]),R=Me.useMemo(()=>({value:{organization:M}}),[k,M]);return Me.createElement(O_.Provider,{value:f},Me.createElement(b_.Provider,{value:m},Me.createElement(w_.Provider,{value:I},Me.createElement(__,{...R.value},Me.createElement(M_.Provider,{value:E},Me.createElement(x_.Provider,{value:$},Me.createElement(N_,{value:void 0},r)))))))}var Vk=s=>{const e=Me.useRef(rv.getOrCreateInstance(s)),[t,r]=Me.useState(e.current.status);return Me.useEffect(()=>{e.current.__unstable__updateProps({appearance:s.appearance})},[s.appearance]),Me.useEffect(()=>{e.current.__unstable__updateProps({options:s})},[s.localization]),Me.useEffect(()=>(e.current.on("status",r),()=>{e.current&&e.current.off("status",r),rv.clearInstance()}),[]),{isomorphicClerk:e.current,clerkStatus:t}};function $k(s){const{initialState:e,children:t,__internal_bypassMissingPublishableKey:r,...a}=s,{publishableKey:i="",Clerk:c}=a;return!c&&!r&&(i?i&&!Wx(i)&&Fo.throwInvalidPublishableKeyError({key:i}):Fo.throwMissingPublishableKeyError()),Me.createElement(Wk,{initialState:e,isomorphicClerkOptions:a},t)}var sN=lk($k,"ClerkProvider",D_);sN.displayName="ClerkProvider";T_({packageName:"@clerk/clerk-react"});Mk("@clerk/clerk-react");/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nv="popstate";function Gk(s={}){function e(r,a){let{pathname:i,search:c,hash:d}=r.location;return n1("",{pathname:i,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:gf(a)}return Kk(e,t,null,s)}function xr(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ki(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yk(){return Math.random().toString(36).substring(2,10)}function av(s,e){return{usr:s.state,key:s.key,idx:e}}function n1(s,e,t=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Uu(e):e,state:t,key:e&&e.key||r||Yk()}}function gf({pathname:s="/",search:e="",hash:t=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(s+=t.charAt(0)==="#"?t:"#"+t),s}function Uu(s){let e={};if(s){let t=s.indexOf("#");t>=0&&(e.hash=s.substring(t),s=s.substring(0,t));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function Kk(s,e,t,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,c=a.history,d="POP",u=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function b(){d="POP";let A=m(),k=A==null?null:A-f;f=A,u&&u({action:d,location:S.location,delta:k})}function y(A,k){d="PUSH";let P=n1(S.location,A,k);f=m()+1;let M=av(P,f),F=S.createHref(P);try{c.pushState(M,"",F)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;a.location.assign(F)}i&&u&&u({action:d,location:S.location,delta:1})}function x(A,k){d="REPLACE";let P=n1(S.location,A,k);f=m();let M=av(P,f),F=S.createHref(P);c.replaceState(M,"",F),i&&u&&u({action:d,location:S.location,delta:0})}function j(A){return Xk(A)}let S={get action(){return d},get location(){return s(a,c)},listen(A){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(nv,b),u=A,()=>{a.removeEventListener(nv,b),u=null}},createHref(A){return e(a,A)},createURL:j,encodeLocation(A){let k=j(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:x,go(A){return c.go(A)}};return S}function Xk(s,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xr(t,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:gf(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function rN(s,e,t="/"){return Jk(s,e,t,!1)}function Jk(s,e,t,r){let a=typeof e=="string"?Uu(e):e,i=Pl(a.pathname||"/",t);if(i==null)return null;let c=nN(s);Zk(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let f=cA(i);d=oA(c[u],f,r)}return d}function nN(s,e=[],t=[],r=""){let a=(i,c,d)=>{let u={relativePath:d===void 0?i.path||"":d,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};u.relativePath.startsWith("/")&&(xr(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let f=Cl([r,u.relativePath]),m=t.concat(u);i.children&&i.children.length>0&&(xr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),nN(i.children,e,m,f)),!(i.path==null&&!i.index)&&e.push({path:f,score:aA(f,i.index),routesMeta:m})};return s.forEach((i,c)=>{if(i.path===""||!i.path?.includes("?"))a(i,c);else for(let d of aN(i.path))a(i,c,d)}),e}function aN(s){let e=s.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let c=aN(r.join("/")),d=[];return d.push(...c.map(u=>u===""?i:[i,u].join("/"))),a&&d.push(...c),d.map(u=>s.startsWith("/")&&u===""?"/":u)}function Zk(s){s.sort((e,t)=>e.score!==t.score?t.score-e.score:iA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Qk=/^:[\w-]+$/,eA=3,tA=2,sA=1,rA=10,nA=-2,iv=s=>s==="*";function aA(s,e){let t=s.split("/"),r=t.length;return t.some(iv)&&(r+=nA),e&&(r+=tA),t.filter(a=>!iv(a)).reduce((a,i)=>a+(Qk.test(i)?eA:i===""?sA:rA),r)}function iA(s,e){return s.length===e.length&&s.slice(0,-1).every((r,a)=>r===e[a])?s[s.length-1]-e[e.length-1]:0}function oA(s,e,t=!1){let{routesMeta:r}=s,a={},i="/",c=[];for(let d=0;d<r.length;++d){let u=r[d],f=d===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",b=z0({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},m),y=u.route;if(!b&&f&&t&&!r[r.length-1].route.index&&(b=z0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Cl([i,b.pathname]),pathnameBase:fA(Cl([i,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(i=Cl([i,b.pathnameBase]))}return c}function z0(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[t,r]=lA(s.path,s.caseSensitive,s.end),a=e.match(t);if(!a)return null;let i=a[0],c=i.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:b},y)=>{if(m==="*"){let j=d[y]||"";c=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const x=d[y];return b&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:c,pattern:s}}function lA(s,e=!1,t=!0){ki(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(r.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function cA(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ki(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Pl(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=s.charAt(t);return r&&r!=="/"?null:s.slice(t)||"/"}function dA(s,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof s=="string"?Uu(s):s;return{pathname:t?t.startsWith("/")?t:uA(t,e):e,search:mA(r),hash:pA(a)}}function uA(s,e){let t=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function sx(s,e,t,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hA(s){return s.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function H1(s){let e=hA(s);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function W1(s,e,t,r=!1){let a;typeof s=="string"?a=Uu(s):(a={...s},xr(!a.pathname||!a.pathname.includes("?"),sx("?","pathname","search",a)),xr(!a.pathname||!a.pathname.includes("#"),sx("#","pathname","hash",a)),xr(!a.search||!a.search.includes("#"),sx("#","search","hash",a)));let i=s===""||a.pathname==="",c=i?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),b-=1;a.pathname=y.join("/")}d=b>=0?e[b]:"/"}let u=dA(a,d),f=c&&c!=="/"&&c.endsWith("/"),m=(i||c===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||m)&&(u.pathname+="/"),u}var Cl=s=>s.join("/").replace(/\/\/+/g,"/"),fA=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),mA=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,pA=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function gA(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var iN=["POST","PUT","PATCH","DELETE"];new Set(iN);var xA=["GET",...iN];new Set(xA);var qu=T.createContext(null);qu.displayName="DataRouter";var hp=T.createContext(null);hp.displayName="DataRouterState";T.createContext(!1);var oN=T.createContext({isTransitioning:!1});oN.displayName="ViewTransition";var yA=T.createContext(new Map);yA.displayName="Fetchers";var bA=T.createContext(null);bA.displayName="Await";var io=T.createContext(null);io.displayName="Navigation";var Ff=T.createContext(null);Ff.displayName="Location";var Uo=T.createContext({outlet:null,matches:[],isDataRoute:!1});Uo.displayName="Route";var V1=T.createContext(null);V1.displayName="RouteError";function vA(s,{relative:e}={}){xr(Hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(io),{hash:a,pathname:i,search:c}=Bf(s,{relative:e}),d=i;return t!=="/"&&(d=i==="/"?t:Cl([t,i])),r.createHref({pathname:d,search:c,hash:a})}function Hu(){return T.useContext(Ff)!=null}function Li(){return xr(Hu(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Ff).location}var lN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cN(s){T.useContext(io).static||T.useLayoutEffect(s)}function Mr(){let{isDataRoute:s}=T.useContext(Uo);return s?MA():wA()}function wA(){xr(Hu(),"useNavigate() may be used only in the context of a <Router> component.");let s=T.useContext(qu),{basename:e,navigator:t}=T.useContext(io),{matches:r}=T.useContext(Uo),{pathname:a}=Li(),i=JSON.stringify(H1(r)),c=T.useRef(!1);return cN(()=>{c.current=!0}),T.useCallback((u,f={})=>{if(ki(c.current,lN),!c.current)return;if(typeof u=="number"){t.go(u);return}let m=W1(u,JSON.parse(i),a,f.relative==="path");s==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Cl([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,i,a,s])}T.createContext(null);function Bf(s,{relative:e}={}){let{matches:t}=T.useContext(Uo),{pathname:r}=Li(),a=JSON.stringify(H1(t));return T.useMemo(()=>W1(s,JSON.parse(a),r,e==="path"),[s,a,r,e])}function jA(s,e){return dN(s,e)}function dN(s,e,t,r){xr(Hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(io),{matches:i}=T.useContext(Uo),c=i[i.length-1],d=c?c.params:{},u=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let k=m&&m.path||"";uN(u,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Li(),y;if(e){let k=typeof e=="string"?Uu(e):e;xr(f==="/"||k.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),y=k}else y=b;let x=y.pathname||"/",j=x;if(f!=="/"){let k=f.replace(/^\//,"").split("/");j="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=rN(s,{pathname:j});ki(m||S!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ki(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=AA(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Cl([f,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:Cl([f,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,t,r);return e&&A?T.createElement(Ff.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function NA(){let s=TA(),e=gA(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),t=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:i},"ErrorBoundary")," or"," ",T.createElement("code",{style:i},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:a},t):null,c)}var SA=T.createElement(NA,null),_A=class extends T.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?T.createElement(Uo.Provider,{value:this.props.routeContext},T.createElement(V1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kA({routeContext:s,match:e,children:t}){let r=T.useContext(qu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(Uo.Provider,{value:s},t)}function AA(s,e=[],t=null,r=null){if(s==null){if(!t)return null;if(t.errors)s=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)s=t.matches;else return null}let a=s,i=t?.errors;if(i!=null){let u=a.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);xr(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(t)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:m,errors:b}=t,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!b||b[f.route.id]===void 0);if(f.route.lazy||y){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,f,m)=>{let b,y=!1,x=null,j=null;t&&(b=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||SA,c&&(d<0&&m===0?(uN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):d===m&&(y=!0,j=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),A=()=>{let k;return b?k=x:y?k=j:f.route.Component?k=T.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=u,T.createElement(kA,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?T.createElement(_A,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}function $1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(s){let e=T.useContext(qu);return xr(e,$1(s)),e}function LA(s){let e=T.useContext(hp);return xr(e,$1(s)),e}function EA(s){let e=T.useContext(Uo);return xr(e,$1(s)),e}function G1(s){let e=EA(s),t=e.matches[e.matches.length-1];return xr(t.route.id,`${s} can only be used on routes that contain a unique "id"`),t.route.id}function PA(){return G1("useRouteId")}function TA(){let s=T.useContext(V1),e=LA("useRouteError"),t=G1("useRouteError");return s!==void 0?s:e.errors?.[t]}function MA(){let{router:s}=CA("useNavigate"),e=G1("useNavigate"),t=T.useRef(!1);return cN(()=>{t.current=!0}),T.useCallback(async(a,i={})=>{ki(t.current,lN),t.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:e,...i}))},[s,e])}var ov={};function uN(s,e,t){!e&&!ov[s]&&(ov[s]=!0,ki(!1,t))}T.memo(RA);function RA({routes:s,future:e,state:t}){return dN(s,void 0,t,e)}function OA({to:s,replace:e,state:t,relative:r}){xr(Hu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(io);ki(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=T.useContext(Uo),{pathname:c}=Li(),d=Mr(),u=W1(s,H1(i),c,r==="path"),f=JSON.stringify(u);return T.useEffect(()=>{d(JSON.parse(f),{replace:e,state:t,relative:r})},[d,f,r,e,t]),null}function $s(s){xr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DA({basename:s="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:i=!1}){xr(!Hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),d=T.useMemo(()=>({basename:c,navigator:a,static:i,future:{}}),[c,a,i]);typeof t=="string"&&(t=Uu(t));let{pathname:u="/",search:f="",hash:m="",state:b=null,key:y="default"}=t,x=T.useMemo(()=>{let j=Pl(u,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:b,key:y},navigationType:r}},[c,u,f,m,b,y,r]);return ki(x!=null,`<Router basename="${c}"> is not able to match the URL "${u}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:T.createElement(io.Provider,{value:d},T.createElement(Ff.Provider,{children:e,value:x}))}function IA({children:s,location:e}){return jA(a1(s),e)}function a1(s,e=[]){let t=[];return T.Children.forEach(s,(r,a)=>{if(!T.isValidElement(r))return;let i=[...e,a];if(r.type===T.Fragment){t.push.apply(t,a1(r.props.children,i));return}xr(r.type===$s,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=a1(r.props.children,i)),t.push(c)}),t}var A0="get",C0="application/x-www-form-urlencoded";function fp(s){return s!=null&&typeof s.tagName=="string"}function FA(s){return fp(s)&&s.tagName.toLowerCase()==="button"}function BA(s){return fp(s)&&s.tagName.toLowerCase()==="form"}function zA(s){return fp(s)&&s.tagName.toLowerCase()==="input"}function UA(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function qA(s,e){return s.button===0&&(!e||e==="_self")&&!UA(s)}function i1(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,t)=>{let r=s[t];return e.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[]))}function HA(s,e){let t=i1(s);return e&&e.forEach((r,a)=>{t.has(a)||e.getAll(a).forEach(i=>{t.append(a,i)})}),t}var Qm=null;function WA(){if(Qm===null)try{new FormData(document.createElement("form"),0),Qm=!1}catch{Qm=!0}return Qm}var VA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rx(s){return s!=null&&!VA.has(s)?(ki(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${C0}"`),null):s}function $A(s,e){let t,r,a,i,c;if(BA(s)){let d=s.getAttribute("action");r=d?Pl(d,e):null,t=s.getAttribute("method")||A0,a=rx(s.getAttribute("enctype"))||C0,i=new FormData(s)}else if(FA(s)||zA(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=s.getAttribute("formaction")||d.getAttribute("action");if(r=u?Pl(u,e):null,t=s.getAttribute("formmethod")||d.getAttribute("method")||A0,a=rx(s.getAttribute("formenctype"))||rx(d.getAttribute("enctype"))||C0,i=new FormData(d,s),!WA()){let{name:f,type:m,value:b}=s;if(m==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,b)}}else{if(fp(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=A0,r=null,a=C0,c=s}return i&&a==="text/plain"&&(c=i,i=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y1(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function GA(s,e,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Pl(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function YA(s,e){if(s.id in e)return e[s.id];try{let t=await import(s.module);return e[s.id]=t,t}catch(t){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KA(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function XA(s,e,t){let r=await Promise.all(s.map(async a=>{let i=e.routes[a.route.id];if(i){let c=await YA(i,t);return c.links?c.links():[]}return[]}));return e8(r.flat(1).filter(KA).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lv(s,e,t,r,a,i){let c=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,d=(u,f)=>t[f].pathname!==u.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==u.params["*"];return i==="assets"?e.filter((u,f)=>c(u,f)||d(u,f)):i==="data"?e.filter((u,f)=>{let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(c(u,f)||d(u,f))return!0;if(u.route.shouldRevalidate){let b=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function JA(s,e,{includeHydrateFallback:t}={}){return ZA(s.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function ZA(s){return[...new Set(s)]}function QA(s){let e={},t=Object.keys(s).sort();for(let r of t)e[r]=s[r];return e}function e8(s,e){let t=new Set;return new Set(e),s.reduce((r,a)=>{let i=JSON.stringify(QA(a));return t.has(i)||(t.add(i),r.push({key:i,link:a})),r},[])}function hN(){let s=T.useContext(qu);return Y1(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function t8(){let s=T.useContext(hp);return Y1(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var K1=T.createContext(void 0);K1.displayName="FrameworkContext";function fN(){let s=T.useContext(K1);return Y1(s,"You must render this element inside a <HydratedRouter> element"),s}function s8(s,e){let t=T.useContext(K1),[r,a]=T.useState(!1),[i,c]=T.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=e,y=T.useRef(null);T.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let S=k=>{k.forEach(P=>{c(P.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return y.current&&A.observe(y.current),()=>{A.disconnect()}}},[s]),T.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let x=()=>{a(!0)},j=()=>{a(!1),c(!1)};return t?s!=="intent"?[i,y,{}]:[i,y,{onFocus:qh(d,x),onBlur:qh(u,j),onMouseEnter:qh(f,x),onMouseLeave:qh(m,j),onTouchStart:qh(b,x)}]:[!1,y,{}]}function qh(s,e){return t=>{s&&s(t),t.defaultPrevented||e(t)}}function r8({page:s,...e}){let{router:t}=hN(),r=T.useMemo(()=>rN(t.routes,s,t.basename),[t.routes,s,t.basename]);return r?T.createElement(a8,{page:s,matches:r,...e}):null}function n8(s){let{manifest:e,routeModules:t}=fN(),[r,a]=T.useState([]);return T.useEffect(()=>{let i=!1;return XA(s,e,t).then(c=>{i||a(c)}),()=>{i=!0}},[s,e,t]),r}function a8({page:s,matches:e,...t}){let r=Li(),{manifest:a,routeModules:i}=fN(),{basename:c}=hN(),{loaderData:d,matches:u}=t8(),f=T.useMemo(()=>lv(s,e,u,a,r,"data"),[s,e,u,a,r]),m=T.useMemo(()=>lv(s,e,u,a,r,"assets"),[s,e,u,a,r]),b=T.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let j=new Set,S=!1;if(e.forEach(k=>{let P=a.routes[k.route.id];!P||!P.hasLoader||(!f.some(M=>M.route.id===k.route.id)&&k.route.id in d&&i[k.route.id]?.shouldRevalidate||P.hasClientLoader?S=!0:j.add(k.route.id))}),j.size===0)return[];let A=GA(s,c,"data");return S&&j.size>0&&A.searchParams.set("_routes",e.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[c,d,r,a,f,e,s,i]),y=T.useMemo(()=>JA(m,a),[m,a]),x=n8(m);return T.createElement(T.Fragment,null,b.map(j=>T.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),y.map(j=>T.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),x.map(({key:j,link:S})=>T.createElement("link",{key:j,...S})))}function i8(...s){return e=>{s.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var mN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mN&&(window.__reactRouterVersion="7.7.1")}catch{}function o8({basename:s,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=Gk({window:t,v5Compat:!0}));let a=r.current,[i,c]=T.useState({action:a.action,location:a.location}),d=T.useCallback(u=>{T.startTransition(()=>c(u))},[c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.createElement(DA,{basename:s,children:e,location:i.location,navigationType:i.action,navigator:a})}var pN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U0=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:i,replace:c,state:d,target:u,to:f,preventScrollReset:m,viewTransition:b,...y},x){let{basename:j}=T.useContext(io),S=typeof f=="string"&&pN.test(f),A,k=!1;if(typeof f=="string"&&S&&(A=f,mN))try{let I=new URL(window.location.href),$=f.startsWith("//")?new URL(I.protocol+f):new URL(f),R=Pl($.pathname,j);$.origin===I.origin&&R!=null?f=R+$.search+$.hash:k=!0}catch{ki(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=vA(f,{relative:a}),[M,F,B]=s8(r,y),ae=u8(f,{replace:c,state:d,target:u,preventScrollReset:m,relative:a,viewTransition:b});function Y(I){e&&e(I),I.defaultPrevented||ae(I)}let E=T.createElement("a",{...y,...B,href:A||P,onClick:k||i?e:Y,ref:i8(x,F),target:u,"data-discover":!S&&t==="render"?"true":void 0});return M&&!S?T.createElement(T.Fragment,null,E,T.createElement(r8,{page:P})):E});U0.displayName="Link";var l8=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:i,to:c,viewTransition:d,children:u,...f},m){let b=Bf(c,{relative:f.relative}),y=Li(),x=T.useContext(hp),{navigator:j,basename:S}=T.useContext(io),A=x!=null&&g8(b)&&d===!0,k=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,P=y.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(P=P.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&S&&(M=Pl(M,S)||M);const F=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let B=P===k||!a&&P.startsWith(k)&&P.charAt(F)==="/",ae=M!=null&&(M===k||!a&&M.startsWith(k)&&M.charAt(k.length)==="/"),Y={isActive:B,isPending:ae,isTransitioning:A},E=B?e:void 0,I;typeof r=="function"?I=r(Y):I=[r,B?"active":null,ae?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(Y):i;return T.createElement(U0,{...f,"aria-current":E,className:I,ref:m,style:$,to:c,viewTransition:d},typeof u=="function"?u(Y):u)});l8.displayName="NavLink";var c8=T.forwardRef(({discover:s="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:i,method:c=A0,action:d,onSubmit:u,relative:f,preventScrollReset:m,viewTransition:b,...y},x)=>{let j=m8(),S=p8(d,{relative:f}),A=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&pN.test(d),P=M=>{if(u&&u(M),M.defaultPrevented)return;M.preventDefault();let F=M.nativeEvent.submitter,B=F?.getAttribute("formmethod")||c;j(F||M.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:a,state:i,relative:f,preventScrollReset:m,viewTransition:b})};return T.createElement("form",{ref:x,method:A,action:S,onSubmit:r?u:P,...y,"data-discover":!k&&s==="render"?"true":void 0})});c8.displayName="Form";function d8(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gN(s){let e=T.useContext(qu);return xr(e,d8(s)),e}function u8(s,{target:e,replace:t,state:r,preventScrollReset:a,relative:i,viewTransition:c}={}){let d=Mr(),u=Li(),f=Bf(s,{relative:i});return T.useCallback(m=>{if(qA(m,e)){m.preventDefault();let b=t!==void 0?t:gf(u)===gf(f);d(s,{replace:b,state:r,preventScrollReset:a,relative:i,viewTransition:c})}},[u,d,f,t,r,e,s,a,i,c])}function xN(s){ki(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(i1(s)),t=T.useRef(!1),r=Li(),a=T.useMemo(()=>HA(r.search,t.current?null:e.current),[r.search]),i=Mr(),c=T.useCallback((d,u)=>{const f=i1(typeof d=="function"?d(new URLSearchParams(a)):d);t.current=!0,i("?"+f,u)},[i,a]);return[a,c]}var h8=0,f8=()=>`__${String(++h8)}__`;function m8(){let{router:s}=gN("useSubmit"),{basename:e}=T.useContext(io),t=PA();return T.useCallback(async(r,a={})=>{let{action:i,method:c,encType:d,formData:u,body:f}=$A(r,e);if(a.navigate===!1){let m=a.fetcherKey||f8();await s.fetch(m,t,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await s.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,e,t])}function p8(s,{relative:e}={}){let{basename:t}=T.useContext(io),r=T.useContext(Uo);xr(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...Bf(s||".",{relative:e})},c=Li();if(s==null){i.search=c.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(m=>m==="")){d.delete("index"),u.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();i.search=m?`?${m}`:""}}return(!s||s===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Cl([t,i.pathname])),gf(i)}function g8(s,{relative:e}={}){let t=T.useContext(oN);xr(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=gN("useViewTransitionState"),a=Bf(s,{relative:e});if(!t.isTransitioning)return!1;let i=Pl(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Pl(t.nextLocation.pathname,r)||t.nextLocation.pathname;return z0(a.pathname,c)!=null||z0(a.pathname,i)!=null}const Rs="http://localhost:3001";class x8{constructor(){this.tokenKey="freshnest_access_token",this.refreshTokenKey="freshnest_refresh_token",this.userKey="freshnest_user",this.tokenExpiryKey="freshnest_token_expiry"}setAuthData(e){const{accessToken:t,refreshToken:r,user:a,expiresIn:i}=e;localStorage.setItem(this.tokenKey,t),localStorage.setItem(this.refreshTokenKey,r),localStorage.setItem(this.userKey,JSON.stringify(a));const c=this.calculateExpiryTime(i);localStorage.setItem(this.tokenExpiryKey,c.toString())}getAccessToken(){return localStorage.getItem(this.tokenKey)||localStorage.getItem("token")}getRefreshToken(){return localStorage.getItem(this.refreshTokenKey)}getUser(){const e=localStorage.getItem(this.userKey);return e?JSON.parse(e):null}isAuthenticated(){const e=this.getAccessToken(),t=this.getUser();return!!(e&&t)}isTokenExpired(){const e=localStorage.getItem(this.tokenExpiryKey);return e?Date.now()>=parseInt(e):!0}calculateExpiryTime(e){const t=Date.now();if(e.endsWith("m")){const r=parseInt(e.slice(0,-1));return t+r*60*1e3}else if(e.endsWith("h")){const r=parseInt(e.slice(0,-1));return t+r*60*60*1e3}else if(e.endsWith("d")){const r=parseInt(e.slice(0,-1));return t+r*24*60*60*1e3}return t+900*1e3}getAuthHeader(){const e=this.getAccessToken();return e?{Authorization:`Bearer ${e}`}:{}}async refreshAccessToken(){try{const e=this.getRefreshToken();if(!e)throw new Error("No refresh token available");const t=await fetch(`${Rs}/api/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)throw new Error("Token refresh failed");const r=await t.json();localStorage.setItem(this.tokenKey,r.accessToken),localStorage.setItem(this.refreshTokenKey,r.refreshToken);const a=this.calculateExpiryTime(r.expiresIn);return localStorage.setItem(this.tokenExpiryKey,a.toString()),r.accessToken}catch(e){throw console.error("Token refresh failed:",e),this.logout(),e}}async apiRequest(e,t={}){let r=this.getAccessToken();if(this.isTokenExpired())try{r=await this.refreshAccessToken()}catch{throw new Error("Authentication required")}const i={...typeof FormData<"u"&&t.body instanceof FormData?{}:{"Content-Type":"application/json"},...t.headers,Authorization:`Bearer ${r}`},c=await fetch(e,{...t,headers:i});if(c.status===401)try{return r=await this.refreshAccessToken(),await fetch(e,{...t,headers:{...i,Authorization:`Bearer ${r}`}})}catch(d){throw console.error("Token refresh failed:",d),new Error("Token expired - please login again")}return c}async login(e){try{console.log("=== AUTH SERVICE LOGIN ==="),console.log("API_BASE_URL:",Rs),console.log("Credentials:",e),console.log("Full URL:",`${Rs}/api/auth/login`);try{if(!(await fetch(`${Rs}/health`)).ok)throw new Error("Backend server is not responding properly")}catch{throw new Error("Cannot connect to server. Please make sure the backend is running.")}const t=await fetch(`${Rs}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e),credentials:"include",mode:"cors",cache:"no-cache",redirect:"follow"});console.log("Response status:",t.status),console.log("Response ok:",t.ok),console.log("Response headers:",t.headers);let r;try{r=await t.json(),console.log("Response data:",r)}catch(a){throw console.error("Failed to parse response as JSON:",a),new Error(`Server returned ${t.status}: Unable to parse response`)}if(!t.ok)if(console.error("Login failed with status:",t.status),console.error("Error data:",r),t.status===401){const a=r.error||r.message||"Invalid credentials";throw new Error(a)}else if(t.status===400){const a=r.error||r.message||"Invalid input";throw new Error(a)}else if(t.status===429){const a=r.error||"Too many login attempts. Please try again later.";throw new Error(a)}else throw t.status===404?new Error("User not found"):t.status===500?(console.error("Server error details:",r),new Error("Server error. Please try again later or contact support.")):new Error(r.error||r.message||`Server error: ${t.status}`);return this.setAuthData(r),r}catch(t){throw console.error("Login error:",t),t}}async logout(){try{const e=this.getRefreshToken();e&&await fetch(`${Rs}/api/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json",...this.getAuthHeader()},body:JSON.stringify({refreshToken:e})})}catch(e){console.error("Logout API call failed:",e)}finally{this.clearAuthData()}}clearAuthData(){localStorage.removeItem(this.tokenKey),localStorage.removeItem(this.refreshTokenKey),localStorage.removeItem(this.userKey),localStorage.removeItem(this.tokenExpiryKey),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("refreshToken"),sessionStorage.removeItem(this.tokenKey),sessionStorage.removeItem(this.refreshTokenKey),sessionStorage.removeItem(this.userKey),sessionStorage.removeItem(this.tokenExpiryKey),sessionStorage.removeItem("token"),sessionStorage.removeItem("user"),sessionStorage.removeItem("refreshToken"),console.log("🧹 Cleared all authentication data from localStorage and sessionStorage")}async getProfile(){try{const e=await this.apiRequest(`${Rs}/api/auth/profile`);if(!e.ok)throw new Error("Failed to fetch profile");const t=await e.json();return localStorage.setItem(this.userKey,JSON.stringify(t.user)),t.user}catch(e){throw console.error("Get profile error:",e),e}}hasRole(e){const t=this.getUser();return t&&t.role===e}isAdmin(){return this.hasRole("admin")||this.hasRole("Admin")}isRetailer(){return this.hasRole("retailer")}isRegularUser(){return this.hasRole("user")}}const Ut=new x8,X1=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"})),yN=T.createContext(),y8=({children:s})=>{const[e,t]=T.useState(null),[r,a]=T.useState(!0),[i,c]=T.useState(!1);T.useEffect(()=>{const A=async()=>{try{const P=Ut.getAccessToken(),M=Ut.getUser();if(P&&M){t(M),c(!0);try{const F=await Ut.getProfile();t(F)}catch(F){console.log("Could not refresh profile:",F.message)}}else t(null),c(!1)}catch(P){console.error("Auth initialization error:",P),Ut.getAccessToken()||(Ut.clearAuthData(),t(null),c(!1))}finally{a(!1)}};A();const k=()=>{console.log("Storage changed, re-checking auth state"),A()};return window.addEventListener("storage",k),()=>{window.removeEventListener("storage",k)}},[]);const d=async A=>{try{a(!0);const k=await Ut.login(A);return t(k.user),c(!0),k}catch(k){throw c(!1),t(null),k}finally{a(!1)}},u=async()=>{try{a(!0),await Ut.logout()}catch(A){console.error("Logout error:",A),Ut.clearAuthData()}finally{t(null),c(!1),a(!1)}},f=async()=>{try{const A=await Ut.getProfile();return t(A),A}catch(A){throw console.error("Profile update error:",A),A}},m=async()=>{try{const A=Ut.getAccessToken(),k=Ut.getUser();return A&&k?(t(k),c(!0),!0):(t(null),c(!1),!1)}catch(A){return console.error("Auth refresh error:",A),!1}},b=A=>e&&e.role===A,S={user:e,loading:r,isAuthenticated:i,login:d,logout:u,updateProfile:f,refreshAuth:m,hasRole:b,isAdmin:()=>b("admin")||b("Admin"),isRetailer:()=>b("retailer"),isRegularUser:()=>b("user"),authService:Ut};return n.jsx(yN.Provider,{value:S,children:s})},Wu=()=>{const s=T.useContext(yN);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s};let b8=0;const v8=()=>{const[s,e]=T.useState([]),t=T.useCallback((f,m="success",b={})=>{const y=++b8,x={id:y,message:f,type:m,duration:b.duration||4e3,position:b.position||"top-right",...b};return e(j=>[...j,x]),setTimeout(()=>{r(y)},x.duration+300),y},[]),r=T.useCallback(f=>{e(m=>m.filter(b=>b.id!==f))},[]),a=T.useCallback(()=>{e([])},[]),i=T.useCallback((f,m)=>t(f,"success",m),[t]),c=T.useCallback((f,m)=>t(f,"error",m),[t]),d=T.useCallback((f,m)=>t(f,"warning",m),[t]),u=T.useCallback((f,m)=>t(f,"info",m),[t]);return{toasts:s,addToast:t,removeToast:r,removeAllToasts:a,success:i,error:c,warning:d,info:u}};var bN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cv=Me.createContext&&Me.createContext(bN),w8=["attr","size","title"];function j8(s,e){if(s==null)return{};var t=N8(s,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(t[r]=s[r])}return t}function N8(s,e){if(s==null)return{};var t={};for(var r in s)if(Object.prototype.hasOwnProperty.call(s,r)){if(e.indexOf(r)>=0)continue;t[r]=s[r]}return t}function q0(){return q0=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(s[r]=t[r])}return s},q0.apply(this,arguments)}function dv(s,e){var t=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),t.push.apply(t,r)}return t}function H0(s){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dv(Object(t),!0).forEach(function(r){S8(s,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):dv(Object(t)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(t,r))})}return s}function S8(s,e,t){return e=_8(e),e in s?Object.defineProperty(s,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):s[e]=t,s}function _8(s){var e=k8(s,"string");return typeof e=="symbol"?e:e+""}function k8(s,e){if(typeof s!="object"||!s)return s;var t=s[Symbol.toPrimitive];if(t!==void 0){var r=t.call(s,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function vN(s){return s&&s.map((e,t)=>Me.createElement(e.tag,H0({key:t},e.attr),vN(e.child)))}function ot(s){return e=>Me.createElement(A8,q0({attr:H0({},s.attr)},e),vN(s.child))}function A8(s){var e=t=>{var{attr:r,size:a,title:i}=s,c=j8(s,w8),d=a||t.size||"1em",u;return t.className&&(u=t.className),s.className&&(u=(u?u+" ":"")+s.className),Me.createElement("svg",q0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:u,style:H0(H0({color:s.color||t.color},t.style),s.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&Me.createElement("title",null,i),s.children)};return cv!==void 0?Me.createElement(cv.Consumer,null,t=>e(t)):e(bN)}function C8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(s)}function wN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(s)}function Dn(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(s)}function o1(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function uv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(s)}function jN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(s)}function kc(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(s)}function Ac(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(s)}function L8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function ua(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(s)}function Nd(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function Vu(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function hv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(s)}function fv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(s)}function _i(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function E8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8h1a4 4 0 0 1 0 8h-1"},child:[]},{tag:"path",attr:{d:"M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"},child:[]},{tag:"line",attr:{x1:"6",y1:"1",x2:"6",y2:"4"},child:[]},{tag:"line",attr:{x1:"10",y1:"1",x2:"10",y2:"4"},child:[]},{tag:"line",attr:{x1:"14",y1:"1",x2:"14",y2:"4"},child:[]}]})(s)}function Ll(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function Fn(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function no(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(s)}function NN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(s)}function P8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(s)}function mv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(s)}function Du(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(s)}function Sd(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function xf(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(s)}function T8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(s)}function M8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(s)}function mp(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(s)}function pv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(s)}function SN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"},child:[]}]})(s)}function _N(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(s)}function L0(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function Iu(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function Mc(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function zf(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(s)}function pp(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function Cc(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(s)}function R8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(s)}function O8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function D8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(s)}function wn(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function Uf(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(s)}function I8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(s)}function yf(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function Wa(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function kN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(s)}function Rc(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function vd(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(s)}function l1(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function Nc(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(s)}function gv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(s)}function Sl(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(s)}function af(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(s)}function W0(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(s)}function F8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(s)}function AN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(s)}function xv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(s)}function B8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"3"},child:[]}]})(s)}function z8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"5",width:"22",height:"14",rx:"7",ry:"7"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"3"},child:[]}]})(s)}function gp(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function J1(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(s)}function _d(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function Cd(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"},child:[]},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"},child:[]},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"},child:[]},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"},child:[]}]})(s)}function U8(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(s)}function yv(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(s)}function nx(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"},child:[]},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"},child:[]}]})(s)}function Kn(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function Sc(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function CN(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12.55a11 11 0 0 1 14.08 0"},child:[]},{tag:"path",attr:{d:"M1.42 9a16 16 0 0 1 21.16 0"},child:[]},{tag:"path",attr:{d:"M8.53 16.11a6 6 0 0 1 6.95 0"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12.01",y2:"20"},child:[]}]})(s)}function c1(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(s)}function Jr(s){return ot({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}const q8=`
  @keyframes shrink {
    from { width: 100%; }
    to { width: 0%; }
  }
  @keyframes slideInRight {
    from {
      transform: translateX(100%);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
  @keyframes slideOutRight {
    from {
      transform: translateX(0);
      opacity: 1;
    }
    to {
      transform: translateX(100%);
      opacity: 0;
    }
  }
`;if(typeof document<"u"&&!document.getElementById("toast-styles")){const s=document.createElement("style");s.id="toast-styles",s.textContent=q8,document.head.appendChild(s)}const H8=({message:s,type:e="success",duration:t=4e3,onClose:r,position:a="top-right"})=>{const[i,c]=T.useState(!0),[d,u]=T.useState(!1);T.useEffect(()=>{const j=setTimeout(()=>{f()},t);return()=>clearTimeout(j)},[t]);const f=()=>{u(!0),setTimeout(()=>{c(!1),r&&r()},300)},m=()=>{switch(e){case"success":return{icon:Nd,bgColor:"bg-emerald-50",borderColor:"border-emerald-200",iconColor:"text-emerald-600",textColor:"text-emerald-800",progressColor:"bg-emerald-500"};case"error":return{icon:wN,bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600",textColor:"text-red-800",progressColor:"bg-red-500"};case"warning":return{icon:Dn,bgColor:"bg-amber-50",borderColor:"border-amber-200",iconColor:"text-amber-600",textColor:"text-amber-800",progressColor:"bg-amber-500"};case"info":return{icon:pv,bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600",textColor:"text-blue-800",progressColor:"bg-blue-500"};default:return{icon:pv,bgColor:"bg-gray-50",borderColor:"border-gray-200",iconColor:"text-gray-600",textColor:"text-gray-800",progressColor:"bg-gray-500"}}},b=()=>{switch(a){case"top-left":return"top-4 left-4";case"top-center":return"top-4 left-1/2 transform -translate-x-1/2";case"top-right":return"top-4 right-4";case"bottom-left":return"bottom-4 left-4";case"bottom-center":return"bottom-4 left-1/2 transform -translate-x-1/2";case"bottom-right":return"bottom-4 right-4";default:return"top-4 right-4"}};if(!i)return null;const y=m(),x=y.icon;return n.jsx("div",{className:`fixed ${b()} z-50 transition-all duration-300 ease-in-out ${d?"opacity-0 transform translate-x-full scale-95":"opacity-100 transform translate-x-0 scale-100"}`,children:n.jsxs("div",{className:`
        ${y.bgColor} ${y.borderColor} ${y.textColor}
        border rounded-xl shadow-lg backdrop-blur-sm
        min-w-80 max-w-md p-4
        transform transition-all duration-300 ease-out
        hover:shadow-xl hover:scale-105
      `,children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:`flex-shrink-0 ${y.iconColor}`,children:n.jsx(x,{className:"w-5 h-5 mt-0.5"})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-sm font-medium leading-5",children:s})}),n.jsx("button",{onClick:f,className:`flex-shrink-0 ${y.iconColor} hover:opacity-70 transition-opacity`,children:n.jsx(Jr,{className:"w-4 h-4"})})]}),n.jsx("div",{className:"mt-3 w-full bg-white/50 rounded-full h-1 overflow-hidden",children:n.jsx("div",{className:`h-full ${y.progressColor} rounded-full transition-all ease-linear`,style:{animation:`shrink ${t}ms linear forwards`}})})]})})},W8=({toasts:s,removeToast:e})=>n.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:s.map(t=>n.jsx(H8,{message:t.message,type:t.type,duration:t.duration,position:t.position,onClose:()=>e(t.id)},t.id))}),LN=T.createContext(),V8=({children:s})=>{const e=v8();return n.jsxs(LN.Provider,{value:e,children:[s,n.jsx(W8,{toasts:e.toasts,removeToast:e.removeToast})]})},cr=()=>{const s=T.useContext(LN);if(!s)throw new Error("useToastContext must be used within a ToastProvider");return s},xu=({children:s,requiredRoles:e=[],fallbackPath:t="/login"})=>{const{isAuthenticated:r,user:a,loading:i}=Wu(),c=Li();return i?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600 font-medium",children:"Verifying authentication..."})]})}):r?e.length>0&&!e.includes(a?.role)?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:n.jsxs("div",{className:"max-w-md mx-auto text-center bg-white rounded-2xl shadow-xl p-8",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Access Denied"}),n.jsx("p",{className:"text-slate-600 mb-4",children:"You don't have permission to access this page."}),n.jsxs("div",{className:"bg-slate-50 rounded-lg p-4 mb-6",children:[n.jsxs("p",{className:"text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Your role:"})," ",a?.role||"Unknown"]}),n.jsxs("p",{className:"text-sm text-slate-700",children:[n.jsx("span",{className:"font-medium",children:"Required roles:"})," ",e.join(", ")]})]}),n.jsx("button",{onClick:()=>window.history.back(),className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Go Back"})]})}):s:n.jsx(OA,{to:t,state:{from:c},replace:!0})};function EN(s){const e=document.getElementById(s);e&&e.scrollIntoView({behavior:"smooth"})}function $8(){return n.jsxs("nav",{className:"fixed top-0 left-0 w-full bg-white z-50 shadow flex justify-between items-center px-8 py-4",children:[n.jsx("div",{className:"font-extrabold text-2xl tracking-widest text-black uppercase select-none",style:{letterSpacing:"0.2em",fontFamily:"Inter, sans-serif"},children:"FRESHNEST"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("a",{href:"#contact",onClick:s=>{s.preventDefault(),EN("contact")},className:"px-4 py-2 rounded font-medium text-gray-700 hover:bg-gray-100 hover:text-green-700 transition-colors duration-200",children:"Contact"}),n.jsx(U0,{to:"/login",className:"px-4 py-2 rounded font-medium border border-green-600 text-green-700 hover:bg-green-600 hover:text-white transition-colors duration-200 shadow-sm",children:"Login"}),n.jsx(U0,{to:"/login?role=retailer",className:"px-5 py-2 rounded-full font-bold bg-gradient-to-r from-green-700 to-green-500 text-white shadow-lg border-2 border-green-800 hover:from-green-800 hover:to-green-600 hover:text-white focus:text-white transition-all duration-200 text-base tracking-wide",style:{color:"white"},children:"I'm a Retailer – Let’s Go"})]})]})}function G8(){return n.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[n.jsx($8,{}),n.jsx("section",{className:"flex flex-col items-center justify-center text-white text-center h-screen bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1502741338009-cac2772e18bc?auto=format&fit=crop&w=1500&q=80')"},children:n.jsxs("div",{className:"mt-32",children:[n.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold mb-8 drop-shadow-lg",children:"Smart, Fresh, and Efficient Warehouse Management"}),n.jsx("a",{href:"#order",className:"inline-block bg-white text-black font-semibold px-8 py-4 rounded shadow hover:bg-green-100 transition",children:"See our solutions"})]})})]})}function Y8(){return n.jsxs("section",{id:"about",className:"py-20 bg-white text-center",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"More than just a warehouse"}),n.jsx("p",{className:"max-w-2xl mx-auto text-lg mb-8 text-gray-700",children:"At FreshNest, we combine technology and care to deliver the freshest produce and the most efficient warehouse management. Our platform empowers staff, streamlines inventory, and connects suppliers and customers for a smarter, greener future."}),n.jsx("button",{className:"bg-green-600 text-white px-8 py-3 rounded font-semibold hover:bg-green-700 transition",children:"Our story"})]})}const K8=[{title:"GROCERY ESSENTIALS",img:"https://images.pexels.com/photos/461382/pexels-photo-461382.jpeg?auto=compress&w=800&q=80",desc:"Real-time tracking of essential goods to avoid shortages and maintain stock levels efficiently using ML-driven insights."},{title:"GROCERY BASKET",img:"https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg?auto=compress&w=800&q=80",desc:"Automated inventory bundling and intelligent restocking ensure your warehouse stays organized and responsive to demand."},{title:"FRESH FOODS",img:"https://images.pexels.com/photos/32937515/pexels-photo-32937515.jpeg?auto=compress&w=800&q=80",desc:"Predictive stock alerts and supplier-linked restocking ensure fast-moving perishable items like fruits are always available, fresh, and never overstocked."}];function X8(){return n.jsx("section",{id:"order",className:"py-20 bg-gray-50",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[n.jsx("div",{className:"mb-12 text-center",children:n.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover how FreshNest empowers your warehouse with real-time tracking, automation, and predictive insights for a smarter, fresher supply chain."})}),n.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:K8.map((s,e)=>n.jsxs("div",{className:"bg-white rounded-2xl shadow-md hover:shadow-xl transition-shadow duration-300 p-6 flex flex-col items-center border border-gray-100 hover:border-green-200 group",children:[n.jsx("div",{className:"overflow-hidden rounded-xl w-full h-48 mb-6",children:n.jsx("img",{src:s.img,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),n.jsx("h3",{className:"font-bold text-xl mb-2 text-center text-green-700",children:s.title}),n.jsx("p",{className:"text-gray-600 text-center text-base leading-relaxed",children:s.desc})]},e))})]})})}function J8(){return n.jsxs("section",{id:"story",className:"py-16 bg-green-50 text-center text-gray-900",children:[n.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"From our warehouse to your table, every step is powered by innovation and care."}),n.jsx("button",{onClick:()=>EN("contact"),className:"bg-green-600 text-white px-8 py-3 rounded font-semibold hover:bg-green-700 transition",children:"Get in touch"})]})}function Z8(){return n.jsx("footer",{className:"bg-green-50 border-t py-8 text-gray-900",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center md:items-start text-center md:text-left gap-8",children:[n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"font-semibold mb-2",children:"The best quality produce – from us to you"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold mb-2",children:"Contact"}),n.jsx("div",{children:"701-931-6988"}),n.jsx("div",{children:"hello@freshnest.com"})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-semibold mb-2",children:"Address"}),n.jsx("div",{children:"1420 Willis Avenue"}),n.jsx("div",{children:"Jacksonville, FL 32216"})]})]})})}const Z1=""+new URL("img1-CmsnJJbI.jpg",import.meta.url).href,Q8=()=>n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx(Dj,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsx(Zj,{mode:"modal",afterSignInUrl:"/",afterSignUpUrl:"/",asChild:!0,children:n.jsxs("button",{className:"w-full py-3 px-4 border border-white/20 rounded-2xl bg-white/10 text-white font-medium hover:bg-white/20 transition-all duration-300 flex items-center justify-center space-x-3 backdrop-blur-sm",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),n.jsx("span",{children:"Sign In with Google"})]})}),n.jsx(Qj,{mode:"modal",afterSignInUrl:"/",afterSignUpUrl:"/",asChild:!0,children:n.jsx("button",{className:"w-full py-2 px-4 border border-white/10 rounded-xl bg-white/5 text-white/70 font-medium hover:bg-white/10 transition-all duration-300 flex items-center justify-center space-x-2 backdrop-blur-sm text-sm",children:n.jsx("span",{children:"New user? Sign up with Google"})})})]})}),n.jsx(Oj,{children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("span",{className:"text-white",children:"Redirecting to dashboard..."}),n.jsx(Wj,{afterSignOutUrl:"/"})]})})]});class eC{constructor(){this.rules=new Map,this.messages=new Map,this.setupDefaultRules()}setupDefaultRules(){this.addRule("email",{required:!0,pattern:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,noSpaces:!0,transform:e=>e?.toLowerCase().trim()}),this.addMessage("email",{required:"Email is required",pattern:"Enter a valid email address",noSpaces:"Email cannot contain spaces"}),this.addRule("password",{required:!0,minLength:6,noSpaces:!0,patterns:{uppercase:/[A-Z]/,lowercase:/[a-z]/,digit:/\d/,special:/[!@#$%^&*(),.?":{}|<>]/}}),this.addMessage("password",{required:"Password is required",minLength:"Password must be at least {minLength} characters",noSpaces:"Password cannot contain spaces",patterns:"Password should include at least one uppercase letter, one lowercase letter, one digit, and one special character"}),this.addRule("loginPassword",{required:!0,minLength:6,noSpaces:!0}),this.addMessage("loginPassword",{required:"Password is required",minLength:"Password must be at least {minLength} characters",noSpaces:"Password cannot contain spaces"}),this.addRule("fullName",{required:!0,pattern:/^[a-zA-Z' ]+$/,noLeadingSpace:!0,noNumbers:!0,noSpecialChars:/[!@#$%^&*()_+{}\[\]:;<>,.?~\\/-]/,noMultipleSpaces:!0,capitalizeFirst:!0}),this.addMessage("fullName",{required:"Full Name is required",pattern:"Full Name should only contain letters, and single spaces",noLeadingSpace:"Full Name cannot start with a space",noNumbers:"Numbers are not allowed in the name",noSpecialChars:"Special characters are not allowed in the name",noMultipleSpaces:"Full Name should only contain single spaces",capitalizeFirst:"First letter of Full Name must be capital"}),this.addRule("phone",{required:!0,pattern:/^(\+91[6-9][0-9]{9}|[6789][0-9]{9})$/,noRepeatingDigits:/(\d)\1{9}/}),this.addMessage("phone",{required:"Phone number is required",pattern:"Enter a valid phone number",noRepeatingDigits:"Phone number cannot contain repeating digits"}),this.addRule("confirmPassword",{required:!0,matchField:"password"}),this.addMessage("confirmPassword",{required:"Confirm Password is required",matchField:"Passwords do not match"})}addRule(e,t){this.rules.set(e,{...this.rules.get(e),...t})}addMessage(e,t){this.messages.set(e,{...this.messages.get(e),...t})}getRule(e){return this.rules.get(e)||{}}getMessages(e){return this.messages.get(e)||{}}validateField(e,t,r={}){const a=this.getRule(e),i=this.getMessages(e);if(!a)return"";if(a.transform&&typeof a.transform=="function"&&(t=a.transform(t)),a.required&&(!t||t.trim()===""))return i.required||`${e} is required`;if(!t||t.trim()==="")return"";if(a.noSpaces&&t.includes(" "))return i.noSpaces||`${e} cannot contain spaces`;if(a.noLeadingSpace&&t.charAt(0)===" ")return i.noLeadingSpace||`${e} cannot start with a space`;if(a.noNumbers&&/[0-9]/.test(t))return i.noNumbers||`Numbers are not allowed in ${e}`;if(a.noSpecialChars&&a.noSpecialChars.test(t))return i.noSpecialChars||`Special characters are not allowed in ${e}`;if(a.noMultipleSpaces&&/\s{2,}/.test(t))return i.noMultipleSpaces||`${e} should only contain single spaces`;if(a.capitalizeFirst&&!/^[A-Z]/.test(t))return i.capitalizeFirst||`First letter of ${e} must be capital`;if(a.minLength&&t.length<a.minLength)return(i.minLength||`${e} must be at least {minLength} characters`).replace("{minLength}",a.minLength);if(a.maxLength&&t.length>a.maxLength)return(i.maxLength||`${e} must be at most {maxLength} characters`).replace("{maxLength}",a.maxLength);if(a.pattern&&!a.pattern.test(t))return i.pattern||`${e} format is invalid`;if(a.noRepeatingDigits&&a.noRepeatingDigits.test(t))return i.noRepeatingDigits||`${e} cannot contain repeating digits`;if(a.patterns&&typeof a.patterns=="object"){const c=[];for(const[d,u]of Object.entries(a.patterns))u.test(t)||c.push(d);if(c.length>0)return i.patterns||`${e} does not meet complexity requirements`}return a.matchField&&r[a.matchField]!==t?i.matchField||`${e} does not match ${a.matchField}`:""}validateForm(e,t=null){const r={},a=t||Object.keys(e);for(const i of a){const c=this.validateField(i,e[i],e);c&&(r[i]=c)}return r}isFormValid(e,t=null){const r=this.validateForm(e,t);return Object.keys(r).length===0}getFieldValidator(e){return(t,r={})=>this.validateField(e,t,r)}getFieldState(e,t,r={}){return!t||t.trim()===""?"neutral":this.validateField(e,t,r)?"invalid":"valid"}getFieldClasses(e,t,r={},a=""){const i=this.getFieldState(e,t,r);let c="";switch(i){case"valid":c="border-green-500 focus:ring-green-500";break;case"invalid":c="border-red-500 focus:ring-red-500";break;default:c="border-gray-300 focus:ring-blue-500"}return`${a} ${c}`.trim()}createCustomRule(e,t,r){this.addRule(e,{custom:t}),this.addMessage(e,{custom:r})}validateWithCustomRules(e,t,r,a={}){let i=this.validateField(e,t,a);if(i)return i;for(const c of r)if(typeof c.validator=="function"&&!c.validator(t,a))return c.message||`${e} is invalid`;return""}}const $u=new eC,Ld=s=>$u.validateField("email",s),bf=s=>$u.validateField("password",s),d1=s=>$u.validateField("loginPassword",s),vf=s=>$u.validateField("fullName",s),wf=s=>$u.validateField("phone",s),jf=(s,e)=>$u.validateField("confirmPassword",s,e),tC=()=>{const s=Mr(),[e]=xN(),{success:t,error:r}=cr(),a=e.get("role"),[i,c]=T.useState({email:"",password:""}),[d,u]=T.useState({}),[f,m]=T.useState(""),[b,y]=T.useState(!1),x="/freshnest-frontend";function j(P){const M=`${x}${P}`;window.location.replace(M)}function S(P){c({...i,[P.target.name]:P.target.value}),d[P.target.name]&&u({...d,[P.target.name]:""}),m("")}function A(P){const{name:M,value:F}=P.target;let B="";M==="email"?B=Ld(F):M==="password"&&(B=d1(F)),B&&u({...d,[M]:B})}async function k(P){P.preventDefault();const M={email:Ld(i.email),password:d1(i.password)};if(u(M),!(M.email||M.password)){y(!0),m("");try{console.log("Attempting login with:",{email:i.email,passwordLength:i.password?.length});const F=await Ut.login(i);let B=null;try{B=await Ut.getProfile()}catch(ae){console.warn("Profile fetch failed, falling back to login response user:",ae),B=F?.user||null}if(y(!1),!B)throw new Error("Failed to get user details after login");console.log("Login successful:",F),console.log("Resolved role:",B?.role),t(`Welcome back, ${B?.fullName||B?.email}! 🎉`,{duration:3e3}),setTimeout(()=>{B&&(B.role==="admin"||B.role==="Admin")?(console.log("Redirecting to admin dashboard..."),j("/admin/dashboard")):B&&(B.role==="retailer"||B.role==="Retailer")?(console.log("Redirecting to retailer dashboard..."),j("/retailer/dashboard")):B&&(B.role==="staff"||B.role==="Staff")?(console.log("Redirecting to staff dashboard..."),j("/staff/dashboard")):B&&(B.role==="supplier"||B.role==="Supplier")?(console.log("Redirecting to supplier dashboard..."),j("/supplier/dashboard")):B&&(B.role==="user"||B.role==="User")?(console.log("Redirecting to user dashboard..."),j("/user/dashboard")):(console.log("Redirecting to home..."),j("/"))},100)}catch(F){y(!1),console.error("Login error details:",F);const B=F.message.toLowerCase();let ae="";B.includes("verify your email")||B.includes("email not verified")?ae="⚠️ Please verify your email address before logging in. Check your inbox for the verification link.":B.includes("rate limit")||B.includes("too many")?ae="🚫 Too many login attempts. Please wait a few minutes before trying again.":B.includes("server error")||B.includes("server is")?ae="🔧 Server is currently unavailable. Please try again later or contact support.":B.includes("invalid credentials")||B.includes("invalid email or password")||B.includes("invalid")?ae="❌ Invalid login credentials. Please check your email and password and try again.":B.includes("not found")||B.includes("user not found")?ae="👤 Account not found. Please check your email or sign up for a new account.":B.includes("password must be")?ae="🔒 "+F.message:B.includes("email format")||B.includes("invalid email format")?ae="📧 Please enter a valid email address.":ae="❌ Login failed. "+(F.message||"Please try again."),r(ae,{duration:5e3}),m(ae),console.log("Login attempt details:",{email:i.email,timestamp:new Date().toISOString(),errorType:F.name,errorStack:F.stack})}}}return n.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#004030"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob",style:{backgroundColor:"#437057"}}),n.jsx("div",{className:"absolute top-40 right-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-2000",style:{backgroundColor:"#5a8a6b"}}),n.jsx("div",{className:"absolute -bottom-8 left-40 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-4000",style:{backgroundColor:"#437057"}})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((P,M)=>n.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-20 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},M))}),n.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen w-full",children:n.jsxs("div",{className:"w-full pl-8 pr-24 grid lg:grid-cols-2 gap-8 items-center",children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 lg:p-12 shadow-2xl border border-white/20 m-[4rem]",children:[n.jsx("button",{onClick:()=>s(-1),className:"absolute -top-4 -left-4 w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 group",children:n.jsx("svg",{className:"w-8 h-8 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2",children:[n.jsx("span",{className:"text-5xl font-black text-white",children:"Fresh"}),n.jsx("span",{className:"text-5xl font-black",style:{color:"#437057"},children:"Nest"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Sign in to your account"})]})]}),n.jsxs("form",{onSubmit:k,className:"space-y-6",children:[n.jsxs("div",{className:"flex rounded-2xl overflow-hidden border border-white/20 bg-white/5 backdrop-blur-sm",children:[n.jsx("button",{type:"button",className:"flex-1 py-4 text-lg font-semibold transition-all duration-300 text-white shadow-lg",style:{backgroundColor:"#437057"},children:"Sign In"}),n.jsx("button",{type:"button",className:"flex-1 py-4 text-lg font-semibold transition-all duration-300 bg-transparent text-gray-300 hover:text-white",onClick:()=>s(a==="retailer"?"/retailer-signup":"/signup"),children:"Sign Up"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:i.email,onChange:S,onBlur:A}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),d.email&&n.jsxs("div",{className:"text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d.email]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",name:"password",placeholder:"Enter your password",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:i.password,onChange:S,onBlur:A}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),d.password&&n.jsxs("div",{className:"text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),d.password]})]}),f&&n.jsxs("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 text-red-200 text-sm flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),f]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>s("/forgot-password"),className:"text-sm text-white hover:text-gray-300 transition-colors font-medium",children:"Forgot Password?"})}),n.jsx("button",{type:"submit",disabled:b,className:"w-full text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:"#437057",focusRingColor:"#437057"},children:b?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-white/30"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-transparent text-gray-300",children:"Or continue with"})})]}),n.jsx(Q8,{}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-300",children:["Don't have an account?"," ",n.jsx("button",{type:"button",onClick:()=>s(a==="retailer"?"/retailer-signup":"/signup"),className:"text-white hover:text-gray-300 font-semibold underline",children:"Create account"})]})})]})]})}),n.jsx("div",{className:"hidden lg:block relative",children:n.jsxs("div",{className:"relative h-full min-h-[600px] rounded-3xl overflow-hidden",children:[n.jsx("img",{src:Z1,alt:"Fresh produce and groceries",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Welcome Back to FreshNest"}),n.jsx("p",{className:"text-emerald-200 text-lg mb-6",children:"Access your dashboard, manage your inventory, and keep your business running smoothly."}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex -space-x-2",children:[...Array(4)].map((P,M)=>n.jsx("div",{className:"w-8 h-8 bg-emerald-400 rounded-full border-2 border-white"},M))}),n.jsx("span",{className:"text-emerald-200 text-sm",children:"Trusted by 10,000+ users"})]})]})]})})]})}),n.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})};function sC(){const{success:s,error:e}=cr(),[t,r]=T.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1}),[a,i]=T.useState({}),[c,d]=T.useState(""),[u,f]=T.useState(!1),m=Mr();function b(j){const{name:S,value:A,type:k,checked:P}=j.target;r(M=>({...M,[S]:k==="checkbox"?P:A})),a[S]&&i({...a,[S]:""}),d("")}function y(j){const{name:S,value:A}=j.target;let k="";S==="fullName"?k=vf(A):S==="email"?k=Ld(A):S==="phone"?k=wf(A):S==="password"?k=bf(A):S==="confirmPassword"&&(k=jf(A,t)),k&&i({...a,[S]:k})}async function x(j){j.preventDefault();const S={fullName:vf(t.fullName),email:Ld(t.email),phone:wf(t.phone),password:bf(t.password),confirmPassword:jf(t.confirmPassword,t)};if(i(S),!Object.values(S).some(A=>A!=="")){if(!t.terms){d("You must agree to the Terms and Conditions");return}f(!0),d("");try{const A=await fetch(`${Rs}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:t.fullName,email:t.email,phone:t.phone,password:t.password})}),k=await A.json();f(!1),A.ok?(s("Signup successful! 🎉 Please check your email for the verification code.",{duration:4e3}),setTimeout(()=>{m("/otp-verification",{state:{email:t.email,userType:"user"}})},2e3)):(d(k.error||"Signup failed"),e(k.error||"Signup failed",{duration:4e3}))}catch{f(!1),d("Server error. Please try again.")}}}return n.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#004030"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob",style:{backgroundColor:"#437057"}}),n.jsx("div",{className:"absolute top-40 right-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-2000",style:{backgroundColor:"#5a8a6b"}}),n.jsx("div",{className:"absolute -bottom-8 left-40 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-4000",style:{backgroundColor:"#437057"}})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((j,S)=>n.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-20 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},S))}),n.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen w-full",children:n.jsxs("div",{className:"w-full pl-8 pr-24 grid lg:grid-cols-2 gap-8 items-center",children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 lg:p-12 shadow-2xl border border-white/20",children:[n.jsx("button",{onClick:()=>m(-1),className:"absolute -top-4 -left-4 w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 group",children:n.jsx("svg",{className:"w-8 h-8 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2",children:[n.jsx("span",{className:"text-5xl font-black text-white",children:"Fresh"}),n.jsx("span",{className:"text-5xl font-black",style:{color:"#437057"},children:"Nest"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join the Revolution"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Create your account and start your journey"})]})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",name:"fullName",placeholder:"Full Name",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.fullName,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),a.fullName&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.fullName]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.email,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),a.email&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.email]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.phone,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),a.phone&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.phone]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",name:"password",placeholder:"Password",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.password,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),a.password&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.password]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.confirmPassword,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.confirmPassword&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.confirmPassword]})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",name:"terms",checked:t.terms,onChange:b,className:"mt-1 w-5 h-5 bg-white/10 border-white/20 rounded focus:ring-2",style:{accentColor:"#437057",focusRingColor:"#437057"}}),n.jsxs("label",{className:"text-sm text-gray-300",children:["I agree to the"," ",n.jsx("a",{href:"#",className:"hover:underline font-medium",style:{color:"#437057"},children:"Terms and Conditions"})]})]}),c&&n.jsxs("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 text-red-200 text-sm flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c]}),n.jsx("button",{type:"submit",disabled:u,className:"w-full text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:"#437057",focusRingColor:"#437057"},children:u?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-300",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:()=>m("/login"),className:"font-semibold hover:underline",style:{color:"#437057"},children:"Sign In"})]})})]})]})}),n.jsx("div",{className:"hidden lg:block relative",children:n.jsxs("div",{className:"relative h-full min-h-[600px] rounded-3xl overflow-hidden",children:[n.jsx("img",{src:Z1,alt:"Fresh produce and groceries",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Join the Smart Grocery Revolution"}),n.jsx("p",{className:"text-emerald-200 text-lg mb-6",children:"Get access to fresh produce, smart inventory management, and seamless delivery."}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex -space-x-2",children:[...Array(4)].map((j,S)=>n.jsx("div",{className:"w-8 h-8 bg-emerald-400 rounded-full border-2 border-white"},S))}),n.jsx("span",{className:"text-emerald-200 text-sm",children:"Join 10,000+ happy customers"})]})]})]})})]})}),n.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}function rC(){return n.jsx("section",{id:"contact",className:"py-4 px-4 bg-white",children:n.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[n.jsx("div",{children:n.jsx("div",{className:"text-xl font-semibold mb-2",children:"The best quality produce – from us to you"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-semibold mb-2",children:"Contact"}),n.jsxs("div",{children:["701-931-6988",n.jsx("br",{}),"hello@freshnest.com"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-semibold mb-2",children:"Address"}),n.jsxs("div",{children:["1420 Willis Avenue",n.jsx("br",{}),"Jacksonville, FL 32216"]})]})]})})}function nC(){const{success:s,error:e}=cr(),[t,r]=T.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:"",terms:!1,role:"retailer"}),[a,i]=T.useState({}),[c,d]=T.useState(""),[u,f]=T.useState(!1),m=Mr();function b(j){const{name:S,value:A,type:k,checked:P}=j.target;r(M=>({...M,[S]:k==="checkbox"?P:A})),a[S]&&i({...a,[S]:""}),d("")}function y(j){const{name:S,value:A}=j.target;let k="";S==="fullName"?k=vf(A):S==="email"?k=Ld(A):S==="phone"?k=wf(A):S==="password"?k=bf(A):S==="confirmPassword"&&(k=jf(A,t)),k&&i({...a,[S]:k})}async function x(j){j.preventDefault();const S={fullName:vf(t.fullName),email:Ld(t.email),phone:wf(t.phone),password:bf(t.password),confirmPassword:jf(t.confirmPassword,t)};if(i(S),!Object.values(S).some(A=>A!=="")){if(!t.terms){d("You must agree to the Terms and Conditions");return}f(!0),d("");try{const A=await fetch(`${Rs}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullName:t.fullName,email:t.email,phone:t.phone,password:t.password,role:t.role})}),k=await A.json();f(!1),A.ok?(s("Registration successful! 🎉 Please check your email for the verification code.",{duration:4e3}),setTimeout(()=>{m("/otp-verification",{state:{email:t.email,userType:"retailer"}})},2e3)):(d(k.error||"Signup failed"),e(k.error||"Signup failed",{duration:4e3}))}catch{f(!1),d("Server error. Please try again.")}}}return n.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#004030"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob",style:{backgroundColor:"#437057"}}),n.jsx("div",{className:"absolute top-40 right-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-2000",style:{backgroundColor:"#5a8a6b"}}),n.jsx("div",{className:"absolute -bottom-8 left-40 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-4000",style:{backgroundColor:"#437057"}})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((j,S)=>n.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-20 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},S))}),n.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen w-full",children:n.jsxs("div",{className:"w-full pl-8 pr-24 grid lg:grid-cols-2 gap-8 items-center",children:[n.jsx("div",{className:"relative",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 lg:p-12 shadow-2xl border border-white/20",children:[n.jsx("button",{onClick:()=>m(-1),className:"absolute -top-4 -left-4 w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 group",children:n.jsx("svg",{className:"w-8 h-8 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2",children:[n.jsx("span",{className:"text-5xl font-black text-white",children:"Fresh"}),n.jsx("span",{className:"text-5xl font-black",style:{color:"#437057"},children:"Nest"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Retailer Registration"}),n.jsx("p",{className:"text-gray-300 text-lg",children:"Join our network and grow your business"})]})]}),n.jsxs("form",{onSubmit:x,className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",name:"fullName",placeholder:"Business Owner Name",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.fullName,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})})]}),a.fullName&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.fullName]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"email",name:"email",placeholder:"Business Email",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.email,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),a.email&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.email]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"tel",name:"phone",placeholder:"Contact Number",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.phone,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]}),a.phone&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.phone]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",name:"password",placeholder:"Password",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.password,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})})]}),a.password&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.password]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",className:"w-full px-6 py-4 bg-white/10 border border-white/20 rounded-2xl text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"},value:t.confirmPassword,onChange:b,onBlur:y}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),a.confirmPassword&&n.jsxs("div",{className:"mt-2 text-red-300 text-sm flex items-center",children:[n.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.confirmPassword]})]})]}),n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("input",{type:"checkbox",name:"terms",checked:t.terms,onChange:b,className:"mt-1 w-5 h-5 bg-white/10 border-white/20 rounded focus:ring-2",style:{accentColor:"#437057",focusRingColor:"#437057"}}),n.jsxs("label",{className:"text-sm text-gray-300",children:["I agree to the"," ",n.jsx("a",{href:"#",className:"hover:underline font-medium",style:{color:"#437057"},children:"Terms and Conditions"})]})]}),c&&n.jsxs("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 text-red-200 text-sm flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),c]}),n.jsx("button",{type:"submit",disabled:u,className:"w-full text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:"#437057",focusRingColor:"#437057"},children:u?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering Business..."]}):"Register Business"}),n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-gray-300",children:["Already have an account?"," ",n.jsx("button",{type:"button",onClick:()=>m("/login"),className:"font-semibold hover:underline",style:{color:"#437057"},children:"Sign In"})]})})]})]})}),n.jsx("div",{className:"hidden lg:block relative",children:n.jsxs("div",{className:"relative h-full min-h-[600px] rounded-3xl overflow-hidden",children:[n.jsx("img",{src:Z1,alt:"Business and retail environment",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:[n.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Grow Your Business with FreshNest"}),n.jsx("p",{className:"text-emerald-200 text-lg mb-6",children:"Access exclusive tools, analytics, and support designed for retailers."}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"flex -space-x-2",children:[...Array(4)].map((j,S)=>n.jsx("div",{className:"w-8 h-8 bg-emerald-400 rounded-full border-2 border-white"},S))}),n.jsx("span",{className:"text-emerald-200 text-sm",children:"Join 500+ successful retailers"})]})]})]})})]})}),n.jsx("style",{children:`
        @keyframes blob {
          0% { transform: translate(0px, 0px) scale(1); }
          33% { transform: translate(30px, -50px) scale(1.1); }
          66% { transform: translate(-20px, 20px) scale(0.9); }
          100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob {
          animation: blob 7s infinite;
        }
        .animation-delay-2000 {
          animation-delay: 2s;
        }
        .animation-delay-4000 {
          animation-delay: 4s;
        }
      `})]})}const aC="modulepreload",iC=function(s,e){return new URL(s,e).href},bv={},Bn=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),u=d?.nonce||d?.getAttribute("nonce");a=f(t.map(m=>{if(m=iC(m,r),m in bv)return;bv[m]=!0;const b=m.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(!!r)for(let S=c.length-1;S>=0;S--){const A=c[S];if(A.href===m&&(!b||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${y}`))return;const j=document.createElement("link");if(j.rel=b?"stylesheet":aC,b||(j.as="script"),j.crossOrigin="",j.href=m,u&&j.setAttribute("nonce",u),document.head.appendChild(j),b)return new Promise((S,A)=>{j.addEventListener("load",S),j.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function i(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&i(d.reason);return e().catch(i)})},Na="http://localhost:3001";class oC{async apiRequest(e,t={}){return await Ut.apiRequest(e,t)}async createStaff(e){try{const t=await this.apiRequest(`${Na}/api/staff`,{method:"POST",body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to create staff member");return r}catch(t){throw console.error("Create staff error:",t),t}}async getAllStaff(e={}){try{const t=new URLSearchParams(e),r=await this.apiRequest(`${Na}/api/staff?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch staff members");return a}catch(t){throw console.error("Get staff error:",t),t}}async getStaffById(e){try{const t=await this.apiRequest(`${Na}/api/staff/${e}`),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to fetch staff member");return r}catch(t){throw console.error("Get staff by ID error:",t),t}}async updateStaff(e,t){try{const r=await this.apiRequest(`${Na}/api/staff/${e}`,{method:"PUT",body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to update staff member");return a}catch(r){throw console.error("Update staff error:",r),r}}async deleteStaff(e,t=!1){try{const r=`${Na}/api/staff/${e}${t?"?permanent=true":""}`,a=await this.apiRequest(r,{method:"DELETE"}),i=await a.json();if(!a.ok)throw new Error(i.error||"Failed to delete staff member");return i}catch(r){throw console.error("Delete staff error:",r),r}}async resetStaffPassword(e,t=null){try{const r=t?{password:t}:{},a=await this.apiRequest(`${Na}/api/staff/${e}/reset-password`,{method:"POST",body:JSON.stringify(r)}),i=await a.json();if(!a.ok)throw new Error(i.error||"Failed to reset password");return i}catch(r){throw console.error("Reset password error:",r),r}}async getStaffStats(){try{const e=await this.apiRequest(`${Na}/api/staff/stats`),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch staff statistics");return t}catch(e){throw console.error("Get staff stats error:",e),e}}async generateStaffQR(e){try{const t=await this.apiRequest(`${Na}/api/staff/${e}/qr`),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to generate QR code");return r}catch(t){throw console.error("Generate QR error:",t),t}}async exportStaffData(e="csv",t={}){try{const r=new URLSearchParams({format:e,...t}),a=await this.apiRequest(`${Na}/api/staff/export?${r}`);if(!a.ok){const i=await a.json();throw new Error(i.error||"Failed to export staff data")}return await a.blob()}catch(r){throw console.error("Export staff data error:",r),r}}async getStaffForSalary(e={}){try{const t=new URLSearchParams(e),r=await this.apiRequest(`${Na}/api/salary/staff?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch staff salary list");return a}catch(t){throw console.error("Get staff for salary error:",t),t}}async paySalary(e,t){try{const r=await this.apiRequest(`${Na}/api/salary/staff/${e}/pay`,{method:"POST",body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to record salary payment");return a}catch(r){throw console.error("Pay salary error:",r),r}}async getSalaryHistory(e,t={}){try{const r=new URLSearchParams(t),a=await this.apiRequest(`${Na}/api/salary/staff/${e}/history?${r}`),i=await a.json();if(!a.ok)throw new Error(i.error||"Failed to fetch salary history");return i}catch(r){throw console.error("Get salary history error:",r),r}}async getMySalaryHistory(e={}){try{const t=new URLSearchParams(e),r=await this.apiRequest(`${Na}/api/salary/me/history?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch salary history");return a}catch(t){throw console.error("Get my salary history error:",t),t}}async getRecentSalaryPayments(e={}){try{const t=new URLSearchParams(e),r=await this.apiRequest(`${Na}/api/salary/recent?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch recent salary payments");return a}catch(t){throw console.error("Get recent salary payments error:",t),t}}}const In=new oC,lC=({isOpen:s,onClose:e,onStaffCreated:t,editingStaff:r=null})=>{const{success:a,error:i}=cr(),[c,d]=T.useState(!1),[u,f]=T.useState({firstName:"",lastName:"",email:"",phone:"",address:"",position:"Staff",department:"General",shift:"morning",salary:"",hireDate:"",status:"active",password:"",confirmPassword:"",emergencyContact:"",emergencyPhone:"",notes:""}),[m,b]=T.useState({}),y=[{label:"Warehouse Manager / Supervisor",responsibilities:"Oversees warehouse operations",exampleTasks:["Approve requests","Monitor stock","Assign tasks"]},{label:"Inventory Staff",responsibilities:"Manage stock in/out, maintain inventory accuracy",exampleTasks:["Stock entry","Stock counting","Report low stock"]},{label:"Pickers / Packers",responsibilities:"Pick items from shelves, pack orders",exampleTasks:["Pick items for shipment","Prepare orders"]},{label:"Delivery/Logistics Staff",responsibilities:"Handle shipments and deliveries",exampleTasks:["Dispatch orders","Track shipments"]},{label:"Quality Control Staff",responsibilities:"Inspect goods for quality",exampleTasks:["Inspect incoming/outgoing stock","Report defects"]},{label:"Supplier Coordinator (Optional)",responsibilities:"Coordinate with suppliers and manage purchase orders",exampleTasks:["Place orders","Follow up with suppliers","Maintain supplier records"]},{label:"Staff",responsibilities:"General support across warehouse operations",exampleTasks:["Assist in daily operations","Follow supervisor instructions"]}],x=["General","Sales","Inventory","Customer Service","Administration","Security","Maintenance","IT Support","Human Resources","Finance"],j=[{value:"morning",label:"Morning (6:00 AM - 2:00 PM)"},{value:"evening",label:"Evening (2:00 PM - 10:00 PM)"},{value:"night",label:"Night (10:00 PM - 6:00 AM)"},{value:"flexible",label:"Flexible Hours"}];T.useEffect(()=>{if(r){const M=r.fullName?r.fullName.split(" "):["",""],F=M[0]||"",B=M.slice(1).join(" ")||"";f({firstName:F,lastName:B,email:r.email||"",phone:r.phone||"",address:r.address||"",position:r.position||"Staff",department:r.department||"General",shift:r.shift||"morning",salary:r.salary||"",hireDate:r.joiningDate?r.joiningDate.split("T")[0]:r.hireDate?r.hireDate.split("T")[0]:"",status:r.status||"active",password:"",confirmPassword:"",emergencyContact:r.emergencyContact||"",emergencyPhone:r.emergencyPhone||"",notes:r.notes||""})}else f({firstName:"",lastName:"",email:"",phone:"",address:"",position:"Staff",department:"General",shift:"morning",salary:"",hireDate:new Date().toISOString().split("T")[0],status:"active",password:"",confirmPassword:"",emergencyContact:"",emergencyPhone:"",notes:""});b({})},[r,s]);const S=M=>{const{name:F,value:B}=M.target;f(ae=>({...ae,[F]:B})),m[F]&&b(ae=>({...ae,[F]:""}))},A=()=>{const M={};return u.firstName.trim()||(M.firstName="First name is required"),u.lastName.trim()||(M.lastName="Last name is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(M.email="Please enter a valid email address"):M.email="Email is required",u.phone.trim()||(M.phone="Phone number is required"),u.address.trim()||(M.address="Address is required"),u.hireDate||(M.hireDate="Hire date is required"),u.salary&&isNaN(u.salary)&&(M.salary="Salary must be a valid number"),(u.password||u.confirmPassword)&&(u.password?u.password.length<6&&(M.password="Password must be at least 6 characters long"):M.password="Password is required when confirm password is provided",u.confirmPassword?u.password!==u.confirmPassword&&(M.confirmPassword="Passwords do not match"):M.confirmPassword="Please confirm your password"),b(M),Object.keys(M).length===0},k=async M=>{if(M.preventDefault(),!!A()){d(!0);try{const F={fullName:`${u.firstName.trim()} ${u.lastName.trim()}`,email:u.email.trim(),phone:u.phone.trim(),role:"staff"};u.address&&u.address.trim()&&(F.address=u.address.trim()),u.hireDate&&(F.joiningDate=u.hireDate),u.salary&&u.salary.trim()&&(F.salary=parseFloat(u.salary)),u.shift&&(F.shift=u.shift),u.password&&u.password.trim()&&(F.password=u.password.trim()),u.position&&(F.position=u.position);let B;r?(B=await In.updateStaff(r.id,F),a("Staff member updated successfully!")):(B=await In.createStaff(F),a("Staff member added successfully!")),t&&t(B),e()}catch(F){console.error("Error saving staff:",F),i(F.message||"An error occurred while saving the staff member")}finally{d(!1)}}},P=()=>{c||e()};return s?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Staff Member":"Add New Staff Member"}),n.jsx("p",{className:"text-gray-600 mt-1",children:r?"Update staff member information":"Enter staff details to add them to your team"})]}),n.jsx("button",{onClick:P,disabled:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:n.jsx(Jr,{className:"w-6 h-6 text-gray-500"})})]}),n.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Kn,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Personal Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:u.firstName,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.firstName?"border-red-500":"border-gray-300"}`,placeholder:"Enter first name",disabled:c}),m.firstName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:u.lastName,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.lastName?"border-red-500":"border-gray-300"}`,placeholder:"Enter last name",disabled:c}),m.lastName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.lastName})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Mc,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:u.email,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address",disabled:c}),m.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number",disabled:c}),m.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(zf,{className:"w-4 h-4 inline mr-1"}),"Address *"]}),n.jsx("textarea",{name:"address",value:u.address,onChange:S,rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none ${m.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter complete address",disabled:c}),m.address&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.address})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(AN,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Job Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position"}),n.jsx("select",{name:"position",value:u.position,onChange:S,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",disabled:c,children:y.map(M=>n.jsx("option",{value:M.label,children:M.label},M.label))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),n.jsx("select",{name:"department",value:u.department,onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",disabled:c,children:x.map(M=>n.jsx("option",{value:M,children:M},M))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{name:"status",value:u.status,onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",disabled:c,children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_i,{className:"w-4 h-4 inline mr-1"}),"Shift"]}),n.jsx("select",{name:"shift",value:u.shift,onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",disabled:c,children:j.map(M=>n.jsx("option",{value:M.value,children:M.label},M.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Fn,{className:"w-4 h-4 inline mr-1"}),"Salary (Optional)"]}),n.jsx("input",{type:"number",name:"salary",value:u.salary,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.salary?"border-red-500":"border-gray-300"}`,placeholder:"Enter monthly salary",disabled:c,min:"0",step:"0.01"}),m.salary&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.salary})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hire Date *"}),n.jsx("input",{type:"date",name:"hireDate",value:u.hireDate,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.hireDate?"border-red-500":"border-gray-300"}`,disabled:c}),m.hireDate&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.hireDate})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(SN,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Login Credentials"]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-blue-700 mb-2",children:[n.jsx("strong",{children:"Password Policy:"})," If no password is provided, a secure random password will be generated and sent to the staff member via email."]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password (Optional)"}),n.jsx("input",{type:"password",name:"password",value:u.password,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.password?"border-red-500":"border-gray-300"}`,placeholder:"Enter password (min 6 characters)",disabled:c}),m.password&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.password})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),n.jsx("input",{type:"password",name:"confirmPassword",value:u.confirmPassword,onChange:S,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Confirm password",disabled:c}),m.confirmPassword&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.confirmPassword})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Uf,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Emergency Contact"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Name"}),n.jsx("input",{type:"text",name:"emergencyContact",value:u.emergencyContact,onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter emergency contact name",disabled:c})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact Phone"}),n.jsx("input",{type:"tel",name:"emergencyPhone",value:u.emergencyPhone,onChange:S,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",placeholder:"Enter emergency contact phone",disabled:c})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Sd,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Additional Information"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{name:"notes",value:u.notes,onChange:S,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",placeholder:"Enter any additional notes about the staff member...",disabled:c})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:P,disabled:c,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),r?"Updating...":"Adding..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kN,{className:"w-4 h-4 mr-2"}),r?"Update Staff":"Add Staff"]})})]})]})]})}):null},cC=({onAddStaff:s,refreshTrigger:e})=>{const{success:t,error:r}=cr(),[a,i]=T.useState([]),[c,d]=T.useState(!0),[u,f]=T.useState(""),[m,b]=T.useState("all"),[y,x]=T.useState("all"),[j,S]=T.useState(1),[A,k]=T.useState(1),[P,M]=T.useState({totalStaff:0,activeStaff:0,inactiveStaff:0,recentJoinings:0}),F=10,B=async()=>{try{d(!0);const K={page:j,limit:F,...u&&{search:u},...m!=="all"&&{status:m},...y!=="all"&&{shift:y}},oe=await In.getAllStaff(K);i(oe.staff),k(oe.pagination.pages)}catch(K){console.error("Fetch staff error:",K),r("Failed to load staff members")}finally{d(!1)}},ae=async()=>{try{const K=await In.getStaffStats();M(K)}catch(K){console.error("Fetch stats error:",K)}},Y=async(K,oe,Z=!1)=>{if(confirm(`Are you sure you want to ${Z?"permanently delete":"deactivate"} ${oe}?`))try{await In.deleteStaff(K,Z),t(`Staff member ${Z?"permanently deleted":"deactivated"} successfully`),B(),ae()}catch(se){console.error("Delete staff error:",se),r("Failed to delete staff member")}},E=async(K,oe)=>{if(confirm(`Reset password for ${oe}? A new password will be generated and displayed.`))try{const Z=await In.resetStaffPassword(K),se=document.createElement("div");se.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",se.innerHTML=`
        <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4">
          <div class="text-center">
            <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v-2H7v-2H5v-2l3.257-3.257A6 6 0 0115 7z"></path>
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-4">Password Reset Successful</h3>
            <p class="text-gray-600 mb-4">New password for <strong>${oe}</strong>:</p>
            <div class="bg-gray-100 rounded-lg p-4 mb-4">
              <code class="text-lg font-mono text-gray-900 select-all">${Z.newPassword}</code>
            </div>
            <p class="text-sm text-orange-600 mb-6">⚠️ Please share this password securely with the staff member and ask them to change it on first login.</p>
            <div class="flex space-x-3">
              <button onclick="
                navigator.clipboard.writeText('${Z.newPassword}').then(() => {
                  this.textContent = 'Copied!';
                  setTimeout(() => this.textContent = 'Copy Password', 2000);
                });
              " class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                Copy Password
              </button>
              <button onclick="this.closest('.fixed').remove()" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors">
                Close
              </button>
            </div>
          </div>
        </div>
      `,document.body.appendChild(se),se.addEventListener("click",ee=>{ee.target===se&&se.remove()}),t("Password reset successfully")}catch(Z){console.error("Reset password error:",Z),r("Failed to reset password")}},I=async(K,oe)=>{try{const Z=await In.generateStaffQR(K),se=document.createElement("div");se.className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",se.innerHTML=`
        <div class="bg-white rounded-2xl p-6 max-w-md w-full mx-4">
          <div class="text-center">
            <h3 class="text-xl font-bold text-gray-900 mb-4">QR Code for ${oe}</h3>
            <div class="mb-4">
              <img src="${Z.qrCode}" alt="Staff QR Code" class="mx-auto border rounded-lg" />
            </div>
            <p class="text-sm text-gray-600 mb-4">Employee ID: ${Z.staff.employeeId}</p>
            <div class="flex space-x-3">
              <button onclick="
                const link = document.createElement('a');
                link.download = 'staff_qr_${Z.staff.employeeId}.png';
                link.href = '${Z.qrCode}';
                link.click();
              " class="flex-1 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors">
                Download QR
              </button>
              <button onclick="this.closest('.fixed').remove()" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors">
                Close
              </button>
            </div>
          </div>
        </div>
      `,document.body.appendChild(se),se.addEventListener("click",ee=>{ee.target===se&&se.remove()}),t("QR code generated successfully")}catch(Z){console.error("Generate QR error:",Z),r("Failed to generate QR code")}},$=async()=>{try{const K={...m!=="all"&&{status:m},...y!=="all"&&{shift:y}},oe=await In.exportStaffData("csv",K),Z=window.URL.createObjectURL(oe),se=document.createElement("a");se.href=Z,se.download=`staff_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(Z),t("Staff data exported successfully")}catch(K){console.error("Export data error:",K),r("Failed to export staff data")}},R=K=>K?new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",q=K=>K?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(K):"N/A",ie=K=>{const Z={morning:{label:"Morning",icon:"🌅",color:"bg-yellow-100 text-yellow-800"},evening:{label:"Evening",icon:"🌆",color:"bg-orange-100 text-orange-800"},night:{label:"Night",icon:"🌙",color:"bg-indigo-100 text-indigo-800"},flexible:{label:"Flexible",icon:"⏰",color:"bg-purple-100 text-purple-800"}}[K]||{label:"N/A",icon:"❓",color:"bg-gray-100 text-gray-800"};return n.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Z.color}`,children:[n.jsx("span",{className:"mr-1",children:Z.icon}),Z.label]})};return T.useEffect(()=>{B()},[j,u,m,y,e]),T.useEffect(()=>{ae()},[e]),T.useEffect(()=>{S(1)},[u,m,y]),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:n.jsx(Sc,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Staff"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.totalStaff}),n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"All members"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-50",children:n.jsx(yv,{className:"w-5 h-5 text-green-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Staff"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.activeStaff}),n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Currently active"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-50",children:n.jsx(nx,{className:"w-5 h-5 text-red-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Staff"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.inactiveStaff}),n.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Deactivated"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-50",children:n.jsx(ua,{className:"w-5 h-5 text-purple-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Joinings"})})]}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:P.recentJoinings}),n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Last 30 days"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Staff Members"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Manage your team members and their roles"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:$,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[n.jsx(no,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{onClick:()=>B(),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[n.jsx(Wa,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]}),n.jsxs("button",{onClick:s,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[n.jsx(Sc,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Staff"})]})]})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Rc,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search by name, email, or employee ID...",value:u,onChange:K=>f(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),n.jsxs("select",{value:m,onChange:K=>b(K.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]}),n.jsxs("select",{value:y,onChange:K=>x(K.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"all",children:"All Shifts"}),n.jsx("option",{value:"morning",children:"Morning"}),n.jsx("option",{value:"evening",children:"Evening"}),n.jsx("option",{value:"night",children:"Night"}),n.jsx("option",{value:"flexible",children:"Flexible"})]})]}),c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(_N,{className:"w-8 h-8 animate-spin text-emerald-600"})}):a.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Sc,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff members found"}),n.jsx("p",{className:"text-gray-600 mb-4",children:u||m!=="all"||y!=="all"?"Try adjusting your search or filters":"Get started by adding your first staff member"}),!u&&m==="all"&&y==="all"&&n.jsx("button",{onClick:s,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:"Add First Staff Member"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Staff Member"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Position"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Contact"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Work Info"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),n.jsx("tbody",{children:a.map(K=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-emerald-600 font-medium text-sm",children:K.fullName.charAt(0).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:K.fullName}),K.position&&n.jsx("div",{className:"text-xs text-emerald-700 font-medium",children:K.position}),n.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",K.employeeId||"N/A"]})]})]})}),n.jsx("td",{className:"py-4 px-4 align-top",children:n.jsx("div",{className:"text-sm font-medium text-gray-800",children:K.position||"—"})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Mc,{className:"w-4 h-4 mr-2"}),K.email]}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(Uf,{className:"w-4 h-4 mr-2"}),K.phone]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{children:ie(K.shift)}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx(ua,{className:"w-4 h-4 inline mr-1"}),"Joined: ",R(K.joiningDate)]}),K.salary&&n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx(Fn,{className:"w-4 h-4 inline mr-1"}),q(K.salary)]})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${K.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:K.status==="active"?n.jsxs(n.Fragment,{children:[n.jsx(yv,{className:"w-3 h-3 mr-1"}),"Active"]}):n.jsxs(n.Fragment,{children:[n.jsx(nx,{className:"w-3 h-3 mr-1"}),"Inactive"]})})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>I(K._id,K.fullName),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Generate QR Code",children:n.jsx(T8,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>E(K._id,K.fullName),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Reset Password",children:n.jsx(SN,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y(K._id,K.fullName,!1),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Deactivate",children:n.jsx(nx,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Y(K._id,K.fullName,!0),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Permanently",children:n.jsx(gp,{className:"w-4 h-4"})})]})})]},K._id))})]})}),A>1&&n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",j," of ",A]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>S(K=>Math.max(K-1,1)),disabled:j===1,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsx("button",{onClick:()=>S(K=>Math.min(K+1,A)),disabled:j===A,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})]})},Hh="http://localhost:3001";class dC{constructor(){this.razorpayKeyId="rzp_test_RFI"}async createOrder(e){try{const t=await fetch(`${Hh}/api/payments/create-order`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create order");return await t.json()}catch(t){throw console.error("Create order error:",t),t}}async verifyPayment(e){try{const t=await fetch(`${Hh}/api/payments/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!t.ok)throw new Error("Payment verification failed");return await t.json()}catch(t){throw console.error("Payment verification error:",t),t}}async saveTransaction(e){try{const t=await fetch(`${Hh}/api/payments/save-transaction`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to save transaction");return await t.json()}catch(t){throw console.error("Save transaction error:",t),t}}async initializePayment(e,t,r){try{const a=await this.createOrder(e),i={key:this.razorpayKeyId,amount:a.data.amount,currency:a.data.currency,name:"FreshNest",description:`Order for ${e.items.length} items`,order_id:a.data.id,handler:async d=>{try{const u=await this.verifyPayment({razorpay_order_id:d.razorpay_order_id,razorpay_payment_id:d.razorpay_payment_id,razorpay_signature:d.razorpay_signature,order_id:a.data.id});if(!u.success){r(new Error("Payment verification failed"));return}try{await this.saveTransaction({razorpay_payment_id:d.razorpay_payment_id,razorpay_order_id:d.razorpay_order_id,razorpay_signature:d.razorpay_signature,customer:{name:e.customer?.name,email:e.customer?.email,phone:e.customer?.phone},order:{...e,id:a.data.id,amount:a.data.amount/100,currency:a.data.currency},paymentMethod:"razorpay",status:"completed"})}catch(f){console.error("Save transaction after verification failed:",f)}t(d,u)}catch(u){r(u)}},prefill:{name:e.customer.name,email:e.customer.email,contact:e.customer.phone},notes:{order_id:a.data.id,customer_id:e.customer.id},theme:{color:"#059669"},modal:{ondismiss:()=>{r(new Error("Payment cancelled by user"))}}},c=new window.Razorpay(i);return c.open(),c}catch(a){console.error("Payment initialization error:",a),r(a)}}async getPaymentStatus(e){try{const t=await fetch(`${Hh}/api/payments/status/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error("Failed to get payment status");return await t.json()}catch(t){throw console.error("Get payment status error:",t),t}}async refundPayment(e,t,r="Customer request"){try{const a=await fetch(`${Hh}/api/payments/refund`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({payment_id:e,amount:t,reason:r})});if(!a.ok)throw new Error("Refund failed");return await a.json()}catch(a){throw console.error("Refund error:",a),a}}}const uC=new dC,PN=({isOpen:s,onClose:e,orderData:t,onSuccess:r,onError:a,totalAmount:i,customerInfo:c})=>{const[d,u]=T.useState("cards"),[f,m]=T.useState({number:"4111 1111 1111 1111",expiry:"10 / 29",cvv:"",name:"John Doe"}),[b,y]=T.useState(""),[x,j]=T.useState(!1),[S,A]=T.useState(600),[k,P]=T.useState(!1);T.useEffect(()=>{if(k&&S>0){const E=setTimeout(()=>A(S-1),1e3);return()=>clearTimeout(E)}},[S,k]);const M=E=>{const I=Math.floor(E/60),$=E%60;return`${I}:${$.toString().padStart(2,"0")}`},F=(E,I)=>{m($=>({...$,[E]:I}))},B=async()=>{j(!0);try{await new Promise($=>setTimeout($,2e3));const E={razorpay_payment_id:`pay_${Date.now()}`,razorpay_order_id:`order_${Date.now()}`,razorpay_signature:`sig_${Date.now()}`},I={success:!0,data:{payment_id:E.razorpay_payment_id,order_id:E.razorpay_order_id,status:"success",message:"Payment successful"}};try{const $={razorpay_payment_id:E.razorpay_payment_id,razorpay_order_id:E.razorpay_order_id,razorpay_signature:E.razorpay_signature,customer:c,order:t,paymentMethod:d,status:"completed"};console.log("Saving transaction to backend:",$);const R=await uC.saveTransaction($);console.log("✅ Transaction saved successfully:",R)}catch($){console.error("❌ Error saving transaction:",$)}r({paymentResponse:E,verification:I,customerInfo:c})}catch(E){a(E)}finally{j(!1)}};if(!s)return null;const ae=({id:E,label:I,icon:$,isSelected:R,onClick:q})=>n.jsxs("button",{onClick:q,className:`flex items-center space-x-3 p-3 rounded-lg border-2 transition-all ${R?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:$}),n.jsx("span",{className:"font-medium text-gray-700",children:I})]}),Y=({name:E,className:I="w-6 h-6"})=>({visa:n.jsx("div",{className:`${I} bg-blue-600 rounded text-white flex items-center justify-center text-xs font-bold`,children:"VISA"}),mastercard:n.jsx("div",{className:`${I} bg-red-600 rounded text-white flex items-center justify-center text-xs font-bold`,children:"MC"}),rupay:n.jsx("div",{className:`${I} bg-orange-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"RP"}),gpay:n.jsx("div",{className:`${I} bg-gray-800 rounded text-white flex items-center justify-center text-xs font-bold`,children:"GP"}),phonepe:n.jsx("div",{className:`${I} bg-purple-600 rounded text-white flex items-center justify-center text-xs font-bold`,children:"PP"}),paytm:n.jsx("div",{className:`${I} bg-blue-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"PT"}),amazon:n.jsx("div",{className:`${I} bg-orange-400 rounded text-white flex items-center justify-center text-xs font-bold`,children:"AZ"}),bhim:n.jsx("div",{className:`${I} bg-green-600 rounded text-white flex items-center justify-center text-xs font-bold`,children:"BH"}),icici:n.jsx("div",{className:`${I} bg-red-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"IC"}),hdfc:n.jsx("div",{className:`${I} bg-blue-700 rounded text-white flex items-center justify-center text-xs font-bold`,children:"HD"}),sbi:n.jsx("div",{className:`${I} bg-blue-800 rounded text-white flex items-center justify-center text-xs font-bold`,children:"SB"}),axis:n.jsx("div",{className:`${I} bg-red-600 rounded text-white flex items-center justify-center text-xs font-bold`,children:"AX"}),mobikwik:n.jsx("div",{className:`${I} bg-yellow-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"MK"}),freecharge:n.jsx("div",{className:`${I} bg-green-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"FC"}),simpl:n.jsx("div",{className:`${I} bg-purple-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"SP"}),zest:n.jsx("div",{className:`${I} bg-pink-500 rounded text-white flex items-center justify-center text-xs font-bold`,children:"ZT"})})[E]||n.jsx("div",{className:`${I} bg-gray-400 rounded`});return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:e}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Options"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx("span",{className:"text-gray-600",children:"⋯"})}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-600"})})]})]}),n.jsxs("div",{className:"flex h-[600px]",children:[n.jsxs("div",{className:"w-1/3 bg-gradient-to-br from-blue-600 to-blue-800 p-6 text-white relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -translate-y-16 translate-x-16"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-10 rounded-full translate-y-12 -translate-x-12"}),n.jsxs("div",{className:"flex items-center space-x-3 mb-6 relative z-10",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-bold text-lg",children:"F"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold",children:"FreshNest"}),n.jsx("p",{className:"text-blue-200 text-sm",children:"Fresh Products Store"})]})]}),n.jsxs("div",{className:"bg-white bg-opacity-20 rounded-xl p-4 mb-6 relative z-10",children:[n.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Price Summary"}),n.jsxs("div",{className:"text-3xl font-bold",children:["₹",i?.toFixed(2)]})]}),n.jsx("div",{className:"bg-white bg-opacity-10 rounded-lg p-3 mb-6 relative z-10",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:n.jsx(af,{className:"w-4 h-4"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-blue-200",children:"Using as"}),n.jsxs("p",{className:"font-medium",children:["+91 ",c?.phone?.replace(/\d(?=\d{4})/g,"*")||"**** ****"]})]}),n.jsx(uv,{className:"w-4 h-4 text-blue-200"})]})}),n.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:n.jsxs("div",{className:"flex items-center space-x-2 text-blue-200",children:[n.jsx(Nc,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Secured by Razorpay"})]})})]}),n.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Recommended"}),n.jsx("div",{className:"space-y-2",children:n.jsx(ae,{id:"upi-qr",label:"UPI QR",icon:n.jsx(af,{className:"w-5 h-5 text-gray-600"}),isSelected:d==="upi-qr",onClick:()=>{u("upi-qr"),P(!0),A(600)}})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"UPI"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[n.jsx(Y,{name:"gpay",className:"w-8 h-8"}),n.jsx(Y,{name:"phonepe",className:"w-8 h-8"}),n.jsx(Y,{name:"paytm",className:"w-8 h-8"}),n.jsx(Y,{name:"amazon",className:"w-8 h-8"}),n.jsx(Y,{name:"bhim",className:"w-8 h-8"})]}),n.jsx(ae,{id:"upi",label:"UPI",icon:n.jsx(af,{className:"w-5 h-5 text-gray-600"}),isSelected:d==="upi",onClick:()=>u("upi")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Cards"}),n.jsxs("div",{className:"flex space-x-2 mb-2",children:[n.jsx(Y,{name:"visa",className:"w-8 h-8"}),n.jsx(Y,{name:"mastercard",className:"w-8 h-8"}),n.jsx(Y,{name:"rupay",className:"w-8 h-8"})]}),n.jsx(ae,{id:"cards",label:"Cards",icon:n.jsx(Ll,{className:"w-5 h-5 text-gray-600"}),isSelected:d==="cards",onClick:()=>u("cards")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Netbanking"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[n.jsx(Y,{name:"icici",className:"w-8 h-8"}),n.jsx(Y,{name:"hdfc",className:"w-8 h-8"}),n.jsx(Y,{name:"sbi",className:"w-8 h-8"}),n.jsx(Y,{name:"axis",className:"w-8 h-8"})]}),n.jsx(ae,{id:"netbanking",label:"Netbanking",icon:n.jsx(CN,{className:"w-5 h-5 text-gray-600"}),isSelected:d==="netbanking",onClick:()=>u("netbanking")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Wallet"}),n.jsxs("div",{className:"flex space-x-2 mb-2",children:[n.jsx(Y,{name:"paytm",className:"w-8 h-8"}),n.jsx(Y,{name:"mobikwik",className:"w-8 h-8"}),n.jsx(Y,{name:"freecharge",className:"w-8 h-8"})]}),n.jsx(ae,{id:"wallet",label:"Wallet",icon:n.jsx(Fn,{className:"w-5 h-5 text-gray-600"}),isSelected:d==="wallet",onClick:()=>u("wallet")})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"Pay Later"}),n.jsxs("div",{className:"flex space-x-2 mb-2",children:[n.jsx(Y,{name:"simpl",className:"w-8 h-8"}),n.jsx(Y,{name:"zest",className:"w-8 h-8"})]}),n.jsx(ae,{id:"paylater",label:"Pay Later",icon:n.jsx(_i,{className:"w-5 h-5 text-gray-600"}),isSelected:d==="paylater",onClick:()=>u("paylater")})]})]}),n.jsxs("div",{className:"mt-6",children:[d==="cards"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Add a new card"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:f.number,onChange:E=>F("number",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234 5678 9012 3456"}),n.jsx("div",{className:"absolute right-3 top-2",children:n.jsx(Y,{name:"visa",className:"w-6 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"text",value:f.expiry,onChange:E=>F("expiry",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"MM / YY"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),n.jsx("input",{type:"password",value:f.cvv,onChange:E=>F("cvv",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"•••"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),n.jsx("input",{type:"text",value:f.name,onChange:E=>F("name",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"saveCard",className:"text-blue-600"}),n.jsx("label",{htmlFor:"saveCard",className:"text-sm text-gray-600",children:"Save this card as per RBI guidelines"})]})]})]}),d==="upi"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"UPI Payment"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI ID / Number"}),n.jsx("input",{type:"text",value:b,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"example@okhdfcbank"})]})})]}),d==="upi-qr"&&k&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h4",{className:"text-lg font-semibold",children:"UPI QR"}),n.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[n.jsx(_i,{className:"w-4 h-4"}),n.jsx("span",{className:"font-mono",children:M(S)})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-48 h-48 bg-white border-2 border-gray-300 rounded-lg mx-auto mb-4 flex items-center justify-center",children:n.jsx("div",{className:"grid grid-cols-8 gap-1",children:Array.from({length:64}).map((E,I)=>n.jsx("div",{className:`w-2 h-2 ${Math.random()>.5?"bg-black":"bg-white"}`},I))})}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"SCAN WITH ANY APP"}),n.jsxs("div",{className:"flex justify-center space-x-2 mb-4",children:[n.jsx(Y,{name:"gpay",className:"w-8 h-8"}),n.jsx(Y,{name:"phonepe",className:"w-8 h-8"}),n.jsx(Y,{name:"paytm",className:"w-8 h-8"}),n.jsx(Y,{name:"amazon",className:"w-8 h-8"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"UPI ID / Number"}),n.jsx("input",{type:"text",value:b,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"example@okhdfcbank"})]})]})]}),d==="netbanking"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Net Banking"}),n.jsx("p",{className:"text-gray-600",children:"Select your bank to continue with net banking"})]}),d==="wallet"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Digital Wallet"}),n.jsx("p",{className:"text-gray-600",children:"Select your preferred wallet to continue"})]}),d==="paylater"&&n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Pay Later"}),n.jsx("p",{className:"text-gray-600",children:"Choose your pay later option"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:B,disabled:x,className:"w-full bg-gray-900 text-white py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?n.jsxs(n.Fragment,{children:[n.jsx(_N,{className:"w-5 h-5 animate-spin"}),n.jsx("span",{children:"Processing..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"Continue"}),n.jsx(uv,{className:"w-4 h-4"})]})})})]})]})]})]})};function Ys(s){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(s)}var ao=Uint8Array,Va=Uint16Array,Q1=Int32Array,ey=new ao([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ty=new ao([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vv=new ao([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),TN=function(s,e){for(var t=new Va(31),r=0;r<31;++r)t[r]=e+=1<<s[r-1];for(var a=new Q1(t[30]),r=1;r<30;++r)for(var i=t[r];i<t[r+1];++i)a[i]=i-t[r]<<5|r;return{b:t,r:a}},MN=TN(ey,2),hC=MN.b,u1=MN.r;hC[28]=258,u1[258]=28;var fC=TN(ty,0),wv=fC.r,h1=new Va(32768);for(var lr=0;lr<32768;++lr){var xc=(lr&43690)>>1|(lr&21845)<<1;xc=(xc&52428)>>2|(xc&13107)<<2,xc=(xc&61680)>>4|(xc&3855)<<4,h1[lr]=((xc&65280)>>8|(xc&255)<<8)>>1}var of=function(s,e,t){for(var r=s.length,a=0,i=new Va(e);a<r;++a)s[a]&&++i[s[a]-1];var c=new Va(e);for(a=1;a<e;++a)c[a]=c[a-1]+i[a-1]<<1;var d;if(t){d=new Va(1<<e);var u=15-e;for(a=0;a<r;++a)if(s[a])for(var f=a<<4|s[a],m=e-s[a],b=c[s[a]-1]++<<m,y=b|(1<<m)-1;b<=y;++b)d[h1[b]>>u]=f}else for(d=new Va(r),a=0;a<r;++a)s[a]&&(d[a]=h1[c[s[a]-1]++]>>15-s[a]);return d},Ed=new ao(288);for(var lr=0;lr<144;++lr)Ed[lr]=8;for(var lr=144;lr<256;++lr)Ed[lr]=9;for(var lr=256;lr<280;++lr)Ed[lr]=7;for(var lr=280;lr<288;++lr)Ed[lr]=8;var V0=new ao(32);for(var lr=0;lr<32;++lr)V0[lr]=5;var mC=of(Ed,9,0),pC=of(V0,5,0),RN=function(s){return(s+7)/8|0},gC=function(s,e,t){return(t==null||t>s.length)&&(t=s.length),new ao(s.subarray(e,t))},gl=function(s,e,t){t<<=e&7;var r=e/8|0;s[r]|=t,s[r+1]|=t>>8},Wh=function(s,e,t){t<<=e&7;var r=e/8|0;s[r]|=t,s[r+1]|=t>>8,s[r+2]|=t>>16},ax=function(s,e){for(var t=[],r=0;r<s.length;++r)s[r]&&t.push({s:r,f:s[r]});var a=t.length,i=t.slice();if(!a)return{t:DN,l:0};if(a==1){var c=new ao(t[0].s+1);return c[t[0].s]=1,{t:c,l:1}}t.sort(function(B,ae){return B.f-ae.f}),t.push({s:-1,f:25001});var d=t[0],u=t[1],f=0,m=1,b=2;for(t[0]={s:-1,f:d.f+u.f,l:d,r:u};m!=a-1;)d=t[t[f].f<t[b].f?f++:b++],u=t[f!=m&&t[f].f<t[b].f?f++:b++],t[m++]={s:-1,f:d.f+u.f,l:d,r:u};for(var y=i[0].s,r=1;r<a;++r)i[r].s>y&&(y=i[r].s);var x=new Va(y+1),j=f1(t[m-1],x,0);if(j>e){var r=0,S=0,A=j-e,k=1<<A;for(i.sort(function(ae,Y){return x[Y.s]-x[ae.s]||ae.f-Y.f});r<a;++r){var P=i[r].s;if(x[P]>e)S+=k-(1<<j-x[P]),x[P]=e;else break}for(S>>=A;S>0;){var M=i[r].s;x[M]<e?S-=1<<e-x[M]++-1:++r}for(;r>=0&&S;--r){var F=i[r].s;x[F]==e&&(--x[F],++S)}j=e}return{t:new ao(x),l:j}},f1=function(s,e,t){return s.s==-1?Math.max(f1(s.l,e,t+1),f1(s.r,e,t+1)):e[s.s]=t},jv=function(s){for(var e=s.length;e&&!s[--e];);for(var t=new Va(++e),r=0,a=s[0],i=1,c=function(u){t[r++]=u},d=1;d<=e;++d)if(s[d]==a&&d!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(a),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(a);i=1,a=s[d]}return{c:t.subarray(0,r),n:e}},Vh=function(s,e){for(var t=0,r=0;r<e.length;++r)t+=s[r]*e[r];return t},ON=function(s,e,t){var r=t.length,a=RN(e+2);s[a]=r&255,s[a+1]=r>>8,s[a+2]=s[a]^255,s[a+3]=s[a+1]^255;for(var i=0;i<r;++i)s[a+i+4]=t[i];return(a+4+r)*8},Nv=function(s,e,t,r,a,i,c,d,u,f,m){gl(e,m++,t),++a[256];for(var b=ax(a,15),y=b.t,x=b.l,j=ax(i,15),S=j.t,A=j.l,k=jv(y),P=k.c,M=k.n,F=jv(S),B=F.c,ae=F.n,Y=new Va(19),E=0;E<P.length;++E)++Y[P[E]&31];for(var E=0;E<B.length;++E)++Y[B[E]&31];for(var I=ax(Y,7),$=I.t,R=I.l,q=19;q>4&&!$[vv[q-1]];--q);var ie=f+5<<3,K=Vh(a,Ed)+Vh(i,V0)+c,oe=Vh(a,y)+Vh(i,S)+c+14+3*q+Vh(Y,$)+2*Y[16]+3*Y[17]+7*Y[18];if(u>=0&&ie<=K&&ie<=oe)return ON(e,m,s.subarray(u,u+f));var Z,se,ee,pe;if(gl(e,m,1+(oe<K)),m+=2,oe<K){Z=of(y,x,0),se=y,ee=of(S,A,0),pe=S;var Q=of($,R,0);gl(e,m,M-257),gl(e,m+5,ae-1),gl(e,m+10,q-4),m+=14;for(var E=0;E<q;++E)gl(e,m+3*E,$[vv[E]]);m+=3*q;for(var me=[P,B],O=0;O<2;++O)for(var V=me[O],E=0;E<V.length;++E){var te=V[E]&31;gl(e,m,Q[te]),m+=$[te],te>15&&(gl(e,m,V[E]>>5&127),m+=V[E]>>12)}}else Z=mC,se=Ed,ee=pC,pe=V0;for(var E=0;E<d;++E){var he=r[E];if(he>255){var te=he>>18&31;Wh(e,m,Z[te+257]),m+=se[te+257],te>7&&(gl(e,m,he>>23&31),m+=ey[te]);var fe=he&31;Wh(e,m,ee[fe]),m+=pe[fe],fe>3&&(Wh(e,m,he>>5&8191),m+=ty[fe])}else Wh(e,m,Z[he]),m+=se[he]}return Wh(e,m,Z[256]),m+se[256]},xC=new Q1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DN=new ao(0),yC=function(s,e,t,r,a,i){var c=i.z||s.length,d=new ao(r+c+5*(1+Math.ceil(c/7e3))+a),u=d.subarray(r,d.length-a),f=i.l,m=(i.r||0)&7;if(e){m&&(u[0]=i.r>>3);for(var b=xC[e-1],y=b>>13,x=b&8191,j=(1<<t)-1,S=i.p||new Va(32768),A=i.h||new Va(j+1),k=Math.ceil(t/3),P=2*k,M=function(je){return(s[je]^s[je+1]<<k^s[je+2]<<P)&j},F=new Q1(25e3),B=new Va(288),ae=new Va(32),Y=0,E=0,I=i.i||0,$=0,R=i.w||0,q=0;I+2<c;++I){var ie=M(I),K=I&32767,oe=A[ie];if(S[K]=oe,A[ie]=K,R<=I){var Z=c-I;if((Y>7e3||$>24576)&&(Z>423||!f)){m=Nv(s,u,0,F,B,ae,E,$,q,I-q,m),$=Y=E=0,q=I;for(var se=0;se<286;++se)B[se]=0;for(var se=0;se<30;++se)ae[se]=0}var ee=2,pe=0,Q=x,me=K-oe&32767;if(Z>2&&ie==M(I-me))for(var O=Math.min(y,Z)-1,V=Math.min(32767,I),te=Math.min(258,Z);me<=V&&--Q&&K!=oe;){if(s[I+ee]==s[I+ee-me]){for(var he=0;he<te&&s[I+he]==s[I+he-me];++he);if(he>ee){if(ee=he,pe=me,he>O)break;for(var fe=Math.min(me,he-2),ve=0,se=0;se<fe;++se){var Ce=I-me+se&32767,ue=S[Ce],Le=Ce-ue&32767;Le>ve&&(ve=Le,oe=Ce)}}}K=oe,oe=S[K],me+=K-oe&32767}if(pe){F[$++]=268435456|u1[ee]<<18|wv[pe];var Be=u1[ee]&31,Ze=wv[pe]&31;E+=ey[Be]+ty[Ze],++B[257+Be],++ae[Ze],R=I+ee,++Y}else F[$++]=s[I],++B[s[I]]}}for(I=Math.max(I,R);I<c;++I)F[$++]=s[I],++B[s[I]];m=Nv(s,u,f,F,B,ae,E,$,q,I-q,m),f||(i.r=m&7|u[m/8|0]<<3,m-=7,i.h=A,i.p=S,i.i=I,i.w=R)}else{for(var I=i.w||0;I<c+f;I+=65535){var Fe=I+65535;Fe>=c&&(u[m/8|0]=f,Fe=c),m=ON(u,m+1,s.subarray(I,Fe))}i.i=c}return gC(d,0,r+RN(m)+a)},IN=function(){var s=1,e=0;return{p:function(t){for(var r=s,a=e,i=t.length|0,c=0;c!=i;){for(var d=Math.min(c+2655,i);c<d;++c)a+=r+=t[c];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}s=r,e=a},d:function(){return s%=65521,e%=65521,(s&255)<<24|(s&65280)<<8|(e&255)<<8|e>>8}}},bC=function(s,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),c=new ao(i.length+s.length);c.set(i),c.set(s,i.length),s=c,a.w=i.length}return yC(s,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(s.length)))*1.5):20:12+e.mem,t,r,a)},FN=function(s,e,t){for(;t;++e)s[e]=t,t>>>=8},vC=function(s,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(s[0]=120,s[1]=r<<6|(e.dictionary&&32),s[1]|=31-(s[0]<<8|s[1])%31,e.dictionary){var a=IN();a.p(e.dictionary),FN(s,2,a.d())}};function m1(s,e){e||(e={});var t=IN();t.p(s);var r=bC(s,e,e.dictionary?6:2,4);return vC(r,e),FN(r,r.length-4,t.d()),r}var wC=typeof TextDecoder<"u"&&new TextDecoder,jC=0;try{wC.decode(DN,{stream:!0}),jC=1}catch{}function NC(s){if(Array.isArray(s))return s}function SC(s,e){var t=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(t!=null){var r,a,i,c,d=[],u=!0,f=!1;try{if(i=(t=t.call(s)).next,e!==0)for(;!(u=(r=i.call(t)).done)&&(d.push(r.value),d.length!==e);u=!0);}catch(m){f=!0,a=m}finally{try{if(!u&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(f)throw a}}return d}}function Sv(s,e){(e==null||e>s.length)&&(e=s.length);for(var t=0,r=Array(e);t<e;t++)r[t]=s[t];return r}function _C(s,e){if(s){if(typeof s=="string")return Sv(s,e);var t={}.toString.call(s).slice(8,-1);return t==="Object"&&s.constructor&&(t=s.constructor.name),t==="Map"||t==="Set"?Array.from(s):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Sv(s,e):void 0}}function kC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _v(s,e){return NC(s)||SC(s,e)||_C(s,e)||kC()}function kv(s,e="utf8"){return new TextDecoder(e).decode(s)}const AC=new TextEncoder;function CC(s){return AC.encode(s)}const LC=1024*8,EC=(()=>{const s=new Uint8Array(4),e=new Uint32Array(s.buffer);return!((e[0]=1)&s[0])})(),ix={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sy{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=LC,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,i=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof sy)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=ix[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+r);if(this.littleEndian===EC&&t!=="uint8"&&t!=="int8"){const d=new Uint8Array(this.buffer.slice(a,a+r));d.reverse();const u=new ix[t](d.buffer);return this.offset+=r,u.reverse(),u}const c=new ix[t](i);return this.offset+=r,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return kv(this.readBytes(e))}decodeText(e=1,t="utf8"){return kv(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(CC(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gu(s){let e=s.length;for(;--e>=0;)s[e]=0}const PC=3,TC=258,BN=29,MC=256,RC=MC+1+BN,zN=30,OC=512,DC=new Array((RC+2)*2);Gu(DC);const IC=new Array(zN*2);Gu(IC);const FC=new Array(OC);Gu(FC);const BC=new Array(TC-PC+1);Gu(BC);const zC=new Array(BN);Gu(zC);const UC=new Array(zN);Gu(UC);const qC=(s,e,t,r)=>{let a=s&65535|0,i=s>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do a=a+e[r++]|0,i=i+a|0;while(--c);a%=65521,i%=65521}return a|i<<16|0};var p1=qC;const HC=()=>{let s,e=[];for(var t=0;t<256;t++){s=t;for(var r=0;r<8;r++)s=s&1?3988292384^s>>>1:s>>>1;e[t]=s}return e},WC=new Uint32Array(HC()),VC=(s,e,t,r)=>{const a=WC,i=r+t;s^=-1;for(let c=r;c<i;c++)s=s>>>8^a[(s^e[c])&255];return s^-1};var Po=VC,g1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},UN={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $C=(s,e)=>Object.prototype.hasOwnProperty.call(s,e);var GC=function(s){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)$C(t,r)&&(s[r]=t[r])}}return s},YC=s=>{let e=0;for(let r=0,a=s.length;r<a;r++)e+=s[r].length;const t=new Uint8Array(e);for(let r=0,a=0,i=s.length;r<i;r++){let c=s[r];t.set(c,a),a+=c.length}return t},qN={assign:GC,flattenChunks:YC};let HN=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HN=!1}const Nf=new Uint8Array(256);for(let s=0;s<256;s++)Nf[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;Nf[254]=Nf[254]=1;var KC=s=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(s);let e,t,r,a,i,c=s.length,d=0;for(a=0;a<c;a++)t=s.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=s.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),d+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(d),i=0,a=0;i<d;a++)t=s.charCodeAt(a),(t&64512)===55296&&a+1<c&&(r=s.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[i++]=t:t<2048?(e[i++]=192|t>>>6,e[i++]=128|t&63):t<65536?(e[i++]=224|t>>>12,e[i++]=128|t>>>6&63,e[i++]=128|t&63):(e[i++]=240|t>>>18,e[i++]=128|t>>>12&63,e[i++]=128|t>>>6&63,e[i++]=128|t&63);return e};const XC=(s,e)=>{if(e<65534&&s.subarray&&HN)return String.fromCharCode.apply(null,s.length===e?s:s.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(s[r]);return t};var JC=(s,e)=>{const t=e||s.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(s.subarray(0,e));let r,a;const i=new Array(t*2);for(a=0,r=0;r<t;){let c=s[r++];if(c<128){i[a++]=c;continue}let d=Nf[c];if(d>4){i[a++]=65533,r+=d-1;continue}for(c&=d===2?31:d===3?15:7;d>1&&r<t;)c=c<<6|s[r++]&63,d--;if(d>1){i[a++]=65533;continue}c<65536?i[a++]=c:(c-=65536,i[a++]=55296|c>>10&1023,i[a++]=56320|c&1023)}return XC(i,a)},ZC=(s,e)=>{e=e||s.length,e>s.length&&(e=s.length);let t=e-1;for(;t>=0&&(s[t]&192)===128;)t--;return t<0||t===0?e:t+Nf[s[t]]>e?t:e},x1={string2buf:KC,buf2string:JC,utf8border:ZC};function QC(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var e7=QC;const e0=16209,t7=16191;var s7=function(e,t){let r,a,i,c,d,u,f,m,b,y,x,j,S,A,k,P,M,F,B,ae,Y,E,I,$;const R=e.state;r=e.next_in,I=e.input,a=r+(e.avail_in-5),i=e.next_out,$=e.output,c=i-(t-e.avail_out),d=i+(e.avail_out-257),u=R.dmax,f=R.wsize,m=R.whave,b=R.wnext,y=R.window,x=R.hold,j=R.bits,S=R.lencode,A=R.distcode,k=(1<<R.lenbits)-1,P=(1<<R.distbits)-1;e:do{j<15&&(x+=I[r++]<<j,j+=8,x+=I[r++]<<j,j+=8),M=S[x&k];t:for(;;){if(F=M>>>24,x>>>=F,j-=F,F=M>>>16&255,F===0)$[i++]=M&65535;else if(F&16){B=M&65535,F&=15,F&&(j<F&&(x+=I[r++]<<j,j+=8),B+=x&(1<<F)-1,x>>>=F,j-=F),j<15&&(x+=I[r++]<<j,j+=8,x+=I[r++]<<j,j+=8),M=A[x&P];s:for(;;){if(F=M>>>24,x>>>=F,j-=F,F=M>>>16&255,F&16){if(ae=M&65535,F&=15,j<F&&(x+=I[r++]<<j,j+=8,j<F&&(x+=I[r++]<<j,j+=8)),ae+=x&(1<<F)-1,ae>u){e.msg="invalid distance too far back",R.mode=e0;break e}if(x>>>=F,j-=F,F=i-c,ae>F){if(F=ae-F,F>m&&R.sane){e.msg="invalid distance too far back",R.mode=e0;break e}if(Y=0,E=y,b===0){if(Y+=f-F,F<B){B-=F;do $[i++]=y[Y++];while(--F);Y=i-ae,E=$}}else if(b<F){if(Y+=f+b-F,F-=b,F<B){B-=F;do $[i++]=y[Y++];while(--F);if(Y=0,b<B){F=b,B-=F;do $[i++]=y[Y++];while(--F);Y=i-ae,E=$}}}else if(Y+=b-F,F<B){B-=F;do $[i++]=y[Y++];while(--F);Y=i-ae,E=$}for(;B>2;)$[i++]=E[Y++],$[i++]=E[Y++],$[i++]=E[Y++],B-=3;B&&($[i++]=E[Y++],B>1&&($[i++]=E[Y++]))}else{Y=i-ae;do $[i++]=$[Y++],$[i++]=$[Y++],$[i++]=$[Y++],B-=3;while(B>2);B&&($[i++]=$[Y++],B>1&&($[i++]=$[Y++]))}}else if((F&64)===0){M=A[(M&65535)+(x&(1<<F)-1)];continue s}else{e.msg="invalid distance code",R.mode=e0;break e}break}}else if((F&64)===0){M=S[(M&65535)+(x&(1<<F)-1)];continue t}else if(F&32){R.mode=t7;break e}else{e.msg="invalid literal/length code",R.mode=e0;break e}break}}while(r<a&&i<d);B=j>>3,r-=B,j-=B<<3,x&=(1<<j)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=i<d?257+(d-i):257-(i-d),R.hold=x,R.bits=j};const yu=15,Av=852,Cv=592,Lv=0,ox=1,Ev=2,r7=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),n7=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),a7=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),i7=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),o7=(s,e,t,r,a,i,c,d)=>{const u=d.bits;let f=0,m=0,b=0,y=0,x=0,j=0,S=0,A=0,k=0,P=0,M,F,B,ae,Y,E=null,I;const $=new Uint16Array(yu+1),R=new Uint16Array(yu+1);let q=null,ie,K,oe;for(f=0;f<=yu;f++)$[f]=0;for(m=0;m<r;m++)$[e[t+m]]++;for(x=u,y=yu;y>=1&&$[y]===0;y--);if(x>y&&(x=y),y===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,d.bits=1,0;for(b=1;b<y&&$[b]===0;b++);for(x<b&&(x=b),A=1,f=1;f<=yu;f++)if(A<<=1,A-=$[f],A<0)return-1;if(A>0&&(s===Lv||y!==1))return-1;for(R[1]=0,f=1;f<yu;f++)R[f+1]=R[f]+$[f];for(m=0;m<r;m++)e[t+m]!==0&&(c[R[e[t+m]]++]=m);if(s===Lv?(E=q=c,I=20):s===ox?(E=r7,q=n7,I=257):(E=a7,q=i7,I=0),P=0,m=0,f=b,Y=i,j=x,S=0,B=-1,k=1<<x,ae=k-1,s===ox&&k>Av||s===Ev&&k>Cv)return 1;for(;;){ie=f-S,c[m]+1<I?(K=0,oe=c[m]):c[m]>=I?(K=q[c[m]-I],oe=E[c[m]-I]):(K=96,oe=0),M=1<<f-S,F=1<<j,b=F;do F-=M,a[Y+(P>>S)+F]=ie<<24|K<<16|oe|0;while(F!==0);for(M=1<<f-1;P&M;)M>>=1;if(M!==0?(P&=M-1,P+=M):P=0,m++,--$[f]===0){if(f===y)break;f=e[t+c[m]]}if(f>x&&(P&ae)!==B){for(S===0&&(S=x),Y+=b,j=f-S,A=1<<j;j+S<y&&(A-=$[j+S],!(A<=0));)j++,A<<=1;if(k+=1<<j,s===ox&&k>Av||s===Ev&&k>Cv)return 1;B=P&ae,a[B]=x<<24|j<<16|Y-i|0}}return P!==0&&(a[Y+P]=f-S<<24|64<<16|0),d.bits=x,0};var lf=o7;const l7=0,WN=1,VN=2,{Z_FINISH:Pv,Z_BLOCK:c7,Z_TREES:t0,Z_OK:Pd,Z_STREAM_END:d7,Z_NEED_DICT:u7,Z_STREAM_ERROR:Ai,Z_DATA_ERROR:$N,Z_MEM_ERROR:GN,Z_BUF_ERROR:h7,Z_DEFLATED:Tv}=UN,xp=16180,Mv=16181,Rv=16182,Ov=16183,Dv=16184,Iv=16185,Fv=16186,Bv=16187,zv=16188,Uv=16189,$0=16190,xl=16191,lx=16192,qv=16193,cx=16194,Hv=16195,Wv=16196,Vv=16197,$v=16198,s0=16199,r0=16200,Gv=16201,Yv=16202,Kv=16203,Xv=16204,Jv=16205,dx=16206,Zv=16207,Qv=16208,gr=16209,YN=16210,KN=16211,f7=852,m7=592,p7=15,g7=p7,e5=s=>(s>>>24&255)+(s>>>8&65280)+((s&65280)<<8)+((s&255)<<24);function x7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Od=s=>{if(!s)return 1;const e=s.state;return!e||e.strm!==s||e.mode<xp||e.mode>KN?1:0},XN=s=>{if(Od(s))return Ai;const e=s.state;return s.total_in=s.total_out=e.total=0,s.msg="",e.wrap&&(s.adler=e.wrap&1),e.mode=xp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(f7),e.distcode=e.distdyn=new Int32Array(m7),e.sane=1,e.back=-1,Pd},JN=s=>{if(Od(s))return Ai;const e=s.state;return e.wsize=0,e.whave=0,e.wnext=0,XN(s)},ZN=(s,e)=>{let t;if(Od(s))return Ai;const r=s.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ai:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,JN(s))},QN=(s,e)=>{if(!s)return Ai;const t=new x7;s.state=t,t.strm=s,t.window=null,t.mode=xp;const r=ZN(s,e);return r!==Pd&&(s.state=null),r},y7=s=>QN(s,g7);let t5=!0,ux,hx;const b7=s=>{if(t5){ux=new Int32Array(512),hx=new Int32Array(32);let e=0;for(;e<144;)s.lens[e++]=8;for(;e<256;)s.lens[e++]=9;for(;e<280;)s.lens[e++]=7;for(;e<288;)s.lens[e++]=8;for(lf(WN,s.lens,0,288,ux,0,s.work,{bits:9}),e=0;e<32;)s.lens[e++]=5;lf(VN,s.lens,0,32,hx,0,s.work,{bits:5}),t5=!1}s.lencode=ux,s.lenbits=9,s.distcode=hx,s.distbits=5},e4=(s,e,t,r)=>{let a;const i=s.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(e.subarray(t-i.wsize,t),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(e.subarray(t-r,t-r+a),i.wnext),r-=a,r?(i.window.set(e.subarray(t-r,t),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},v7=(s,e)=>{let t,r,a,i,c,d,u,f,m,b,y,x,j,S,A=0,k,P,M,F,B,ae,Y,E;const I=new Uint8Array(4);let $,R;const q=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Od(s)||!s.output||!s.input&&s.avail_in!==0)return Ai;t=s.state,t.mode===xl&&(t.mode=lx),c=s.next_out,a=s.output,u=s.avail_out,i=s.next_in,r=s.input,d=s.avail_in,f=t.hold,m=t.bits,b=d,y=u,E=Pd;e:for(;;)switch(t.mode){case xp:if(t.wrap===0){t.mode=lx;break}for(;m<16;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=f&255,I[1]=f>>>8&255,t.check=Po(t.check,I,2,0),f=0,m=0,t.mode=Mv;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){s.msg="incorrect header check",t.mode=gr;break}if((f&15)!==Tv){s.msg="unknown compression method",t.mode=gr;break}if(f>>>=4,m-=4,Y=(f&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){s.msg="invalid window size",t.mode=gr;break}t.dmax=1<<t.wbits,t.flags=0,s.adler=t.check=1,t.mode=f&512?Uv:xl,f=0,m=0;break;case Mv:for(;m<16;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(t.flags=f,(t.flags&255)!==Tv){s.msg="unknown compression method",t.mode=gr;break}if(t.flags&57344){s.msg="unknown header flags set",t.mode=gr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Po(t.check,I,2,0)),f=0,m=0,t.mode=Rv;case Rv:for(;m<32;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,I[2]=f>>>16&255,I[3]=f>>>24&255,t.check=Po(t.check,I,4,0)),f=0,m=0,t.mode=Ov;case Ov:for(;m<16;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Po(t.check,I,2,0)),f=0,m=0,t.mode=Dv;case Dv:if(t.flags&1024){for(;m<16;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Po(t.check,I,2,0)),f=0,m=0}else t.head&&(t.head.extra=null);t.mode=Iv;case Iv:if(t.flags&1024&&(x=t.length,x>d&&(x=d),x&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(i,i+x),Y)),t.flags&512&&t.wrap&4&&(t.check=Po(t.check,r,x,i)),d-=x,i+=x,t.length-=x),t.length))break e;t.length=0,t.mode=Fv;case Fv:if(t.flags&2048){if(d===0)break e;x=0;do Y=r[i+x++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&x<d);if(t.flags&512&&t.wrap&4&&(t.check=Po(t.check,r,x,i)),d-=x,i+=x,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Bv;case Bv:if(t.flags&4096){if(d===0)break e;x=0;do Y=r[i+x++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&x<d);if(t.flags&512&&t.wrap&4&&(t.check=Po(t.check,r,x,i)),d-=x,i+=x,Y)break e}else t.head&&(t.head.comment=null);t.mode=zv;case zv:if(t.flags&512){for(;m<16;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(t.wrap&4&&f!==(t.check&65535)){s.msg="header crc mismatch",t.mode=gr;break}f=0,m=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),s.adler=t.check=0,t.mode=xl;break;case Uv:for(;m<32;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}s.adler=t.check=e5(f),f=0,m=0,t.mode=$0;case $0:if(t.havedict===0)return s.next_out=c,s.avail_out=u,s.next_in=i,s.avail_in=d,t.hold=f,t.bits=m,u7;s.adler=t.check=1,t.mode=xl;case xl:if(e===c7||e===t0)break e;case lx:if(t.last){f>>>=m&7,m-=m&7,t.mode=dx;break}for(;m<3;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}switch(t.last=f&1,f>>>=1,m-=1,f&3){case 0:t.mode=qv;break;case 1:if(b7(t),t.mode=s0,e===t0){f>>>=2,m-=2;break e}break;case 2:t.mode=Wv;break;case 3:s.msg="invalid block type",t.mode=gr}f>>>=2,m-=2;break;case qv:for(f>>>=m&7,m-=m&7;m<32;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if((f&65535)!==(f>>>16^65535)){s.msg="invalid stored block lengths",t.mode=gr;break}if(t.length=f&65535,f=0,m=0,t.mode=cx,e===t0)break e;case cx:t.mode=Hv;case Hv:if(x=t.length,x){if(x>d&&(x=d),x>u&&(x=u),x===0)break e;a.set(r.subarray(i,i+x),c),d-=x,i+=x,u-=x,c+=x,t.length-=x;break}t.mode=xl;break;case Wv:for(;m<14;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(t.nlen=(f&31)+257,f>>>=5,m-=5,t.ndist=(f&31)+1,f>>>=5,m-=5,t.ncode=(f&15)+4,f>>>=4,m-=4,t.nlen>286||t.ndist>30){s.msg="too many length or distance symbols",t.mode=gr;break}t.have=0,t.mode=Vv;case Vv:for(;t.have<t.ncode;){for(;m<3;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}t.lens[q[t.have++]]=f&7,f>>>=3,m-=3}for(;t.have<19;)t.lens[q[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,$={bits:t.lenbits},E=lf(l7,t.lens,0,19,t.lencode,0,t.work,$),t.lenbits=$.bits,E){s.msg="invalid code lengths set",t.mode=gr;break}t.have=0,t.mode=$v;case $v:for(;t.have<t.nlen+t.ndist;){for(;A=t.lencode[f&(1<<t.lenbits)-1],k=A>>>24,P=A>>>16&255,M=A&65535,!(k<=m);){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(M<16)f>>>=k,m-=k,t.lens[t.have++]=M;else{if(M===16){for(R=k+2;m<R;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(f>>>=k,m-=k,t.have===0){s.msg="invalid bit length repeat",t.mode=gr;break}Y=t.lens[t.have-1],x=3+(f&3),f>>>=2,m-=2}else if(M===17){for(R=k+3;m<R;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}f>>>=k,m-=k,Y=0,x=3+(f&7),f>>>=3,m-=3}else{for(R=k+7;m<R;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}f>>>=k,m-=k,Y=0,x=11+(f&127),f>>>=7,m-=7}if(t.have+x>t.nlen+t.ndist){s.msg="invalid bit length repeat",t.mode=gr;break}for(;x--;)t.lens[t.have++]=Y}}if(t.mode===gr)break;if(t.lens[256]===0){s.msg="invalid code -- missing end-of-block",t.mode=gr;break}if(t.lenbits=9,$={bits:t.lenbits},E=lf(WN,t.lens,0,t.nlen,t.lencode,0,t.work,$),t.lenbits=$.bits,E){s.msg="invalid literal/lengths set",t.mode=gr;break}if(t.distbits=6,t.distcode=t.distdyn,$={bits:t.distbits},E=lf(VN,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,$),t.distbits=$.bits,E){s.msg="invalid distances set",t.mode=gr;break}if(t.mode=s0,e===t0)break e;case s0:t.mode=r0;case r0:if(d>=6&&u>=258){s.next_out=c,s.avail_out=u,s.next_in=i,s.avail_in=d,t.hold=f,t.bits=m,s7(s,y),c=s.next_out,a=s.output,u=s.avail_out,i=s.next_in,r=s.input,d=s.avail_in,f=t.hold,m=t.bits,t.mode===xl&&(t.back=-1);break}for(t.back=0;A=t.lencode[f&(1<<t.lenbits)-1],k=A>>>24,P=A>>>16&255,M=A&65535,!(k<=m);){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(P&&(P&240)===0){for(F=k,B=P,ae=M;A=t.lencode[ae+((f&(1<<F+B)-1)>>F)],k=A>>>24,P=A>>>16&255,M=A&65535,!(F+k<=m);){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}f>>>=F,m-=F,t.back+=F}if(f>>>=k,m-=k,t.back+=k,t.length=M,P===0){t.mode=Jv;break}if(P&32){t.back=-1,t.mode=xl;break}if(P&64){s.msg="invalid literal/length code",t.mode=gr;break}t.extra=P&15,t.mode=Gv;case Gv:if(t.extra){for(R=t.extra;m<R;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,m-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Yv;case Yv:for(;A=t.distcode[f&(1<<t.distbits)-1],k=A>>>24,P=A>>>16&255,M=A&65535,!(k<=m);){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if((P&240)===0){for(F=k,B=P,ae=M;A=t.distcode[ae+((f&(1<<F+B)-1)>>F)],k=A>>>24,P=A>>>16&255,M=A&65535,!(F+k<=m);){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}f>>>=F,m-=F,t.back+=F}if(f>>>=k,m-=k,t.back+=k,P&64){s.msg="invalid distance code",t.mode=gr;break}t.offset=M,t.extra=P&15,t.mode=Kv;case Kv:if(t.extra){for(R=t.extra;m<R;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,m-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){s.msg="invalid distance too far back",t.mode=gr;break}t.mode=Xv;case Xv:if(u===0)break e;if(x=y-u,t.offset>x){if(x=t.offset-x,x>t.whave&&t.sane){s.msg="invalid distance too far back",t.mode=gr;break}x>t.wnext?(x-=t.wnext,j=t.wsize-x):j=t.wnext-x,x>t.length&&(x=t.length),S=t.window}else S=a,j=c-t.offset,x=t.length;x>u&&(x=u),u-=x,t.length-=x;do a[c++]=S[j++];while(--x);t.length===0&&(t.mode=r0);break;case Jv:if(u===0)break e;a[c++]=t.length,u--,t.mode=r0;break;case dx:if(t.wrap){for(;m<32;){if(d===0)break e;d--,f|=r[i++]<<m,m+=8}if(y-=u,s.total_out+=y,t.total+=y,t.wrap&4&&y&&(s.adler=t.check=t.flags?Po(t.check,a,y,c-y):p1(t.check,a,y,c-y)),y=u,t.wrap&4&&(t.flags?f:e5(f))!==t.check){s.msg="incorrect data check",t.mode=gr;break}f=0,m=0}t.mode=Zv;case Zv:if(t.wrap&&t.flags){for(;m<32;){if(d===0)break e;d--,f+=r[i++]<<m,m+=8}if(t.wrap&4&&f!==(t.total&4294967295)){s.msg="incorrect length check",t.mode=gr;break}f=0,m=0}t.mode=Qv;case Qv:E=d7;break e;case gr:E=$N;break e;case YN:return GN;case KN:default:return Ai}return s.next_out=c,s.avail_out=u,s.next_in=i,s.avail_in=d,t.hold=f,t.bits=m,(t.wsize||y!==s.avail_out&&t.mode<gr&&(t.mode<dx||e!==Pv))&&e4(s,s.output,s.next_out,y-s.avail_out),b-=s.avail_in,y-=s.avail_out,s.total_in+=b,s.total_out+=y,t.total+=y,t.wrap&4&&y&&(s.adler=t.check=t.flags?Po(t.check,a,y,s.next_out-y):p1(t.check,a,y,s.next_out-y)),s.data_type=t.bits+(t.last?64:0)+(t.mode===xl?128:0)+(t.mode===s0||t.mode===cx?256:0),(b===0&&y===0||e===Pv)&&E===Pd&&(E=h7),E},w7=s=>{if(Od(s))return Ai;let e=s.state;return e.window&&(e.window=null),s.state=null,Pd},j7=(s,e)=>{if(Od(s))return Ai;const t=s.state;return(t.wrap&2)===0?Ai:(t.head=e,e.done=!1,Pd)},N7=(s,e)=>{const t=e.length;let r,a,i;return Od(s)||(r=s.state,r.wrap!==0&&r.mode!==$0)?Ai:r.mode===$0&&(a=1,a=p1(a,e,t,0),a!==r.check)?$N:(i=e4(s,e,t,t),i?(r.mode=YN,GN):(r.havedict=1,Pd))};var S7=JN,_7=ZN,k7=XN,A7=y7,C7=QN,L7=v7,E7=w7,P7=j7,T7=N7,M7="pako inflate (from Nodeca project)",jl={inflateReset:S7,inflateReset2:_7,inflateResetKeep:k7,inflateInit:A7,inflateInit2:C7,inflate:L7,inflateEnd:E7,inflateGetHeader:P7,inflateSetDictionary:T7,inflateInfo:M7};function R7(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var O7=R7;const t4=Object.prototype.toString,{Z_NO_FLUSH:D7,Z_FINISH:I7,Z_OK:Sf,Z_STREAM_END:fx,Z_NEED_DICT:mx,Z_STREAM_ERROR:F7,Z_DATA_ERROR:s5,Z_MEM_ERROR:B7}=UN;function qf(s){this.options=qN.assign({chunkSize:1024*64,windowBits:15,to:""},s||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(s&&s.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e7,this.strm.avail_out=0;let t=jl.inflateInit2(this.strm,e.windowBits);if(t!==Sf)throw new Error(g1[t]);if(this.header=new O7,jl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=x1.string2buf(e.dictionary):t4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=jl.inflateSetDictionary(this.strm,e.dictionary),t!==Sf)))throw new Error(g1[t])}qf.prototype.push=function(s,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,c,d;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?I7:D7,t4.call(s)==="[object ArrayBuffer]"?t.input=new Uint8Array(s):t.input=s,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),i=jl.inflate(t,c),i===mx&&a&&(i=jl.inflateSetDictionary(t,a),i===Sf?i=jl.inflate(t,c):i===s5&&(i=mx));t.avail_in>0&&i===fx&&t.state.wrap>0&&s[t.next_in]!==0;)jl.inflateReset(t),i=jl.inflate(t,c);switch(i){case F7:case s5:case mx:case B7:return this.onEnd(i),this.ended=!0,!1}if(d=t.avail_out,t.next_out&&(t.avail_out===0||i===fx))if(this.options.to==="string"){let u=x1.utf8border(t.output,t.next_out),f=t.next_out-u,m=x1.buf2string(t.output,u);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(u,u+f),0),this.onData(m)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(i===Sf&&d===0)){if(i===fx)return i=jl.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};qf.prototype.onData=function(s){this.chunks.push(s)};qf.prototype.onEnd=function(s){s===Sf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qN.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg};function z7(s,e){const t=new qf(e);if(t.push(s),t.err)throw t.msg||g1[t.err];return t.result}var U7=qf,q7=z7,H7={Inflate:U7,inflate:q7};const{Inflate:W7,inflate:V7}=H7;var r5=W7,$7=V7;const s4=[];for(let s=0;s<256;s++){let e=s;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;s4[s]=e}const n5=4294967295;function G7(s,e,t){let r=s;for(let a=0;a<t;a++)r=s4[(r^e[a])&255]^r>>>8;return r}function Y7(s,e){return(G7(n5,s,e)^n5)>>>0}function a5(s,e,t){const r=s.readUint32(),a=Y7(new Uint8Array(s.buffer,s.byteOffset+s.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function r4(s,e,t){for(let r=0;r<t;r++)e[r]=s[r]}function n4(s,e,t,r){let a=0;for(;a<r;a++)e[a]=s[a];for(;a<t;a++)e[a]=s[a]+e[a-r]&255}function a4(s,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=s[a];else for(;a<r;a++)e[a]=s[a]+t[a]&255}function i4(s,e,t,r,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+(e[i-a]>>1)&255}else{for(;i<a;i++)e[i]=s[i]+(t[i]>>1)&255;for(;i<r;i++)e[i]=s[i]+(e[i-a]+t[i]>>1)&255}}function o4(s,e,t,r,a){let i=0;if(t.length===0){for(;i<a;i++)e[i]=s[i];for(;i<r;i++)e[i]=s[i]+e[i-a]&255}else{for(;i<a;i++)e[i]=s[i]+t[i]&255;for(;i<r;i++)e[i]=s[i]+K7(e[i-a],t[i],t[i-a])&255}}function K7(s,e,t){const r=s+e-t,a=Math.abs(r-s),i=Math.abs(r-e),c=Math.abs(r-t);return a<=i&&a<=c?s:i<=c?e:t}function X7(s,e,t,r,a,i){switch(s){case 0:r4(e,t,a);break;case 1:n4(e,t,a,i);break;case 2:a4(e,t,r,a);break;case 3:i4(e,t,r,a,i);break;case 4:o4(e,t,r,a,i);break;default:throw new Error(`Unsupported filter: ${s}`)}}const J7=new Uint16Array([255]),Z7=new Uint8Array(J7.buffer),Q7=Z7[0]===255;function eL(s){const{data:e,width:t,height:r,channels:a,depth:i}=s,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],d=Math.ceil(i/8)*a,u=new Uint8Array(r*t*d);let f=0;for(let m=0;m<7;m++){const b=c[m],y=Math.ceil((t-b.x)/b.xStep),x=Math.ceil((r-b.y)/b.yStep);if(y<=0||x<=0)continue;const j=y*d,S=new Uint8Array(j);for(let A=0;A<x;A++){const k=e[f++],P=e.subarray(f,f+j);f+=j;const M=new Uint8Array(j);X7(k,P,M,S,j,d),S.set(M);for(let F=0;F<y;F++){const B=b.x+F*b.xStep,ae=b.y+A*b.yStep;if(!(B>=t||ae>=r))for(let Y=0;Y<d;Y++)u[(ae*t+B)*d+Y]=M[F*d+Y]}}}if(i===16){const m=new Uint16Array(u.buffer);if(Q7)for(let b=0;b<m.length;b++)m[b]=tL(m[b]);return m}else return u}function tL(s){return(s&255)<<8|s>>8&255}const sL=new Uint16Array([255]),rL=new Uint8Array(sL.buffer),nL=rL[0]===255,aL=new Uint8Array(0);function i5(s){const{data:e,width:t,height:r,channels:a,depth:i}=s,c=Math.ceil(i/8)*a,d=Math.ceil(i/8*a*t),u=new Uint8Array(r*d);let f=aL,m=0,b,y;for(let x=0;x<r;x++){switch(b=e.subarray(m+1,m+1+d),y=u.subarray(x*d,(x+1)*d),e[m]){case 0:r4(b,y,d);break;case 1:n4(b,y,d,c);break;case 2:a4(b,y,f,d);break;case 3:i4(b,y,f,d,c);break;case 4:o4(b,y,f,d,c);break;default:throw new Error(`Unsupported filter: ${e[m]}`)}f=y,m+=d+1}if(i===16){const x=new Uint16Array(u.buffer);if(nL)for(let j=0;j<x.length;j++)x[j]=iL(x[j]);return x}else return u}function iL(s){return(s&255)<<8|s>>8&255}const E0=Uint8Array.of(137,80,78,71,13,10,26,10);function o5(s){if(!oL(s.readBytes(E0.length)))throw new Error("wrong PNG signature")}function oL(s){if(s.length<E0.length)return!1;for(let e=0;e<E0.length;e++)if(s[e]!==E0[e])return!1;return!0}const lL="tEXt",cL=0,l4=new TextDecoder("latin1");function dL(s){if(hL(s),s.length===0||s.length>79)throw new Error("keyword length must be between 1 and 79")}const uL=/^[\u0000-\u00FF]*$/;function hL(s){if(!uL.test(s))throw new Error("invalid latin1 text")}function fL(s,e,t){const r=c4(e);s[r]=mL(e,t-r.length-1)}function c4(s){for(s.mark();s.readByte()!==cL;);const e=s.offset;s.reset();const t=l4.decode(s.readBytes(e-s.offset-1));return s.skip(1),dL(t),t}function mL(s,e){return l4.decode(s.readBytes(e))}const Ua={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},px={UNKNOWN:-1,DEFLATE:0},l5={UNKNOWN:-1,ADAPTIVE:0},gx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},n0={NONE:0,BACKGROUND:1,PREVIOUS:2},xx={SOURCE:0,OVER:1};class pL extends sy{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new r5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=px.UNKNOWN,this._filterMethod=l5.UNKNOWN,this._interlaceMethod=gx.UNKNOWN,this._colorType=Ua.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o5(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(o5(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case lL:fL(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?a5(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?a5(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=gL(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Ua.GREYSCALE:r=1;break;case Ua.TRUECOLOUR:r=3;break;case Ua.INDEXED_COLOUR:r=1;break;case Ua.GREYSCALE_ALPHA:r=2;break;case Ua.TRUECOLOUR_ALPHA:r=4;break;case Ua.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==px.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Ua.GREYSCALE:case Ua.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Ua.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Ua.UNKNOWN:case Ua.GREYSCALE_ALPHA:case Ua.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=c4(this),r=this.readUint8();if(r!==px.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:$7(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=i5({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case n0.NONE:break;case n0.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const c=(a*e.width+i)*this._png.channels;for(let d=0;d<this._png.channels;d++)r.data[c+d]=0}break;case n0.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(i,c)=>{const d=((i+t.yOffset)*this._png.width+t.xOffset+c)*this._png.channels,u=(i*t.width+c)*this._png.channels;return{index:d,frameIndex:u}};switch(t.blendOp){case xx.SOURCE:for(let i=0;i<t.height;i++)for(let c=0;c<t.width;c++){const{index:d,frameIndex:u}=a(i,c);for(let f=0;f<this._png.channels;f++)e.data[d+f]=t.data[u+f]}break;case xx.OVER:for(let i=0;i<t.height;i++)for(let c=0;c<t.width;c++){const{index:d,frameIndex:u}=a(i,c);for(let f=0;f<this._png.channels;f++){const m=t.data[u+this._png.channels-1]/r,b=f%(this._png.channels-1)===0?1:t.data[u+f],y=Math.floor(m*b+(1-m)*e.data[d+f]);e.data[d+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==l5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===gx.NO_INTERLACE)this._png.data=i5({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===gx.ADAM7)this._png.data=eL({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:n0.NONE,blendOp:xx.SOURCE,data:e}),this._inflator=new r5,this._writingDataChunks=!1}}function gL(s){if(s!==1&&s!==2&&s!==4&&s!==8&&s!==16)throw new Error(`invalid bit depth: ${s}`);return s}var c5;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.METRE=1]="METRE"})(c5||(c5={}));function xL(s,e){return new pL(s,e).decode()}var Kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yx(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var sr={log:yx,warn:function(s){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):yx.call(null,arguments))},error:function(s){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):yx(s))}};function bx(s,e,t){var r=new XMLHttpRequest;r.open("GET",s),r.responseType="blob",r.onload=function(){gd(r.response,e,t)},r.onerror=function(){sr.error("could not download file")},r.send()}function d5(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function a0(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var gd=Kt.saveAs||((typeof window>"u"?"undefined":Ys(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(s,e,t){var r=Kt.URL||Kt.webkitURL,a=document.createElement("a");e=e||s.name||"download",a.download=e,a.rel="noopener",typeof s=="string"?(a.href=s,a.origin!==location.origin?d5(a.href)?bx(s,e,t):a0(a,a.target="_blank"):a0(a)):(a.href=r.createObjectURL(s),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){a0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(s,e,t){if(e=e||s.name||"download",typeof s=="string")if(d5(s))bx(s,e,t);else{var r=document.createElement("a");r.href=s,r.target="_blank",setTimeout(function(){a0(r)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ys(i)!=="object"&&(sr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(s,t),e)}:function(s,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof s=="string")return bx(s,e,t);var a=s.type==="application/octet-stream",i=/constructor/i.test(Kt.HTMLElement)||Kt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&i)&&(typeof FileReader>"u"?"undefined":Ys(FileReader))==="object"){var d=new FileReader;d.onloadend=function(){var m=d.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},d.readAsDataURL(s)}else{var u=Kt.URL||Kt.webkitURL,f=u.createObjectURL(s);r?r.location=f:location.href=f,r=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function d4(s){var e;s=s||"",this.ok=!1,s.charAt(0)=="#"&&(s=s.substr(1,6)),s={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[s=(s=s.replace(/ /g,"")).toLowerCase()]||s;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(d){return[parseInt(d[1]),parseInt(d[2]),parseInt(d[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(d){return[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(d){return[parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,i=t[r].process,c=a.exec(s);c&&(e=i(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var d=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return d.length==1&&(d="0"+d),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+d+u+f}}var P0=Kt.atob.bind(Kt),u5=Kt.btoa.bind(Kt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function vx(s,e){var t=s[0],r=s[1],a=s[2],i=s[3];t=Hn(t,r,a,i,e[0],7,-680876936),i=Hn(i,t,r,a,e[1],12,-389564586),a=Hn(a,i,t,r,e[2],17,606105819),r=Hn(r,a,i,t,e[3],22,-1044525330),t=Hn(t,r,a,i,e[4],7,-176418897),i=Hn(i,t,r,a,e[5],12,1200080426),a=Hn(a,i,t,r,e[6],17,-1473231341),r=Hn(r,a,i,t,e[7],22,-45705983),t=Hn(t,r,a,i,e[8],7,1770035416),i=Hn(i,t,r,a,e[9],12,-1958414417),a=Hn(a,i,t,r,e[10],17,-42063),r=Hn(r,a,i,t,e[11],22,-1990404162),t=Hn(t,r,a,i,e[12],7,1804603682),i=Hn(i,t,r,a,e[13],12,-40341101),a=Hn(a,i,t,r,e[14],17,-1502002290),t=Wn(t,r=Hn(r,a,i,t,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Wn(i,t,r,a,e[6],9,-1069501632),a=Wn(a,i,t,r,e[11],14,643717713),r=Wn(r,a,i,t,e[0],20,-373897302),t=Wn(t,r,a,i,e[5],5,-701558691),i=Wn(i,t,r,a,e[10],9,38016083),a=Wn(a,i,t,r,e[15],14,-660478335),r=Wn(r,a,i,t,e[4],20,-405537848),t=Wn(t,r,a,i,e[9],5,568446438),i=Wn(i,t,r,a,e[14],9,-1019803690),a=Wn(a,i,t,r,e[3],14,-187363961),r=Wn(r,a,i,t,e[8],20,1163531501),t=Wn(t,r,a,i,e[13],5,-1444681467),i=Wn(i,t,r,a,e[2],9,-51403784),a=Wn(a,i,t,r,e[7],14,1735328473),t=Vn(t,r=Wn(r,a,i,t,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Vn(i,t,r,a,e[8],11,-2022574463),a=Vn(a,i,t,r,e[11],16,1839030562),r=Vn(r,a,i,t,e[14],23,-35309556),t=Vn(t,r,a,i,e[1],4,-1530992060),i=Vn(i,t,r,a,e[4],11,1272893353),a=Vn(a,i,t,r,e[7],16,-155497632),r=Vn(r,a,i,t,e[10],23,-1094730640),t=Vn(t,r,a,i,e[13],4,681279174),i=Vn(i,t,r,a,e[0],11,-358537222),a=Vn(a,i,t,r,e[3],16,-722521979),r=Vn(r,a,i,t,e[6],23,76029189),t=Vn(t,r,a,i,e[9],4,-640364487),i=Vn(i,t,r,a,e[12],11,-421815835),a=Vn(a,i,t,r,e[15],16,530742520),t=$n(t,r=Vn(r,a,i,t,e[2],23,-995338651),a,i,e[0],6,-198630844),i=$n(i,t,r,a,e[7],10,1126891415),a=$n(a,i,t,r,e[14],15,-1416354905),r=$n(r,a,i,t,e[5],21,-57434055),t=$n(t,r,a,i,e[12],6,1700485571),i=$n(i,t,r,a,e[3],10,-1894986606),a=$n(a,i,t,r,e[10],15,-1051523),r=$n(r,a,i,t,e[1],21,-2054922799),t=$n(t,r,a,i,e[8],6,1873313359),i=$n(i,t,r,a,e[15],10,-30611744),a=$n(a,i,t,r,e[6],15,-1560198380),r=$n(r,a,i,t,e[13],21,1309151649),t=$n(t,r,a,i,e[4],6,-145523070),i=$n(i,t,r,a,e[11],10,-1120210379),a=$n(a,i,t,r,e[2],15,718787259),r=$n(r,a,i,t,e[9],21,-343485551),s[0]=Lc(t,s[0]),s[1]=Lc(r,s[1]),s[2]=Lc(a,s[2]),s[3]=Lc(i,s[3])}function yp(s,e,t,r,a,i){return e=Lc(Lc(e,s),Lc(r,i)),Lc(e<<a|e>>>32-a,t)}function Hn(s,e,t,r,a,i,c){return yp(e&t|~e&r,s,e,a,i,c)}function Wn(s,e,t,r,a,i,c){return yp(e&r|t&~r,s,e,a,i,c)}function Vn(s,e,t,r,a,i,c){return yp(e^t^r,s,e,a,i,c)}function $n(s,e,t,r,a,i,c){return yp(t^(e|~r),s,e,a,i,c)}function u4(s){var e,t=s.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s.length;e+=64)vx(r,yL(s.substring(e-64,e)));s=s.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s.length;e++)a[e>>2]|=s.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(vx(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,vx(r,a),r}function yL(s){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=s.charCodeAt(e)+(s.charCodeAt(e+1)<<8)+(s.charCodeAt(e+2)<<16)+(s.charCodeAt(e+3)<<24);return t}var h5="0123456789abcdef".split("");function bL(s){for(var e="",t=0;t<4;t++)e+=h5[s>>8*t+4&15]+h5[s>>8*t&15];return e}function vL(s){return String.fromCharCode(255&s,(65280&s)>>8,(16711680&s)>>16,(4278190080&s)>>24)}function y1(s){return u4(s).map(vL).join("")}var wL=function(s){for(var e=0;e<s.length;e++)s[e]=bL(s[e]);return s.join("")}(u4("hello"))!="5d41402abc4b2a76b9719d911017c592";function Lc(s,e){if(wL){var t=(65535&s)+(65535&e);return(s>>16)+(e>>16)+(t>>16)<<16|65535&t}return s+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function b1(s,e){var t,r,a,i;if(s!==t){for(var c=(a=s,i=1+(256/s.length|0),new Array(i+1).join(a)),d=[],u=0;u<256;u++)d[u]=u;var f=0;for(u=0;u<256;u++){var m=d[u];f=(f+m+c.charCodeAt(u))%256,d[u]=d[f],d[f]=m}t=s,r=d}else d=r;var b=e.length,y=0,x=0,j="";for(u=0;u<b;u++)x=(x+(m=d[y=(y+1)%256]))%256,d[y]=d[x],d[x]=m,c=d[(d[y]+d[x])%256],j+=String.fromCharCode(e.charCodeAt(u)^c);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var f5={print:4,modify:8,copy:16,"annot-forms":32};function _u(s,e,t,r){this.v=1,this.r=2;var a=192;s.forEach(function(d){if(f5.perm!==void 0)throw new Error("Invalid permission: "+d);a+=f5[d]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),c=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^a)),this.encryptionKey=y1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=b1(this.encryptionKey,this.padding)}function ku(s){if(/[^\u0000-\u00ff]/.test(s))throw new Error("Invalid PDF Name Object: "+s+", Only accept ASCII characters.");for(var e="",t=s.length,r=0;r<t;r++){var a=s.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):s[r]}return e}function m5(s){if(Ys(s)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[r,!!a],i},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[t]){var c=e[t][i];try{c[0].apply(s,r)}catch(d){Kt.console&&sr.error("jsPDF PubSub Error",d.message,d)}c[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function G0(s){if(!(this instanceof G0))return new G0(s);var e="opacity,stroke-opacity".split(",");for(var t in s)s.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=s[t]);this.id="",this.objectNumber=-1}function h4(s,e){this.gState=s,this.matrix=e,this.id="",this.objectNumber=-1}function wd(s,e,t,r,a){if(!(this instanceof wd))return new wd(s,e,t,r,a);this.type=s==="axial"?2:3,this.coords=e,this.colors=t,h4.call(this,r,a)}function Au(s,e,t,r,a){if(!(this instanceof Au))return new Au(s,e,t,r,a);this.boundingBox=s,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,h4.call(this,r,a)}function Et(s){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],c=[],d=1,u=16,f="S",m=null;Ys(s=s||{})==="object"&&(t=s.orientation,r=s.unit||r,a=s.format||a,i=s.compress||s.compressPdf||i,(m=s.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),d=typeof s.userUnit=="number"?Math.abs(s.userUnit):1,s.precision!==void 0&&(e=s.precision),s.floatPrecision!==void 0&&(u=s.floatPrecision),f=s.defaultPathOperation||"S"),c=s.filters||(i===!0?["FlateEncode"]:c),r=r||"mm",t=(""+(t||"P")).toLowerCase();var b=s.putOnlyUsedFonts||!1,y={},x={internal:{},__private__:{}};x.__private__.PubSub=m5;var j="1.3",S=x.__private__.getPdfVersion=function(){return j};x.__private__.setPdfVersion=function(_){j=_};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return A};var k=x.__private__.getPageFormat=function(_){return A[_]};a=a||"a4";var P="compat",M="advanced",F=P;function B(){this.saveGraphicsState(),ne(new Lt(Pt,0,0,-Pt,0,sa()*Pt).toString()+" cm"),this.setFontSize(this.getFontSize()/Pt),f="n",F=M}function ae(){this.restoreGraphicsState(),f="S",F=P}var Y=x.__private__.combineFontStyleAndFontWeight=function(_,U){if(_=="bold"&&U=="normal"||_=="bold"&&U==400||_=="normal"&&U=="italic"||_=="bold"&&U=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return U&&(_=U==400||U==="normal"?_==="italic"?"italic":"normal":U!=700&&U!=="bold"||_!=="normal"?(U==700?"bold":U)+""+_:"bold"),_};x.advancedAPI=function(_){var U=F===P;return U&&B.call(this),typeof _!="function"||(_(this),U&&ae.call(this)),this},x.compatAPI=function(_){var U=F===M;return U&&ae.call(this),typeof _!="function"||(_(this),U&&B.call(this)),this},x.isAdvancedAPI=function(){return F===M};var E,I=function(_){if(F!==M)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=x.roundToPrecision=x.__private__.roundToPrecision=function(_,U){var de=e||U;if(isNaN(_)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(de).replace(/0+$/,"")};E=x.hpf=x.__private__.hpf=typeof u=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,u)}:u==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return $(_,16)};var R=x.f2=x.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return $(_,2)},q=x.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return $(_,3)},ie=x.scale=x.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return F===P?_*Pt:F===M?_:void 0},K=function(_){return ie(function(U){return F===P?sa()-U:F===M?U:void 0}(_))};x.__private__.setPrecision=x.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(e=parseInt(_,10))};var oe,Z="00000000000000000000000000000000",se=x.__private__.getFileId=function(){return Z},ee=x.__private__.setFileId=function(_){return Z=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(ws=new _u(m.userPermissions,m.userPassword,m.ownerPassword,Z)),Z};x.setFileId=function(_){return ee(_),this},x.getFileId=function(){return se()};var pe=x.__private__.convertDateToPDFDate=function(_){var U=_.getTimezoneOffset(),de=U<0?"+":"-",xe=Math.floor(Math.abs(U/60)),Se=Math.abs(U%60),We=[de,te(xe),"'",te(Se),"'"].join("");return["D:",_.getFullYear(),te(_.getMonth()+1),te(_.getDate()),te(_.getHours()),te(_.getMinutes()),te(_.getSeconds()),We].join("")},Q=x.__private__.convertPDFDateToDate=function(_){var U=parseInt(_.substr(2,4),10),de=parseInt(_.substr(6,2),10)-1,xe=parseInt(_.substr(8,2),10),Se=parseInt(_.substr(10,2),10),We=parseInt(_.substr(12,2),10),Xe=parseInt(_.substr(14,2),10);return new Date(U,de,xe,Se,We,Xe,0)},me=x.__private__.setCreationDate=function(_){var U;if(_===void 0&&(_=new Date),_ instanceof Date)U=pe(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");U=_}return oe=U},O=x.__private__.getCreationDate=function(_){var U=oe;return _==="jsDate"&&(U=Q(oe)),U};x.setCreationDate=function(_){return me(_),this},x.getCreationDate=function(_){return O(_)};var V,te=x.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},he=x.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},fe=0,ve=[],Ce=[],ue=0,Le=[],Be=[],Ze=!1,Fe=Ce;x.__private__.setCustomOutputDestination=function(_){Ze=!0,Fe=_};var je=function(_){Ze||(Fe=_)};x.__private__.resetCustomOutputDestination=function(){Ze=!1,Fe=Ce};var ne=x.__private__.out=function(_){return _=_.toString(),ue+=_.length+1,Fe.push(_),Fe},lt=x.__private__.write=function(_){return ne(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},st=x.__private__.getArrayBuffer=function(_){for(var U=_.length,de=new ArrayBuffer(U),xe=new Uint8Array(de);U--;)xe[U]=_.charCodeAt(U);return de},it=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return it};var ze=s.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(_){return ze=F===M?_/Pt:_,this};var et,qe=x.__private__.getFontSize=x.getFontSize=function(){return F===P?ze:ze*Pt},Nt=s.R2L||!1;x.__private__.setR2L=x.setR2L=function(_){return Nt=_,this},x.__private__.getR2L=x.getR2L=function(){return Nt};var dt,Rt=x.__private__.setZoomMode=function(_){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))et=_;else if(isNaN(_)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');et=_}else et=parseInt(_,10)};x.__private__.getZoomMode=function(){return et};var ft,ut=x.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');dt=_};x.__private__.getPageMode=function(){return dt};var _t=x.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');ft=_};x.__private__.getLayoutMode=function(){return ft},x.__private__.setDisplayMode=x.setDisplayMode=function(_,U,de){return Rt(_),_t(U),ut(de),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(_){if(Object.keys(Qe).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[_]},x.__private__.getDocumentProperties=function(){return Qe},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(_){for(var U in Qe)Qe.hasOwnProperty(U)&&_[U]&&(Qe[U]=_[U]);return this},x.__private__.setDocumentProperty=function(_,U){if(Object.keys(Qe).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[_]=U};var rt,Pt,xt,Ge,at,ct={},Mt={},bs=[],At={},ns={},Dt={},Is={},Os=null,fs=0,Ot=[],ts=new m5(x),Qr=s.hotfixes||[],Jt={},$r={},jn=[],Lt=function _(U,de,xe,Se,We,Xe){if(!(this instanceof _))return new _(U,de,xe,Se,We,Xe);isNaN(U)&&(U=1),isNaN(de)&&(de=0),isNaN(xe)&&(xe=0),isNaN(Se)&&(Se=1),isNaN(We)&&(We=0),isNaN(Xe)&&(Xe=0),this._matrix=[U,de,xe,Se,We,Xe]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(_)},Lt.prototype.multiply=function(_){var U=_.sx*this.sx+_.shy*this.shx,de=_.sx*this.shy+_.shy*this.sy,xe=_.shx*this.sx+_.sy*this.shx,Se=_.shx*this.shy+_.sy*this.sy,We=_.tx*this.sx+_.ty*this.shx+this.tx,Xe=_.tx*this.shy+_.ty*this.sy+this.ty;return new Lt(U,de,xe,Se,We,Xe)},Lt.prototype.decompose=function(){var _=this.sx,U=this.shy,de=this.shx,xe=this.sy,Se=this.tx,We=this.ty,Xe=Math.sqrt(_*_+U*U),bt=(_/=Xe)*de+(U/=Xe)*xe;de-=_*bt,xe-=U*bt;var kt=Math.sqrt(de*de+xe*xe);return bt/=kt,_*(xe/=kt)<U*(de/=kt)&&(_=-_,U=-U,bt=-bt,Xe=-Xe),{scale:new Lt(Xe,0,0,kt,0,0),translate:new Lt(1,0,0,1,Se,We),rotate:new Lt(_,U,-U,_,0,0),skew:new Lt(1,0,bt,1,0,0)}},Lt.prototype.toString=function(_){return this.join(" ")},Lt.prototype.inversed=function(){var _=this.sx,U=this.shy,de=this.shx,xe=this.sy,Se=this.tx,We=this.ty,Xe=1/(_*xe-U*de),bt=xe*Xe,kt=-U*Xe,Ht=-de*Xe,Qt=_*Xe;return new Lt(bt,kt,Ht,Qt,-bt*Se-Ht*We,-kt*Se-Qt*We)},Lt.prototype.applyToPoint=function(_){var U=_.x*this.sx+_.y*this.shx+this.tx,de=_.x*this.shy+_.y*this.sy+this.ty;return new Yo(U,de)},Lt.prototype.applyToRectangle=function(_){var U=this.applyToPoint(_),de=this.applyToPoint(new Yo(_.x+_.w,_.y+_.h));return new Ko(U.x,U.y,de.x-U.x,de.y-U.y)},Lt.prototype.clone=function(){var _=this.sx,U=this.shy,de=this.shx,xe=this.sy,Se=this.tx,We=this.ty;return new Lt(_,U,de,xe,Se,We)},x.Matrix=Lt;var kr=x.matrixMult=function(_,U){return U.multiply(_)},ms=new Lt(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=ms;var as=function(_,U){if(!ns[_]){var de=(U instanceof wd?"Sh":"P")+(Object.keys(At).length+1).toString(10);U.id=de,ns[_]=de,At[de]=U,ts.publish("addPattern",U)}};x.ShadingPattern=wd,x.TilingPattern=Au,x.addShadingPattern=function(_,U){return I("addShadingPattern()"),as(_,U),this},x.beginTilingPattern=function(_){I("beginTilingPattern()"),Ii(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},x.endTilingPattern=function(_,U){I("endTilingPattern()"),U.stream=Be[V].join(`
`),as(_,U),ts.publish("endTilingPattern",U),jn.pop().restore()};var Ps,Ft=x.__private__.newObject=function(){var _=_e();return ht(_,!0),_},_e=x.__private__.newObjectDeferred=function(){return fe++,ve[fe]=function(){return ue},fe},ht=function(_,U){return U=typeof U=="boolean"&&U,ve[_]=ue,U&&ne(_+" 0 obj"),_},ss=x.__private__.newAdditionalObject=function(){var _={objId:_e(),content:""};return Le.push(_),_},It=_e(),Cs=_e(),os=x.__private__.decodeColorString=function(_){var U=_.split(" ");if(U.length!==2||U[1]!=="g"&&U[1]!=="G")U.length!==5||U[4]!=="k"&&U[4]!=="K"||(U=[(1-U[0])*(1-U[3]),(1-U[1])*(1-U[3]),(1-U[2])*(1-U[3]),"r"]);else{var de=parseFloat(U[0]);U=[de,de,de,"r"]}for(var xe="#",Se=0;Se<3;Se++)xe+=("0"+Math.floor(255*parseFloat(U[Se])).toString(16)).slice(-2);return xe},Zt=x.__private__.encodeColorString=function(_){var U;typeof _=="string"&&(_={ch1:_});var de=_.ch1,xe=_.ch2,Se=_.ch3,We=_.ch4,Xe=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var bt=new d4(de);if(bt.ok)de=bt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var kt=parseInt(de.substr(1),16);de=kt>>16&255,xe=kt>>8&255,Se=255&kt}if(xe===void 0||We===void 0&&de===xe&&xe===Se)U=typeof de=="string"?de+" "+Xe[0]:_.precision===2?R(de/255)+" "+Xe[0]:q(de/255)+" "+Xe[0];else if(We===void 0||Ys(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",Xe[1]].join(" ");U=typeof de=="string"?[de,xe,Se,Xe[1]].join(" "):_.precision===2?[R(de/255),R(xe/255),R(Se/255),Xe[1]].join(" "):[q(de/255),q(xe/255),q(Se/255),Xe[1]].join(" ")}else U=typeof de=="string"?[de,xe,Se,We,Xe[2]].join(" "):_.precision===2?[R(de),R(xe),R(Se),R(We),Xe[2]].join(" "):[q(de),q(xe),q(Se),q(We),Xe[2]].join(" ");return U},vs=x.__private__.getFilters=function(){return c},ls=x.__private__.putStream=function(_){var U=(_=_||{}).data||"",de=_.filters||vs(),xe=_.alreadyAppliedFilters||[],Se=_.addLength1||!1,We=U.length,Xe=_.objectId,bt=function(Cr){return Cr};if(m!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(bt=ws.encryptor(Xe,0));var kt={};de===!0&&(de=["FlateEncode"]);var Ht=_.additionalKeyValues||[],Qt=(kt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(U,de):{data:U,reverseChain:[]}).reverseChain+(Array.isArray(xe)?xe.join(" "):xe.toString());if(kt.data.length!==0&&(Ht.push({key:"Length",value:kt.data.length}),Se===!0&&Ht.push({key:"Length1",value:We})),Qt.length!=0)if(Qt.split("/").length-1==1)Ht.push({key:"Filter",value:Qt});else{Ht.push({key:"Filter",value:"["+Qt+"]"});for(var As=0;As<Ht.length;As+=1)if(Ht[As].key==="DecodeParms"){for(var nr=[],Ar=0;Ar<kt.reverseChain.split("/").length-1;Ar+=1)nr.push("null");nr.push(Ht[As].value),Ht[As].value="["+nr.join(" ")+"]"}}ne("<<");for(var zs=0;zs<Ht.length;zs++)ne("/"+Ht[zs].key+" "+Ht[zs].value);ne(">>"),kt.data.length!==0&&(ne("stream"),ne(bt(kt.data)),ne("endstream"))},_s=x.__private__.putPage=function(_){var U=_.number,de=_.data,xe=_.objId,Se=_.contentsObjId;ht(xe,!0),ne("<</Type /Page"),ne("/Parent "+_.rootDictionaryObjId+" 0 R"),ne("/Resources "+_.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(E(_.mediaBox.bottomLeftX))+" "+parseFloat(E(_.mediaBox.bottomLeftY))+" "+E(_.mediaBox.topRightX)+" "+E(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&ne("/CropBox ["+E(_.cropBox.bottomLeftX)+" "+E(_.cropBox.bottomLeftY)+" "+E(_.cropBox.topRightX)+" "+E(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&ne("/BleedBox ["+E(_.bleedBox.bottomLeftX)+" "+E(_.bleedBox.bottomLeftY)+" "+E(_.bleedBox.topRightX)+" "+E(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&ne("/TrimBox ["+E(_.trimBox.bottomLeftX)+" "+E(_.trimBox.bottomLeftY)+" "+E(_.trimBox.topRightX)+" "+E(_.trimBox.topRightY)+"]"),_.artBox!==null&&ne("/ArtBox ["+E(_.artBox.bottomLeftX)+" "+E(_.artBox.bottomLeftY)+" "+E(_.artBox.topRightX)+" "+E(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&ne("/UserUnit "+_.userUnit),ts.publish("putPage",{objId:xe,pageContext:Ot[U],pageNumber:U,page:de}),ne("/Contents "+Se+" 0 R"),ne(">>"),ne("endobj");var We=de.join(`
`);return F===M&&(We+=`
Q`),ht(Se,!0),ls({data:We,filters:vs(),objectId:Se}),ne("endobj"),xe},Fs=x.__private__.putPages=function(){var _,U,de=[];for(_=1;_<=fs;_++)Ot[_].objId=_e(),Ot[_].contentsObjId=_e();for(_=1;_<=fs;_++)de.push(_s({number:_,data:Be[_],objId:Ot[_].objId,contentsObjId:Ot[_].contentsObjId,mediaBox:Ot[_].mediaBox,cropBox:Ot[_].cropBox,bleedBox:Ot[_].bleedBox,trimBox:Ot[_].trimBox,artBox:Ot[_].artBox,userUnit:Ot[_].userUnit,rootDictionaryObjId:It,resourceDictionaryObjId:Cs}));ht(It,!0),ne("<</Type /Pages");var xe="/Kids [";for(U=0;U<fs;U++)xe+=de[U]+" 0 R ";ne(xe+"]"),ne("/Count "+fs),ne(">>"),ne("endobj"),ts.publish("postPutPages")},Qn=function(_){ts.publish("putFont",{font:_,out:ne,newObject:Ft,putStream:ls}),_.isAlreadyPutted!==!0&&(_.objectNumber=Ft(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+ku(_.postScriptName)),ne("/Subtype /Type1"),typeof _.encoding=="string"&&ne("/Encoding /"+_.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},br=function(_){_.objectNumber=Ft();var U=[];U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Form"}),U.push({key:"BBox",value:"["+[E(_.x),E(_.y),E(_.x+_.width),E(_.y+_.height)].join(" ")+"]"}),U.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var de=_.pages[1].join(`
`);ls({data:de,additionalKeyValues:U,objectId:_.objectNumber}),ne("endobj")},zn=function(_,U){U||(U=21);var de=Ft(),xe=function(Xe,bt){var kt,Ht=[],Qt=1/(bt-1);for(kt=0;kt<1;kt+=Qt)Ht.push(kt);if(Ht.push(1),Xe[0].offset!=0){var As={offset:0,color:Xe[0].color};Xe.unshift(As)}if(Xe[Xe.length-1].offset!=1){var nr={offset:1,color:Xe[Xe.length-1].color};Xe.push(nr)}for(var Ar="",zs=0,Cr=0;Cr<Ht.length;Cr++){for(kt=Ht[Cr];kt>Xe[zs+1].offset;)zs++;var Lr=Xe[zs].offset,rn=(kt-Lr)/(Xe[zs+1].offset-Lr),Fi=Xe[zs].color,xo=Xe[zs+1].color;Ar+=he(Math.round((1-rn)*Fi[0]+rn*xo[0]).toString(16))+he(Math.round((1-rn)*Fi[1]+rn*xo[1]).toString(16))+he(Math.round((1-rn)*Fi[2]+rn*xo[2]).toString(16))}return Ar.trim()}(_.colors,U),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+U+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ls({data:xe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),ne("endobj"),_.objectNumber=Ft(),ne("<< /ShadingType "+_.type),ne("/ColorSpace /DeviceRGB");var We="/Coords ["+E(parseFloat(_.coords[0]))+" "+E(parseFloat(_.coords[1]))+" ";_.type===2?We+=E(parseFloat(_.coords[2]))+" "+E(parseFloat(_.coords[3])):We+=E(parseFloat(_.coords[2]))+" "+E(parseFloat(_.coords[3]))+" "+E(parseFloat(_.coords[4]))+" "+E(parseFloat(_.coords[5])),ne(We+="]"),_.matrix&&ne("/Matrix ["+_.matrix.toString()+"]"),ne("/Function "+de+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Ga=function(_,U){var de=_e(),xe=Ft();U.push({resourcesOid:de,objectOid:xe}),_.objectNumber=xe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+_.boundingBox.map(E).join(" ")+"]"}),Se.push({key:"XStep",value:E(_.xStep)}),Se.push({key:"YStep",value:E(_.yStep)}),Se.push({key:"Resources",value:de+" 0 R"}),_.matrix&&Se.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),ls({data:_.stream,additionalKeyValues:Se,objectId:_.objectNumber}),ne("endobj")},Ol=function(_){for(var U in _.objectNumber=Ft(),ne("<<"),_)switch(U){case"opacity":ne("/ca "+R(_[U]));break;case"stroke-opacity":ne("/CA "+R(_[U]))}ne(">>"),ne("endobj")},co=function(_){ht(_.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var U in ne("/Font <<"),ct)ct.hasOwnProperty(U)&&(b===!1||b===!0&&y.hasOwnProperty(U))&&ne("/"+U+" "+ct[U].objectNumber+" 0 R");ne(">>")}(),function(){if(Object.keys(At).length>0){for(var U in ne("/Shading <<"),At)At.hasOwnProperty(U)&&At[U]instanceof wd&&At[U].objectNumber>=0&&ne("/"+U+" "+At[U].objectNumber+" 0 R");ts.publish("putShadingPatternDict"),ne(">>")}}(),function(U){if(Object.keys(At).length>0){for(var de in ne("/Pattern <<"),At)At.hasOwnProperty(de)&&At[de]instanceof x.TilingPattern&&At[de].objectNumber>=0&&At[de].objectNumber<U&&ne("/"+de+" "+At[de].objectNumber+" 0 R");ts.publish("putTilingPatternDict"),ne(">>")}}(_.objectOid),function(){if(Object.keys(Dt).length>0){var U;for(U in ne("/ExtGState <<"),Dt)Dt.hasOwnProperty(U)&&Dt[U].objectNumber>=0&&ne("/"+U+" "+Dt[U].objectNumber+" 0 R");ts.publish("putGStateDict"),ne(">>")}}(),function(){for(var U in ne("/XObject <<"),Jt)Jt.hasOwnProperty(U)&&Jt[U].objectNumber>=0&&ne("/"+U+" "+Jt[U].objectNumber+" 0 R");ts.publish("putXobjectDict"),ne(">>")}(),ne(">>"),ne("endobj")},Dl=function(_){Mt[_.fontName]=Mt[_.fontName]||{},Mt[_.fontName][_.fontStyle]=_.id},Ei=function(_,U,de,xe,Se){var We={id:"F"+(Object.keys(ct).length+1).toString(10),postScriptName:_,fontName:U,fontStyle:de,encoding:xe,isStandardFont:Se||!1,metadata:{}};return ts.publish("addFont",{font:We,instance:this}),ct[We.id]=We,Dl(We),We.id},en=x.__private__.pdfEscape=x.pdfEscape=function(_,U){return function(de,xe){var Se,We,Xe,bt,kt,Ht,Qt,As,nr;if(Xe=(xe=xe||{}).sourceEncoding||"Unicode",kt=xe.outputEncoding,(xe.autoencode||kt)&&ct[rt].metadata&&ct[rt].metadata[Xe]&&ct[rt].metadata[Xe].encoding&&(bt=ct[rt].metadata[Xe].encoding,!kt&&ct[rt].encoding&&(kt=ct[rt].encoding),!kt&&bt.codePages&&(kt=bt.codePages[0]),typeof kt=="string"&&(kt=bt[kt]),kt)){for(Qt=!1,Ht=[],Se=0,We=de.length;Se<We;Se++)(As=kt[de.charCodeAt(Se)])?Ht.push(String.fromCharCode(As)):Ht.push(de[Se]),Ht[Se].charCodeAt(0)>>8&&(Qt=!0);de=Ht.join("")}for(Se=de.length;Qt===void 0&&Se!==0;)de.charCodeAt(Se-1)>>8&&(Qt=!0),Se--;if(!Qt)return de;for(Ht=xe.noBOM?[]:[254,255],Se=0,We=de.length;Se<We;Se++){if((nr=(As=de.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(nr),Ht.push(As-(nr<<8))}return String.fromCharCode.apply(void 0,Ht)}(_,U).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nn=x.__private__.beginPage=function(_){Be[++fs]=[],Ot[fs]={objId:0,contentsObjId:0,userUnit:Number(d),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},Sn(fs),je(Be[V])},Pi=function(_,U){var de,xe,Se;switch(t=U||t,typeof _=="string"&&(de=k(_.toLowerCase()),Array.isArray(de)&&(xe=de[0],Se=de[1])),Array.isArray(_)&&(xe=_[0]*Pt,Se=_[1]*Pt),isNaN(xe)&&(xe=a[0],Se=a[1]),(xe>14400||Se>14400)&&(sr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),xe=Math.min(14400,xe),Se=Math.min(14400,Se)),a=[xe,Se],t.substr(0,1)){case"l":Se>xe&&(a=[Se,xe]);break;case"p":xe>Se&&(a=[Se,xe])}Nn(a),Fc(Za),ne(Oi),Ea!==0&&ne(Ea+" J"),po!==0&&ne(po+" j"),ts.publish("addPage",{pageNumber:fs})},uo=function(_){_>0&&_<=fs&&(Be.splice(_,1),Ot.splice(_,1),fs--,V>fs&&(V=fs),this.setPage(V))},Sn=function(_){_>0&&_<=fs&&(V=_)},Ya=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Be.length-1},ho=function(_,U,de){var xe,Se=void 0;return de=de||{},_=_!==void 0?_:ct[rt].fontName,U=U!==void 0?U:ct[rt].fontStyle,xe=_.toLowerCase(),Mt[xe]!==void 0&&Mt[xe][U]!==void 0?Se=Mt[xe][U]:Mt[_]!==void 0&&Mt[_][U]!==void 0?Se=Mt[_][U]:de.disableWarning===!1&&sr.warn("Unable to look up font label for font '"+_+"', '"+U+"'. Refer to getFontList() for available fonts."),Se||de.noFallback||(Se=Mt.times[U])==null&&(Se=Mt.times.normal),Se},fo=x.__private__.putInfo=function(){var _=Ft(),U=function(xe){return xe};for(var de in m!==null&&(U=ws.encryptor(_,0)),ne("<<"),ne("/Producer ("+en(U("jsPDF "+Et.version))+")"),Qe)Qe.hasOwnProperty(de)&&Qe[de]&&ne("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+en(U(Qe[de]))+")");ne("/CreationDate ("+en(U(oe))+")"),ne(">>"),ne("endobj")},mo=x.__private__.putCatalog=function(_){var U=(_=_||{}).rootDictionaryObjId||It;switch(Ft(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+U+" 0 R"),et||(et="fullwidth"),et){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+et;de.substr(de.length-1)==="%"&&(et=parseInt(et)/100),typeof et=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+R(et)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}dt&&ne("/PageMode /"+dt),ts.publish("putCatalog"),ne(">>"),ne("endobj")},ks=x.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(fe+1)),ne("/Root "+fe+" 0 R"),ne("/Info "+(fe-1)+" 0 R"),m!==null&&ne("/Encrypt "+ws.oid+" 0 R"),ne("/ID [ <"+Z+"> <"+Z+"> ]"),ne(">>")},Ho=x.__private__.putHeader=function(){ne("%PDF-"+j),ne("%ºß¬à")},Wo=x.__private__.putXRef=function(){var _="0000000000";ne("xref"),ne("0 "+(fe+1)),ne("0000000000 65535 f ");for(var U=1;U<=fe;U++)typeof ve[U]=="function"?ne((_+ve[U]()).slice(-10)+" 00000 n "):ve[U]!==void 0?ne((_+ve[U]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},_n=x.__private__.buildDocument=function(){var _;fe=0,ue=0,Ce=[],ve=[],Le=[],It=_e(),Cs=_e(),je(Ce),ts.publish("buildDocument"),Ho(),Fs(),function(){ts.publish("putAdditionalObjects");for(var de=0;de<Le.length;de++){var xe=Le[de];ht(xe.objId,!0),ne(xe.content),ne("endobj")}ts.publish("postPutAdditionalObjects")}(),_=[],function(){for(var de in ct)ct.hasOwnProperty(de)&&(b===!1||b===!0&&y.hasOwnProperty(de))&&Qn(ct[de])}(),function(){var de;for(de in Dt)Dt.hasOwnProperty(de)&&Ol(Dt[de])}(),function(){for(var de in Jt)Jt.hasOwnProperty(de)&&br(Jt[de])}(),function(de){var xe;for(xe in At)At.hasOwnProperty(xe)&&(At[xe]instanceof wd?zn(At[xe]):At[xe]instanceof Au&&Ga(At[xe],de))}(_),ts.publish("putResources"),_.forEach(co),co({resourcesOid:Cs,objectOid:Number.MAX_SAFE_INTEGER}),ts.publish("postPutResources"),m!==null&&(ws.oid=Ft(),ne("<<"),ne("/Filter /Standard"),ne("/V "+ws.v),ne("/R "+ws.r),ne("/U <"+ws.toHexString(ws.U)+">"),ne("/O <"+ws.toHexString(ws.O)+">"),ne("/P "+ws.P),ne(">>"),ne("endobj")),fo(),mo();var U=ue;return Wo(),ks(),ne("startxref"),ne(""+U),ne("%%EOF"),je(Be[V]),Ce.join(`
`)},Ka=x.__private__.getBlob=function(_){return new Blob([st(_)],{type:"application/pdf"})},hn=x.output=x.__private__.output=(Ps=function(_,U){switch(typeof(U=U||{})=="string"?U={filename:U}:U.filename=U.filename||"generated.pdf",_){case void 0:return _n();case"save":x.save(U.filename);break;case"arraybuffer":return st(_n());case"blob":return Ka(_n());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(Ka(_n()))||void 0;sr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",xe=_n();try{de=u5(xe)}catch{de=u5(unescape(encodeURIComponent(xe)))}return"data:application/pdf;filename="+U.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';U.pdfObjectUrl&&(Se=U.pdfObjectUrl,We="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(U)+");<\/script></body></html>",bt=Kt.open();return bt!==null&&bt.document.write(Xe),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(U.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+U.filename+'" width="500px" height="400px" /></body></html>',Ht=Kt.open();if(Ht!==null){Ht.document.write(kt);var Qt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=U.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Qt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var As='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",U)+'"></iframe></body></html>',nr=Kt.open();if(nr!==null&&(nr.document.write(As),nr.document.title=U.filename),nr||typeof safari>"u")return nr;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",U);default:return null}},Ps.foo=function(){try{return Ps.apply(this,arguments)}catch(de){var _=de.stack||"";~_.indexOf(" at ")&&(_=_.split(" at ")[1]);var U="Error in function "+_.split(`
`)[0].split("<")[0]+": "+de.message;if(!Kt.console)throw new Error(U);Kt.console.error(U,de),Kt.alert&&alert(U)}},Ps.foo.bar=Ps,Ps.foo),Ti=function(_){return Array.isArray(Qr)===!0&&Qr.indexOf(_)>-1};switch(r){case"pt":Pt=1;break;case"mm":Pt=72/25.4;break;case"cm":Pt=72/2.54;break;case"in":Pt=72;break;case"px":Pt=Ti("px_scaling")==1?.75:96/72;break;case"pc":case"em":Pt=12;break;case"ex":Pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Pt=r}var ws=null;me(),ee();var Xa=x.__private__.getPageInfo=x.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ot[_].objId,pageNumber:_,pageContext:Ot[_]}},Mi=x.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var U in Ot)if(Ot[U].objId===_)break;return Xa(U)},Vo=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:Ot[V].objId,pageNumber:V,pageContext:Ot[V]}};x.addPage=function(){return Pi.apply(this,arguments),this},x.setPage=function(){return Sn.apply(this,arguments),je.call(this,Be[V]),this},x.insertPage=function(_){return this.addPage(),this.movePage(V,_),this},x.movePage=function(_,U){var de,xe;if(_>U){de=Be[_],xe=Ot[_];for(var Se=_;Se>U;Se--)Be[Se]=Be[Se-1],Ot[Se]=Ot[Se-1];Be[U]=de,Ot[U]=xe,this.setPage(U)}else if(_<U){de=Be[_],xe=Ot[_];for(var We=_;We<U;We++)Be[We]=Be[We+1],Ot[We]=Ot[We+1];Be[U]=de,Ot[U]=xe,this.setPage(U)}return this},x.deletePage=function(){return uo.apply(this,arguments),this},x.__private__.text=x.text=function(_,U,de,xe,Se){var We,Xe,bt,kt,Ht,Qt,As,nr,Ar,zs=(xe=xe||{}).scope||this;if(typeof _=="number"&&typeof U=="number"&&(typeof de=="string"||Array.isArray(de))){var Cr=de;de=U,U=_,_=Cr}if(arguments[3]instanceof Lt==0?(bt=arguments[4],kt=arguments[5],Ys(As=arguments[3])==="object"&&As!==null||(typeof bt=="string"&&(kt=bt,bt=null),typeof As=="string"&&(kt=As,As=null),typeof As=="number"&&(bt=As,As=null),xe={flags:As,angle:bt,align:kt})):(I("The transform parameter of text() with a Matrix value"),Ar=Se),isNaN(U)||isNaN(de)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return zs;var Lr,rn="",Fi=typeof xe.lineHeightFactor=="number"?xe.lineHeightFactor:fa,xo=zs.internal.scaleFactor;function Ku(Ts){return Ts=Ts.split("	").join(Array(xe.TabLen||9).join(" ")),en(Ts,As)}function Bd(Ts){for(var Us,Qs=Ts.concat(),ar=[],ui=Qs.length;ui--;)typeof(Us=Qs.shift())=="string"?ar.push(Us):Array.isArray(Ts)&&(Us.length===1||Us[1]===void 0&&Us[2]===void 0)?ar.push(Us[0]):ar.push([Us[0],Us[1],Us[2]]);return ar}function Xo(Ts,Us){var Qs;if(typeof Ts=="string")Qs=Us(Ts)[0];else if(Array.isArray(Ts)){for(var ar,ui,xa=Ts.concat(),Cn=[],Zo=xa.length;Zo--;)typeof(ar=xa.shift())=="string"?Cn.push(Us(ar)[0]):Array.isArray(ar)&&typeof ar[0]=="string"&&(ui=Us(ar[0],ar[1],ar[2]),Cn.push([ui[0],ui[1],ui[2]]));Qs=Cn}return Qs}var Ta=!1,Uc=!0;if(typeof _=="string")Ta=!0;else if(Array.isArray(_)){var yo=_.concat();Xe=[];for(var ma,Gr=yo.length;Gr--;)(typeof(ma=yo.shift())!="string"||Array.isArray(ma)&&typeof ma[0]!="string")&&(Uc=!1);Ta=Uc}if(Ta===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var ri=ze/zs.internal.scaleFactor,ni=ri*(Fi-1);switch(xe.baseline){case"bottom":de-=ni;break;case"top":de+=ri-ni;break;case"hanging":de+=ri-2*ni;break;case"middle":de+=ri/2-ni}if((Qt=xe.maxWidth||0)>0&&(typeof _=="string"?_=zs.splitTextToSize(_,Qt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Ts,Us){return Ts.concat(zs.splitTextToSize(Us,Qt))},[]))),We={text:_,x:U,y:de,options:xe,mutex:{pdfEscape:en,activeFontKey:rt,fonts:ct,activeFontSize:ze}},ts.publish("preProcessText",We),_=We.text,bt=(xe=We.options).angle,Ar instanceof Lt==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,xe.rotationDirection===0&&(bt=-bt),F===M&&(bt=-bt);var Jo=Math.cos(bt),Bl=Math.sin(bt);Ar=new Lt(Jo,Bl,-Bl,Jo,0,0)}else bt&&bt instanceof Lt&&(Ar=bt);F!==M||Ar||(Ar=ms),(Ht=xe.charSpace||Go)!==void 0&&(rn+=E(ie(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(nr=xe.horizontalScale)!==void 0&&(rn+=E(100*nr)+` Tz
`),xe.lang;var mn=-1,Bi=xe.renderingMode!==void 0?xe.renderingMode:xe.stroke,zl=zs.internal.getCurrentPageInfo().pageContext;switch(Bi){case 0:case!1:case"fill":mn=0;break;case 1:case!0:case"stroke":mn=1;break;case 2:case"fillThenStroke":mn=2;break;case 3:case"invisible":mn=3;break;case 4:case"fillAndAddForClipping":mn=4;break;case 5:case"strokeAndAddPathForClipping":mn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mn=6;break;case 7:case"addToPathForClipping":mn=7}var zd=zl.usedRenderingMode!==void 0?zl.usedRenderingMode:-1;mn!==-1?rn+=mn+` Tr
`:zd!==-1&&(rn+=`0 Tr
`),mn!==-1&&(zl.usedRenderingMode=mn),kt=xe.align||"left";var Rr,ra=ze*Fi,Ul=zs.internal.pageSize.getWidth(),zi=ct[rt];Ht=xe.charSpace||Go,Qt=xe.maxWidth||0,As=Object.assign({autoencode:!0,noBOM:!0},xe.flags);var pa=[],ql=function(Ts){return zs.getStringUnitWidth(Ts,{font:zi,charSpace:Ht,fontSize:ze,doKerning:!1})*ze/xo};if(Object.prototype.toString.call(_)==="[object Array]"){var nn;Xe=Bd(_),kt!=="left"&&(Rr=Xe.map(ql));var kn,bo=0;if(kt==="right"){U-=Rr[0],_=[],Gr=Xe.length;for(var ga=0;ga<Gr;ga++)ga===0?(kn=La(U),nn=ta(de)):(kn=ie(bo-Rr[ga]),nn=-ra),_.push([Xe[ga],kn,nn]),bo=Rr[ga]}else if(kt==="center"){U-=Rr[0]/2,_=[],Gr=Xe.length;for(var ai=0;ai<Gr;ai++)ai===0?(kn=La(U),nn=ta(de)):(kn=ie((bo-Rr[ai])/2),nn=-ra),_.push([Xe[ai],kn,nn]),bo=Rr[ai]}else if(kt==="left"){_=[],Gr=Xe.length;for(var Hl=0;Hl<Gr;Hl++)_.push(Xe[Hl])}else if(kt==="justify"&&zi.encoding==="Identity-H"){_=[],Gr=Xe.length,Qt=Qt!==0?Qt:Ul;for(var Ui=0,dr=0;dr<Gr;dr++)if(nn=dr===0?ta(de):-ra,kn=dr===0?La(U):Ui,dr<Gr-1){var Xu=ie((Qt-Rr[dr])/(Xe[dr].split(" ").length-1)),ii=Xe[dr].split(" ");_.push([ii[0]+" ",kn,nn]),Ui=0;for(var oi=1;oi<ii.length;oi++){var Wl=(ql(ii[oi-1]+" "+ii[oi])-ql(ii[oi]))*xo+Xu;oi==ii.length-1?_.push([ii[oi],Wl,0]):_.push([ii[oi]+" ",Wl,0]),Ui-=Wl}}else _.push([Xe[dr],kn,nn]);_.push(["",Ui,0])}else{if(kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Gr=Xe.length,Qt=Qt!==0?Qt:Ul,dr=0;dr<Gr;dr++)nn=dr===0?ta(de):-ra,kn=dr===0?La(U):0,dr<Gr-1?pa.push(E(ie((Qt-Rr[dr])/(Xe[dr].split(" ").length-1)))):pa.push(0),_.push([Xe[dr],kn,nn])}}(typeof xe.R2L=="boolean"?xe.R2L:Nt)===!0&&(_=Xo(_,function(Ts,Us,Qs){return[Ts.split("").reverse().join(""),Us,Qs]})),We={text:_,x:U,y:de,options:xe,mutex:{pdfEscape:en,activeFontKey:rt,fonts:ct,activeFontSize:ze}},ts.publish("postProcessText",We),_=We.text,Lr=We.mutex.isHex||!1;var qc=ct[rt].encoding;qc!=="WinAnsiEncoding"&&qc!=="StandardEncoding"||(_=Xo(_,function(Ts,Us,Qs){return[Ku(Ts),Us,Qs]})),Xe=Bd(_),_=[];for(var Yr,li,vo,wo=Array.isArray(Xe[0])?1:0,ci="",Vl=function(Ts,Us,Qs){var ar="";return Qs instanceof Lt?(Qs=typeof xe.angle=="number"?kr(Qs,new Lt(1,0,0,1,Ts,Us)):kr(new Lt(1,0,0,1,Ts,Us),Qs),F===M&&(Qs=kr(new Lt(1,0,0,-1,0,0),Qs)),ar=Qs.join(" ")+` Tm
`):ar=E(Ts)+" "+E(Us)+` Td
`,ar},An=0;An<Xe.length;An++){switch(ci="",wo){case 1:vo=(Lr?"<":"(")+Xe[An][0]+(Lr?">":")"),Yr=parseFloat(Xe[An][1]),li=parseFloat(Xe[An][2]);break;case 0:vo=(Lr?"<":"(")+Xe[An]+(Lr?">":")"),Yr=La(U),li=ta(de)}pa!==void 0&&pa[An]!==void 0&&(ci=pa[An]+` Tw
`),An===0?_.push(ci+Vl(Yr,li,Ar)+vo):wo===0?_.push(ci+vo):wo===1&&_.push(ci+Vl(Yr,li,Ar)+vo)}_=wo===0?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var di=`BT
/`;return di+=rt+" "+ze+` Tf
`,di+=E(ze*Fi)+` TL
`,di+=ei+`
`,di+=rn,di+=_,ne(di+="ET"),y[rt]=!0,zs};var W=x.__private__.clip=x.clip=function(_){return ne(_==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return W("evenodd")},x.__private__.discardPath=x.discardPath=function(){return ne("n"),this};var Oe=x.__private__.isValidStyle=function(_){var U=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(U=!0),U};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(_){return Oe(_)&&(f=_),this};var tt=x.__private__.getStyle=x.getStyle=function(_){var U=f;switch(_){case"D":case"S":U="S";break;case"F":U="f";break;case"FD":case"DF":U="B";break;case"f":case"f*":case"B":case"B*":U=_}return U},pt=x.close=function(){return ne("h"),this};x.stroke=function(){return ne("S"),this},x.fill=function(_){return Ct("f",_),this},x.fillEvenOdd=function(_){return Ct("f*",_),this},x.fillStroke=function(_){return Ct("B",_),this},x.fillStrokeEvenOdd=function(_){return Ct("B*",_),this};var Ct=function(_,U){Ys(U)==="object"?Un(U,_):ne(_)},cs=function(_){_===null||F===M&&_===void 0||(_=tt(_),ne(_))};function tn(_,U,de,xe,Se){var We=new Au(U||this.boundingBox,de||this.xStep,xe||this.yStep,this.gState,Se||this.matrix);We.stream=this.stream;var Xe=_+"$$"+this.cloneIndex+++"$$";return as(Xe,We),We}var Un=function(_,U){var de=ns[_.key],xe=At[de];if(xe instanceof wd)ne("q"),ne(sn(U)),xe.gState&&x.setGState(xe.gState),ne(_.matrix.toString()+" cm"),ne("/"+de+" sh"),ne("Q");else if(xe instanceof Au){var Se=new Lt(1,0,0,-1,0,sa());_.matrix&&(Se=Se.multiply(_.matrix||ms),de=tn.call(xe,_.key,_.boundingBox,_.xStep,_.yStep,Se).id),ne("q"),ne("/Pattern cs"),ne("/"+de+" scn"),xe.gState&&x.setGState(xe.gState),ne(U),ne("Q")}},sn=function(_){switch(_){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ri=x.moveTo=function(_,U){return ne(E(ie(_))+" "+E(K(U))+" m"),this},ea=x.lineTo=function(_,U){return ne(E(ie(_))+" "+E(K(U))+" l"),this},Ja=x.curveTo=function(_,U,de,xe,Se,We){return ne([E(ie(_)),E(K(U)),E(ie(de)),E(K(xe)),E(ie(Se)),E(K(We)),"c"].join(" ")),this};x.__private__.line=x.line=function(_,U,de,xe,Se){if(isNaN(_)||isNaN(U)||isNaN(de)||isNaN(xe)||!Oe(Se))throw new Error("Invalid arguments passed to jsPDF.line");return F===P?this.lines([[de-_,xe-U]],_,U,[1,1],Se||"S"):this.lines([[de-_,xe-U]],_,U,[1,1]).stroke()},x.__private__.lines=x.lines=function(_,U,de,xe,Se,We){var Xe,bt,kt,Ht,Qt,As,nr,Ar,zs,Cr,Lr,rn;if(typeof _=="number"&&(rn=de,de=U,U=_,_=rn),xe=xe||[1,1],We=We||!1,isNaN(U)||isNaN(de)||!Array.isArray(_)||!Array.isArray(xe)||!Oe(Se)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ri(U,de),Xe=xe[0],bt=xe[1],Ht=_.length,Cr=U,Lr=de,kt=0;kt<Ht;kt++)(Qt=_[kt]).length===2?(Cr=Qt[0]*Xe+Cr,Lr=Qt[1]*bt+Lr,ea(Cr,Lr)):(As=Qt[0]*Xe+Cr,nr=Qt[1]*bt+Lr,Ar=Qt[2]*Xe+Cr,zs=Qt[3]*bt+Lr,Cr=Qt[4]*Xe+Cr,Lr=Qt[5]*bt+Lr,Ja(As,nr,Ar,zs,Cr,Lr));return We&&pt(),cs(Se),this},x.path=function(_){for(var U=0;U<_.length;U++){var de=_[U],xe=de.c;switch(de.op){case"m":Ri(xe[0],xe[1]);break;case"l":ea(xe[0],xe[1]);break;case"c":Ja.apply(this,xe);break;case"h":pt()}}return this},x.__private__.rect=x.rect=function(_,U,de,xe,Se){if(isNaN(_)||isNaN(U)||isNaN(de)||isNaN(xe)||!Oe(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return F===P&&(xe=-xe),ne([E(ie(_)),E(K(U)),E(ie(de)),E(ie(xe)),"re"].join(" ")),cs(Se),this},x.__private__.triangle=x.triangle=function(_,U,de,xe,Se,We,Xe){if(isNaN(_)||isNaN(U)||isNaN(de)||isNaN(xe)||isNaN(Se)||isNaN(We)||!Oe(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-_,xe-U],[Se-de,We-xe],[_-Se,U-We]],_,U,[1,1],Xe,!0),this},x.__private__.roundedRect=x.roundedRect=function(_,U,de,xe,Se,We,Xe){if(isNaN(_)||isNaN(U)||isNaN(de)||isNaN(xe)||isNaN(Se)||isNaN(We)||!Oe(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*de),We=Math.min(We,.5*xe),this.lines([[de-2*Se,0],[Se*bt,0,Se,We-We*bt,Se,We],[0,xe-2*We],[0,We*bt,-Se*bt,We,-Se,We],[2*Se-de,0],[-Se*bt,0,-Se,-We*bt,-Se,-We],[0,2*We-xe],[0,-We*bt,Se*bt,-We,Se,-We]],_+Se,U,[1,1],Xe,!0),this},x.__private__.ellipse=x.ellipse=function(_,U,de,xe,Se){if(isNaN(_)||isNaN(U)||isNaN(de)||isNaN(xe)||!Oe(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*de,Xe=4/3*(Math.SQRT2-1)*xe;return Ri(_+de,U),Ja(_+de,U-Xe,_+We,U-xe,_,U-xe),Ja(_-We,U-xe,_-de,U-Xe,_-de,U),Ja(_-de,U+Xe,_-We,U+xe,_,U+xe),Ja(_+We,U+xe,_+de,U+Xe,_+de,U),cs(Se),this},x.__private__.circle=x.circle=function(_,U,de,xe){if(isNaN(_)||isNaN(U)||isNaN(de)||!Oe(xe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,U,de,de,xe)},x.setFont=function(_,U,de){return de&&(U=Y(U,de)),rt=ho(_,U,{disableWarning:!1}),this};var Ic=x.__private__.getFont=x.getFont=function(){return ct[ho.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var _,U,de={};for(_ in Mt)if(Mt.hasOwnProperty(_))for(U in de[_]=[],Mt[_])Mt[_].hasOwnProperty(U)&&de[_].push(U);return de},x.addFont=function(_,U,de,xe,Se){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(de=Y(de,xe)),Ei.call(this,_,U,de,Se=Se||"Identity-H")};var fa,Za=s.lineWidth||.200025,Wt=x.__private__.getLineWidth=x.getLineWidth=function(){return Za},Fc=x.__private__.setLineWidth=x.setLineWidth=function(_){return Za=_,ne(E(ie(_))+" w"),this};x.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(_,U){if(_=_||[],U=U||0,isNaN(U)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(de){return E(ie(de))}).join(" "),U=E(ie(U)),ne("["+_+"] "+U+" d"),this};var Fd=x.__private__.getLineHeight=x.getLineHeight=function(){return ze*fa};x.__private__.getLineHeight=x.getLineHeight=function(){return ze*fa};var $o=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(fa=_),this},Ca=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return fa};$o(s.lineHeight);var La=x.__private__.getHorizontalCoordinate=function(_){return ie(_)},ta=x.__private__.getVerticalCoordinate=function(_){return F===M?_:Ot[V].mediaBox.topRightY-Ot[V].mediaBox.bottomLeftY-ie(_)},Qa=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(_){return E(La(_))},Bc=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(_){return E(ta(_))},Oi=s.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return os(Oi)},x.__private__.setStrokeColor=x.setDrawColor=function(_,U,de,xe){return Oi=Zt({ch1:_,ch2:U,ch3:de,ch4:xe,pdfColorType:"draw",precision:2}),ne(Oi),this};var Il=s.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return os(Il)},x.__private__.setFillColor=x.setFillColor=function(_,U,de,xe){return Il=Zt({ch1:_,ch2:U,ch3:de,ch4:xe,pdfColorType:"fill",precision:2}),ne(Il),this};var ei=s.textColor||"0 g",Di=x.__private__.getTextColor=x.getTextColor=function(){return os(ei)};x.__private__.setTextColor=x.setTextColor=function(_,U,de,xe){return ei=Zt({ch1:_,ch2:U,ch3:de,ch4:xe,pdfColorType:"text",precision:3}),this};var Go=s.charSpace,fn=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(Go||0)};x.__private__.setCharSpace=x.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Go=_,this};var Ea=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(_){var U=x.CapJoinStyles[_];if(U===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=U,ne(U+" J"),this};var po=0;x.__private__.setLineJoin=x.setLineJoin=function(_){var U=x.CapJoinStyles[_];if(U===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return po=U,ne(U+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(E(ie(_))+" M"),this},x.GState=G0,x.setGState=function(_){(_=typeof _=="string"?Dt[Is[_]]:Pa(null,_)).equals(Os)||(ne("/"+_.id+" gs"),Os=_)};var Pa=function(_,U){if(!_||!Is[_]){var de=!1;for(var xe in Dt)if(Dt.hasOwnProperty(xe)&&Dt[xe].equals(U)){de=!0;break}if(de)U=Dt[xe];else{var Se="GS"+(Object.keys(Dt).length+1).toString(10);Dt[Se]=U,U.id=Se}return _&&(Is[_]=U.id),ts.publish("addGState",U),U}};x.addGState=function(_,U){return Pa(_,U),this},x.saveGraphicsState=function(){return ne("q"),bs.push({key:rt,size:ze,color:ei}),this},x.restoreGraphicsState=function(){ne("Q");var _=bs.pop();return rt=_.key,ze=_.size,ei=_.color,Os=null,this},x.setCurrentTransformationMatrix=function(_){return ne(_.toString()+" cm"),this},x.comment=function(_){return ne("#"+_),this};var Yo=function(_,U){var de=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(We){isNaN(We)||(de=parseFloat(We))}});var xe=U||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return xe},set:function(We){isNaN(We)||(xe=parseFloat(We))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(We){Se=We.toString()}}),this},Ko=function(_,U,de,xe){Yo.call(this,_,U),this.type="rect";var Se=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Xe){isNaN(Xe)||(Se=parseFloat(Xe))}});var We=xe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(Xe){isNaN(Xe)||(We=parseFloat(Xe))}}),this},go=function(){this.page=fs,this.currentPage=V,this.pages=Be.slice(0),this.pagesContext=Ot.slice(0),this.x=xt,this.y=Ge,this.matrix=at,this.width=Fl(V),this.height=sa(V),this.outputDestination=Fe,this.id="",this.objectNumber=-1};go.prototype.restore=function(){fs=this.page,V=this.currentPage,Ot=this.pagesContext,Be=this.pages,xt=this.x,Ge=this.y,at=this.matrix,zc(V,this.width),si(V,this.height),Fe=this.outputDestination};var Ii=function(_,U,de,xe,Se){jn.push(new go),fs=V=0,Be=[],xt=_,Ge=U,at=Se,Nn([de,xe])};for(var ti in x.beginFormObject=function(_,U,de,xe,Se){return Ii(_,U,de,xe,Se),this},x.endFormObject=function(_){return function(U){if($r[U])jn.pop().restore();else{var de=new go,xe="Xo"+(Object.keys(Jt).length+1).toString(10);de.id=xe,$r[U]=xe,Jt[xe]=de,ts.publish("addFormObject",de),jn.pop().restore()}}(_),this},x.doFormObject=function(_,U){var de=Jt[$r[_]];return ne("q"),ne(U.toString()+" cm"),ne("/"+de.id+" Do"),ne("Q"),this},x.getFormObject=function(_){var U=Jt[$r[_]];return{x:U.x,y:U.y,width:U.width,height:U.height,matrix:U.matrix}},x.save=function(_,U){return _=_||"generated.pdf",(U=U||{}).returnPromise=U.returnPromise||!1,U.returnPromise===!1?(gd(Ka(_n()),_),typeof gd.unload=="function"&&Kt.setTimeout&&setTimeout(gd.unload,911),this):new Promise(function(de,xe){try{var Se=gd(Ka(_n()),_);typeof gd.unload=="function"&&Kt.setTimeout&&setTimeout(gd.unload,911),de(Se)}catch(We){xe(We.message)}})},Et.API)Et.API.hasOwnProperty(ti)&&(ti==="events"&&Et.API.events.length?function(_,U){var de,xe,Se;for(Se=U.length-1;Se!==-1;Se--)de=U[Se][0],xe=U[Se][1],_.subscribe.apply(_,[de].concat(typeof xe=="function"?[xe]:xe))}(ts,Et.API.events):x[ti]=Et.API[ti]);var Fl=x.getPageWidth=function(_){return(Ot[_=_||V].mediaBox.topRightX-Ot[_].mediaBox.bottomLeftX)/Pt},zc=x.setPageWidth=function(_,U){Ot[_].mediaBox.topRightX=U*Pt+Ot[_].mediaBox.bottomLeftX},sa=x.getPageHeight=function(_){return(Ot[_=_||V].mediaBox.topRightY-Ot[_].mediaBox.bottomLeftY)/Pt},si=x.setPageHeight=function(_,U){Ot[_].mediaBox.topRightY=U*Pt+Ot[_].mediaBox.bottomLeftY};return x.internal={pdfEscape:en,getStyle:tt,getFont:Ic,getFontSize:qe,getCharSpace:fn,getTextColor:Di,getLineHeight:Fd,getLineHeightFactor:Ca,getLineWidth:Wt,write:lt,getHorizontalCoordinate:La,getVerticalCoordinate:ta,getCoordinateString:Qa,getVerticalCoordinateString:Bc,collections:{},newObject:Ft,newAdditionalObject:ss,newObjectDeferred:_e,newObjectDeferredBegin:ht,getFilters:vs,putStream:ls,events:ts,scaleFactor:Pt,pageSize:{getWidth:function(){return Fl(V)},setWidth:function(_){zc(V,_)},getHeight:function(){return sa(V)},setHeight:function(_){si(V,_)}},encryptionOptions:m,encryption:ws,getEncryptor:function(_){return m!==null?ws.encryptor(_,0):function(U){return U}},output:hn,getNumberOfPages:Ya,pages:Be,out:ne,f2:R,f3:q,getPageInfo:Xa,getPageInfoByObjId:Mi,getCurrentPageInfo:Vo,getPDFVersion:S,Point:Yo,Rectangle:Ko,Matrix:Lt,hasHotfix:Ti},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return Fl(V)},set:function(_){zc(V,_)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return sa(V)},set:function(_){si(V,_)},enumerable:!0,configurable:!0}),(function(_){for(var U=0,de=it.length;U<de;U++){var xe=Ei.call(this,_[U][0],_[U][1],_[U][2],it[U][3],!0);b===!1&&(y[xe]=!0);var Se=_[U][0].split("-");Dl({id:xe,fontName:Se[0],fontStyle:Se[1]||""})}ts.publish("addFonts",{fonts:ct,dictionary:Mt})}).call(x,it),rt="F1",Pi(a,t),ts.publish("initialized"),x}_u.prototype.lsbFirstWord=function(s){return String.fromCharCode(255&s,s>>8&255,s>>16&255,s>>24&255)},_u.prototype.toHexString=function(s){return s.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_u.prototype.hexToBytes=function(s){for(var e=[],t=0;t<s.length;t+=2)e.push(String.fromCharCode(parseInt(s.substr(t,2),16)));return e.join("")},_u.prototype.processOwnerPassword=function(s,e){return b1(y1(e).substr(0,5),s)},_u.prototype.encryptor=function(s,e){var t=y1(this.encryptionKey+String.fromCharCode(255&s,s>>8&255,s>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return b1(t,r)}},G0.prototype.equals=function(s){var e,t="id,objectNumber,equals";if(!s||Ys(s)!==Ys(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!s.hasOwnProperty(e)||this[e]!==s[e])return!1;r++}for(e in s)s.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Et.API={events:[]},Et.version="3.0.2";var Tr=Et.API,ry=1,Dd=function(s){return s.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bu=function(s){return s.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},es=function(s){return s.toFixed(2)},yc=function(s){return s.toFixed(5)};Tr.__acroform__={};var Aa=function(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s},p5=function(s){return s*ry},Mo=function(s){var e=new m4,t=jt.internal.getHeight(s)||0,r=jt.internal.getWidth(s)||0;return e.BBox=[0,0,Number(es(r)),Number(es(t))],e},jL=Tr.__acroform__.setBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return s|1<<e},NL=Tr.__acroform__.clearBit=function(s,e){if(s=s||0,e=e||0,isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return s&~(1<<e)},SL=Tr.__acroform__.getBit=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return s&1<<e?1:0},qr=Tr.__acroform__.getBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return SL(s,e-1)},Hr=Tr.__acroform__.setBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jL(s,e-1)},Wr=Tr.__acroform__.clearBitForPdf=function(s,e){if(isNaN(s)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return NL(s,e-1)},_L=Tr.__acroform__.calculateCoordinates=function(s,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=s[0],i=s[1],c=s[2],d=s[3],u={};return u.lowerLeft_X=t(a)||0,u.lowerLeft_Y=r(i+d)||0,u.upperRight_X=t(a+c)||0,u.upperRight_Y=r(i)||0,[Number(es(u.lowerLeft_X)),Number(es(u.lowerLeft_Y)),Number(es(u.upperRight_X)),Number(es(u.upperRight_Y))]},kL=function(s){if(s.appearanceStreamContent)return s.appearanceStreamContent;if(s.V||s.DV){var e=[],t=s._V||s.DV,r=v1(s,t),a=s.scope.internal.getFont(s.fontName,s.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(s.scope.__private__.encodeColorString(s.color)),e.push("/"+a+" "+es(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Mo(s);return i.scope=s.scope,i.stream=e.join(`
`),i}},v1=function(s,e){var t=s.fontSize===0?s.maxFontSize:s.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=s.multiline?a.map(function(R){return R.split(`
`)}):a.map(function(R){return[R]});var i=t,c=jt.internal.getHeight(s)||0;c=c<0?-c:c;var d=jt.internal.getWidth(s)||0;d=d<0?-d:d;var u=function(R,q,ie){if(R+1<a.length){var K=q+" "+a[R+1][0];return i0(K,s,ie).width<=d-4}return!1};i++;e:for(;i>0;){e="",i--;var f,m,b=i0("3",s,i).height,y=s.multiline?c-i:(c-b)/2,x=y+=2,j=0,S=0,A=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+i0(e,s,i=12).width+", FieldWidth:"+d+`
`;break}for(var k="",P=0,M=0;M<a.length;M++)if(a.hasOwnProperty(M)){var F=!1;if(a[M].length!==1&&A!==a[M].length-1){if((b+2)*(P+2)+2>c)continue e;k+=a[M][A],F=!0,S=M,M--}else{k=(k+=a[M][A]+" ").substr(k.length-1)==" "?k.substr(0,k.length-1):k;var B=parseInt(M),ae=u(B,k,i),Y=M>=a.length-1;if(ae&&!Y){k+=" ",A=0;continue}if(ae||Y){if(Y)S=B;else if(s.multiline&&(b+2)*(P+2)+2>c)continue e}else{if(!s.multiline||(b+2)*(P+2)+2>c)continue e;S=B}}for(var E="",I=j;I<=S;I++){var $=a[I];if(s.multiline){if(I===S){E+=$[A]+" ",A=(A+1)%$.length;continue}if(I===j){E+=$[$.length-1]+" ";continue}}E+=$[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,m=i0(E,s,i).width,s.textAlign){case"right":f=d-m-2;break;case"center":f=(d-m)/2;break;default:f=2}e+=es(f)+" "+es(x)+` Td
`,e+="("+Dd(E)+`) Tj
`,e+=-es(f)+` 0 Td
`,x=-(i+2),m=0,j=F?S:S+1,P++,k=""}break}return r.text=e,r.fontSize=i,r},i0=function(s,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(s,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},AL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CL=function(s,e){var t={type:"reference",object:s};e.internal.getPageInfo(s.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(s.page).pageContext.annotations.push(t)},LL=function(s,e){if(e.scope=s,s.internal!==void 0&&(s.internal.acroformPlugin===void 0||s.internal.acroformPlugin.isInitialized===!1)){if(oo.FieldNum=0,s.internal.acroformPlugin=JSON.parse(JSON.stringify(AL)),s.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ry=s.internal.scaleFactor,s.internal.acroformPlugin.acroFormDictionaryRoot=new p4,s.internal.acroformPlugin.acroFormDictionaryRoot.scope=s,s.internal.acroformPlugin.acroFormDictionaryRoot._eventID=s.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(s)}),s.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&CL(i,t)}})(s)}),s.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(s)}),s.internal.events.subscribe("postPutPages",function(t){(function(r,a){var i=!r;for(var c in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(c)){var d=r[c],u=[],f=d.Rect;if(d.Rect&&(d.Rect=_L(d.Rect,a)),a.internal.newObjectDeferredBegin(d.objId,!0),d.DA=jt.createDefaultAppearanceStream(d),Ys(d)==="object"&&typeof d.getKeyValueListForStream=="function"&&(u=d.getKeyValueListForStream()),d.Rect=f,d.hasAppearanceStream&&!d.appearanceStreamContent){var m=kL(d);u.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(d.appearanceStreamContent){var b="";for(var y in d.appearanceStreamContent)if(d.appearanceStreamContent.hasOwnProperty(y)){var x=d.appearanceStreamContent[y];if(b+="/"+y+" ",b+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var c in x)if(x.hasOwnProperty(c)){var j=x[c];typeof j=="function"&&(j=j.call(a,d)),b+="/"+c+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=x)=="function"&&(j=j.call(a,d)),b+="/"+c+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);b+=">>"}u.push({key:"AP",value:`<<
`+b+">>"})}a.internal.putStream({additionalKeyValues:u,objectId:d.objId}),a.internal.out("endobj")}i&&function(S,A){for(var k in S)if(S.hasOwnProperty(k)){var P=k,M=S[k];A.internal.newObjectDeferredBegin(M.objId,!0),Ys(M)==="object"&&typeof M.putStream=="function"&&M.putStream(),delete S[P]}}(a.internal.acroformPlugin.xForms,a)})(t,s)}),s.internal.acroformPlugin.isInitialized=!0}},f4=Tr.__acroform__.arrayToPdfArray=function(s,e,t){var r=function(c){return c};if(Array.isArray(s)){for(var a="[",i=0;i<s.length;i++)switch(i!==0&&(a+=" "),Ys(s[i])){case"boolean":case"number":case"object":a+=s[i].toString();break;case"string":s[i].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+Dd(r(s[i].toString()))+")"):a+=s[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},wx=function(s,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(s=s||"").toString(),"("+Dd(r(s))+")"},Io=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(s){this._objId=s}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Io.prototype.toString=function(){return this.objId+" 0 R"},Io.prototype.putStream=function(){var s=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:s,objectId:this.objId}),this.scope.internal.out("endobj")},Io.prototype.getKeyValueListForStream=function(){var s=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?s.push({key:r,value:f4(a,this.objId,this.scope)}):a instanceof Io?(a.scope=this.scope,s.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&s.push({key:r,value:a}))}return s};var m4=function(){Io.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var s,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){s=t.trim()},get:function(){return s||null}})};Aa(m4,Io);var p4=function(){Io.call(this);var s,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(s){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Dd(t(s))+")"}},set:function(t){s=t}})};Aa(p4,Io);var oo=function s(){Io.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute F supplied.');e=k}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qr(e,3)},set:function(k){k?this.F=Hr(e,3):this.F=Wr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(k){if(isNaN(k))throw new Error('Invalid value "'+k+'" for attribute Ff supplied.');t=k}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(k){r=k!==void 0?k:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(k){r[0]=k}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(k){r[1]=k}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(k){r[2]=k}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(k){r[3]=k}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(k){switch(k){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=k;break;default:throw new Error('Invalid value "'+k+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Y0)return;i="FieldObject"+s.FieldNum++}var k=function(P){return P};return this.scope&&(k=this.scope.internal.getEncryptor(this.objId)),"("+Dd(k(i))+")"},set:function(k){i=k.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(k){i=k}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(k){c=k}});var d="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return d},set:function(k){d=k}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(k){u=k}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/ry:f},set:function(k){f=k}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(k){m=k}});var b="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!b||this instanceof Y0||this instanceof kd))return wx(b,this.objId,this.scope)},set:function(k){k=k.toString(),b=k}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof vn==0?wx(y,this.objId,this.scope):y},set:function(k){k=k.toString(),y=this instanceof vn==0?k.substr(0,1)==="("?bu(k.substr(1,k.length-2)):bu(k):k}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vn==1?bu(y.substr(1,y.length-1)):y},set:function(k){k=k.toString(),y=this instanceof vn==1?"/"+k:k}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(k){this.V=k}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof vn==0?wx(x,this.objId,this.scope):x},set:function(k){k=k.toString(),x=this instanceof vn==0?k.substr(0,1)==="("?bu(k.substr(1,k.length-2)):bu(k):k}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vn==1?bu(x.substr(1,x.length-1)):x},set:function(k){k=k.toString(),x=this instanceof vn==1?"/"+k:k}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(k){k=!!k,S=k}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(k){j=k}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,1)},set:function(k){k?this.Ff=Hr(this.Ff,1):this.Ff=Wr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,2)},set:function(k){k?this.Ff=Hr(this.Ff,2):this.Ff=Wr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,3)},set:function(k){k?this.Ff=Hr(this.Ff,3):this.Ff=Wr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(k){if([0,1,2].indexOf(k)===-1)throw new Error('Invalid value "'+k+'" for attribute Q supplied.');A=k}}),Object.defineProperty(this,"textAlign",{get:function(){var k;switch(A){case 0:default:k="left";break;case 1:k="center";break;case 2:k="right"}return k},configurable:!0,enumerable:!0,set:function(k){switch(k){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Aa(oo,Io);var Cu=function(){oo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var s=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return f4(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=function(i,c,d){d||(d=1);for(var u,f=[];u=c.exec(i);)f.push(u[d]);return f}(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,18)},set:function(t){t?this.Ff=Hr(this.Ff,18):this.Ff=Wr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Hr(this.Ff,19):this.Ff=Wr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,20)},set:function(t){t?(this.Ff=Hr(this.Ff,20),e.sort()):this.Ff=Wr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,22)},set:function(t){t?this.Ff=Hr(this.Ff,22):this.Ff=Wr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(t){t?this.Ff=Hr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,27)},set:function(t){t?this.Ff=Hr(this.Ff,27):this.Ff=Wr(this.Ff,27)}}),this.hasAppearanceStream=!1};Aa(Cu,oo);var Lu=function(){Cu.call(this),this.fontName="helvetica",this.combo=!1};Aa(Lu,Cu);var Eu=function(){Lu.call(this),this.combo=!0};Aa(Eu,Lu);var T0=function(){Eu.call(this),this.edit=!0};Aa(T0,Eu);var vn=function(){oo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,15)},set:function(t){t?this.Ff=Hr(this.Ff,15):this.Ff=Wr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,16)},set:function(t){t?this.Ff=Hr(this.Ff,16):this.Ff=Wr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,17)},set:function(t){t?this.Ff=Hr(this.Ff,17):this.Ff=Wr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(t){t?this.Ff=Hr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var s,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(i){return i};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+Dd(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Ys(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return s},set:function(t){s=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return s.substr(1,s.length-1)},set:function(t){s="/"+t}})};Aa(vn,oo);var M0=function(){vn.call(this),this.pushButton=!0};Aa(M0,vn);var Pu=function(){vn.call(this),this.radio=!0,this.pushButton=!1;var s=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e!==void 0?e:[]}})};Aa(Pu,vn);var Y0=function(){var s,e;oo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(d){return d};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),r)c.push("/"+i+" ("+Dd(a(r[i]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Ys(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=jt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Aa(Y0,oo),Pu.prototype.setAppearance=function(s){if(!("createAppearanceStream"in s)||!("getCA"in s))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=s.createAppearanceStream(t.optionName),t.caption=s.getCA()}},Pu.prototype.createOption=function(s){var e=new Y0;return e.Parent=this,e.optionName=s,this.Kids.push(e),EL.call(this.scope,e),e};var R0=function(){vn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=jt.CheckBox.createAppearanceStream()};Aa(R0,vn);var kd=function(){oo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,13)},set:function(e){e?this.Ff=Hr(this.Ff,13):this.Ff=Wr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,21)},set:function(e){e?this.Ff=Hr(this.Ff,21):this.Ff=Wr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,23)},set:function(e){e?this.Ff=Hr(this.Ff,23):this.Ff=Wr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,24)},set:function(e){e?this.Ff=Hr(this.Ff,24):this.Ff=Wr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,25)},set:function(e){e?this.Ff=Hr(this.Ff,25):this.Ff=Wr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,26)},set:function(e){e?this.Ff=Hr(this.Ff,26):this.Ff=Wr(this.Ff,26)}});var s=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){Number.isInteger(e)&&(s=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Aa(kd,oo);var O0=function(){kd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qr(this.Ff,14)},set:function(s){s?this.Ff=Hr(this.Ff,14):this.Ff=Wr(this.Ff,14)}}),this.password=!0};Aa(O0,kd);var jt={CheckBox:{createAppearanceStream:function(){return{N:{On:jt.CheckBox.YesNormal},D:{On:jt.CheckBox.YesPushDown,Off:jt.CheckBox.OffPushDown}}},YesPushDown:function(s){var e=Mo(s);e.scope=s.scope;var t=[],r=s.scope.internal.getFont(s.fontName,s.fontStyle).id,a=s.scope.__private__.encodeColorString(s.color),i=v1(s,s.caption);return t.push("0.749023 g"),t.push("0 0 "+es(jt.internal.getWidth(s))+" "+es(jt.internal.getHeight(s))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+es(i.fontSize)+" Tf "+a),t.push("BT"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(s){var e=Mo(s);e.scope=s.scope;var t=s.scope.internal.getFont(s.fontName,s.fontStyle).id,r=s.scope.__private__.encodeColorString(s.color),a=[],i=jt.internal.getHeight(s),c=jt.internal.getWidth(s),d=v1(s,s.caption);return a.push("1 g"),a.push("0 0 "+es(c)+" "+es(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+es(c-1)+" "+es(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+es(d.fontSize)+" Tf "+r),a.push(d.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(s){var e=Mo(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+es(jt.internal.getWidth(s))+" "+es(jt.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(s){var e={D:{Off:jt.RadioButton.Circle.OffPushDown},N:{}};return e.N[s]=jt.RadioButton.Circle.YesNormal,e.D[s]=jt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(s){var e=Mo(s);e.scope=s.scope;var t=[],r=jt.internal.getWidth(s)<=jt.internal.getHeight(s)?jt.internal.getWidth(s)/4:jt.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var a=jt.internal.Bezier_C,i=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+yc(jt.internal.getWidth(s)/2)+" "+yc(jt.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),t.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),t.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),t.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=Mo(s);e.scope=s.scope;var t=[],r=jt.internal.getWidth(s)<=jt.internal.getHeight(s)?jt.internal.getWidth(s)/4:jt.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*jt.internal.Bezier_C).toFixed(5)),c=Number((r*jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yc(jt.internal.getWidth(s)/2)+" "+yc(jt.internal.getHeight(s)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+yc(jt.internal.getWidth(s)/2)+" "+yc(jt.internal.getHeight(s)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+c+" "+c+" "+r+" 0 "+r+" c"),t.push("-"+c+" "+r+" -"+r+" "+c+" -"+r+" 0 c"),t.push("-"+r+" -"+c+" -"+c+" -"+r+" 0 -"+r+" c"),t.push(c+" -"+r+" "+r+" -"+c+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(s){var e=Mo(s);e.scope=s.scope;var t=[],r=jt.internal.getWidth(s)<=jt.internal.getHeight(s)?jt.internal.getWidth(s)/4:jt.internal.getHeight(s)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*jt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+yc(jt.internal.getWidth(s)/2)+" "+yc(jt.internal.getHeight(s)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),t.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),t.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),t.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(s){var e={D:{Off:jt.RadioButton.Cross.OffPushDown},N:{}};return e.N[s]=jt.RadioButton.Cross.YesNormal,e.D[s]=jt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(s){var e=Mo(s);e.scope=s.scope;var t=[],r=jt.internal.calculateCross(s);return t.push("q"),t.push("1 1 "+es(jt.internal.getWidth(s)-2)+" "+es(jt.internal.getHeight(s)-2)+" re"),t.push("W"),t.push("n"),t.push(es(r.x1.x)+" "+es(r.x1.y)+" m"),t.push(es(r.x2.x)+" "+es(r.x2.y)+" l"),t.push(es(r.x4.x)+" "+es(r.x4.y)+" m"),t.push(es(r.x3.x)+" "+es(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(s){var e=Mo(s);e.scope=s.scope;var t=jt.internal.calculateCross(s),r=[];return r.push("0.749023 g"),r.push("0 0 "+es(jt.internal.getWidth(s))+" "+es(jt.internal.getHeight(s))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+es(jt.internal.getWidth(s)-2)+" "+es(jt.internal.getHeight(s)-2)+" re"),r.push("W"),r.push("n"),r.push(es(t.x1.x)+" "+es(t.x1.y)+" m"),r.push(es(t.x2.x)+" "+es(t.x2.y)+" l"),r.push(es(t.x4.x)+" "+es(t.x4.y)+" m"),r.push(es(t.x3.x)+" "+es(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(s){var e=Mo(s);e.scope=s.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+es(jt.internal.getWidth(s))+" "+es(jt.internal.getHeight(s))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(s){var e=s.scope.internal.getFont(s.fontName,s.fontStyle).id,t=s.scope.__private__.encodeColorString(s.color);return"/"+e+" "+s.fontSize+" Tf "+t}};jt.internal={Bezier_C:.551915024494,calculateCross:function(s){var e=jt.internal.getWidth(s),t=jt.internal.getHeight(s),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},jt.internal.getWidth=function(s){var e=0;return Ys(s)==="object"&&(e=p5(s.Rect[2])),e},jt.internal.getHeight=function(s){var e=0;return Ys(s)==="object"&&(e=p5(s.Rect[3])),e};var EL=Tr.addField=function(s){if(LL(this,s),!(s instanceof oo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=s).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),s.page=s.scope.internal.getCurrentPageInfo().pageNumber,this};Tr.AcroFormChoiceField=Cu,Tr.AcroFormListBox=Lu,Tr.AcroFormComboBox=Eu,Tr.AcroFormEditBox=T0,Tr.AcroFormButton=vn,Tr.AcroFormPushButton=M0,Tr.AcroFormRadioButton=Pu,Tr.AcroFormCheckBox=R0,Tr.AcroFormTextField=kd,Tr.AcroFormPasswordField=O0,Tr.AcroFormAppearance=jt,Tr.AcroForm={ChoiceField:Cu,ListBox:Lu,ComboBox:Eu,EditBox:T0,Button:vn,PushButton:M0,RadioButton:Pu,CheckBox:R0,TextField:kd,PasswordField:O0,Appearance:jt},Et.AcroForm={ChoiceField:Cu,ListBox:Lu,ComboBox:Eu,EditBox:T0,Button:vn,PushButton:M0,RadioButton:Pu,CheckBox:R0,TextField:kd,PasswordField:O0,Appearance:jt};Et.AcroForm;function g4(s){return s.reduce(function(e,t,r){return e[t]=r,e},{})}(function(s){var e="addImage_";s.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=s.__addimage__.getImageFileTypeByImageData=function(R,q){var ie,K,oe,Z,se,ee=t;if((q=q||t)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(ae(R))for(se in r)for(oe=r[se],ie=0;ie<oe.length;ie+=1){for(Z=!0,K=0;K<oe[ie].length;K+=1)if(oe[ie][K]!==void 0&&oe[ie][K]!==R[K]){Z=!1;break}if(Z===!0){ee=se;break}}else for(se in r)for(oe=r[se],ie=0;ie<oe.length;ie+=1){for(Z=!0,K=0;K<oe[ie].length;K+=1)if(oe[ie][K]!==void 0&&oe[ie][K]!==R.charCodeAt(K)){Z=!1;break}if(Z===!0){ee=se;break}}return ee===t&&q!==t&&(ee=q),ee},i=function R(q){for(var ie=this.internal.write,K=this.internal.putStream,oe=(0,this.internal.getFilters)();oe.indexOf("FlateEncode")!==-1;)oe.splice(oe.indexOf("FlateEncode"),1);q.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:q.width}),Z.push({key:"Height",value:q.height}),q.colorSpace===k.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(q.palette.length/3-1)+" "+("sMask"in q&&q.sMask!==void 0?q.objectId+2:q.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+q.colorSpace}),q.colorSpace===k.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:q.bitsPerComponent}),"decodeParameters"in q&&q.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+q.decodeParameters+">>"}),"transparency"in q&&Array.isArray(q.transparency)){for(var se="",ee=0,pe=q.transparency.length;ee<pe;ee++)se+=q.transparency[ee]+" "+q.transparency[ee]+" ";Z.push({key:"Mask",value:"["+se+"]"})}q.sMask!==void 0&&Z.push({key:"SMask",value:q.objectId+1+" 0 R"});var Q=q.filter!==void 0?["/"+q.filter]:void 0;if(K({data:q.data,additionalKeyValues:Z,alreadyAppliedFilters:Q,objectId:q.objectId}),ie("endobj"),"sMask"in q&&q.sMask!==void 0){var me=(q.predictor!=null?"/Predictor "+q.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+q.width,O={width:q.width,height:q.height,colorSpace:"DeviceGray",bitsPerComponent:q.bitsPerComponent,decodeParameters:me,data:q.sMask};"filter"in q&&(O.filter=q.filter),R.call(this,O)}if(q.colorSpace===k.INDEXED){var V=this.internal.newObject();K({data:E(new Uint8Array(q.palette)),objectId:V}),ie("endobj")}},c=function(){var R=this.internal.collections[e+"images"];for(var q in R)i.call(this,R[q])},d=function(){var R,q=this.internal.collections[e+"images"],ie=this.internal.write;for(var K in q)ie("/I"+(R=q[K]).index,R.objectId,"0","R")},u=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",d))},f=function(){var R=this.internal.collections[e+"images"];return u.call(this),R},m=function(){return Object.keys(this.internal.collections[e+"images"]).length},b=function(R){return typeof s["process"+R.toUpperCase()]=="function"},y=function(R){return Ys(R)==="object"&&R.nodeType===1},x=function(R,q){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var ie=""+R.getAttribute("src");if(ie.indexOf("data:image/")===0)return P0(unescape(ie).split("base64,").pop());var K=s.loadFile(ie,!0);if(K!==void 0)return K}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var oe;switch(q){case"PNG":oe="image/png";break;case"WEBP":oe="image/webp";break;default:oe="image/jpeg"}return P0(R.toDataURL(oe,1).split("base64,").pop())}},j=function(R){var q=this.internal.collections[e+"images"];if(q){for(var ie in q)if(R===q[ie].alias)return q[ie]}},S=function(R,q,ie){return R||q||(R=-96,q=-96),R<0&&(R=-1*ie.width*72/R/this.internal.scaleFactor),q<0&&(q=-1*ie.height*72/q/this.internal.scaleFactor),R===0&&(R=q*ie.width/ie.height),q===0&&(q=R*ie.height/ie.width),[R,q]},A=function(R,q,ie,K,oe,Z){var se=S.call(this,ie,K,oe),ee=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,Q=f.call(this);if(ie=se[0],K=se[1],Q[oe.index]=oe,Z){Z*=Math.PI/180;var me=Math.cos(Z),O=Math.sin(Z),V=function(he){return he.toFixed(4)},te=[V(me),V(O),V(-1*O),V(me),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,ee(R),pe(q+K),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([ee(ie),"0","0",ee(K),"0","0","cm"].join(" "))):this.internal.write([ee(ie),"0","0",ee(K),ee(R),pe(q+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+oe.index+" Do"),this.internal.write("Q")},k=s.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};s.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=s.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},M=s.__addimage__.sHashCode=function(R){var q,ie,K=0;if(typeof R=="string")for(ie=R.length,q=0;q<ie;q++)K=(K<<5)-K+R.charCodeAt(q),K|=0;else if(ae(R))for(ie=R.byteLength/2,q=0;q<ie;q++)K=(K<<5)-K+R[q],K|=0;return K},F=s.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var q=!0;return R.length===0&&(q=!1),R.length%4!=0&&(q=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(q=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(q=!1),q},B=s.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var q=R.indexOf(",");return q<0?null:R.substring(0,q).trim().endsWith("base64")?R.substring(q+1):null};s.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var ae=s.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},Y=s.__addimage__.binaryStringToUint8Array=function(R){for(var q=R.length,ie=new Uint8Array(q),K=0;K<q;K++)ie[K]=R.charCodeAt(K);return ie},E=s.__addimage__.arrayBufferToBinaryString=function(R){for(var q="",ie=ae(R)?R:new Uint8Array(R),K=0;K<ie.length;K+=8192)q+=String.fromCharCode.apply(null,ie.subarray(K,K+8192));return q};s.addImage=function(){var R,q,ie,K,oe,Z,se,ee,pe;if(typeof arguments[1]=="number"?(q=t,ie=arguments[1],K=arguments[2],oe=arguments[3],Z=arguments[4],se=arguments[5],ee=arguments[6],pe=arguments[7]):(q=arguments[1],ie=arguments[2],K=arguments[3],oe=arguments[4],Z=arguments[5],se=arguments[6],ee=arguments[7],pe=arguments[8]),Ys(R=arguments[0])==="object"&&!y(R)&&"imageData"in R){var Q=R;R=Q.imageData,q=Q.format||q||t,ie=Q.x||ie||0,K=Q.y||K||0,oe=Q.w||Q.width||oe,Z=Q.h||Q.height||Z,se=Q.alias||se,ee=Q.compression||ee,pe=Q.rotation||Q.angle||pe}var me=this.internal.getFilters();if(ee===void 0&&me.indexOf("FlateEncode")!==-1&&(ee="SLOW"),isNaN(ie)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var O=I.call(this,R,q,se,ee);return A.call(this,ie,K,oe,Z,O,pe),this};var I=function(R,q,ie,K){var oe,Z,se;if(typeof R=="string"&&a(R)===t){R=unescape(R);var ee=$(R,!1);(ee!==""||(ee=s.loadFile(R,!0))!==void 0)&&(R=ee)}if(y(R)&&(R=x(R,q)),q=a(R,q),!b(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(((se=ie)==null||se.length===0)&&(ie=function(pe){return typeof pe=="string"||ae(pe)?M(pe):ae(pe.data)?M(pe.data):null}(R)),(oe=j.call(this,ie))||(R instanceof Uint8Array||q==="RGBA"||(Z=R,R=Y(R)),oe=this["process"+q.toUpperCase()](R,m.call(this),ie,function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in s.image_compression?pe:P.NONE}(K),Z)),!oe)throw new Error("An unknown error occurred whilst processing the image.");return oe},$=s.__addimage__.convertBase64ToBinaryString=function(R,q){q=typeof q!="boolean"||q;var ie,K="";if(typeof R=="string"){var oe;ie=(oe=B(R))!==null&&oe!==void 0?oe:R;try{K=P0(ie)}catch(Z){if(q)throw F(ie)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};s.getImageProperties=function(R){var q,ie,K="";if(y(R)&&(R=x(R)),typeof R=="string"&&a(R)===t&&((K=$(R,!1))===""&&(K=s.loadFile(R)||""),R=K),ie=a(R),!b(ie))throw new Error("addImage does not support files of type '"+ie+"', please ensure that a plugin for '"+ie+"' support is added.");if(R instanceof Uint8Array||(R=Y(R)),!(q=this["process"+ie.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return q.fileType=ie,q}})(Et.API),function(s){var e=function(t){if(t!==void 0&&t!="")return!0};Et.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),s.events.push(["putPage",function(t){for(var r,a,i,c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,m=!1,b=0;b<f.length&&!m;b++)switch((r=f[b]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var x=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),k=this.internal.getEncryptor(S.objId),P=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(r.bounds.x)+" "+d(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y)+"] ")+"/Contents ("+x(k(r.contents))+")",i+=" /Popup "+A.objId+" 0 R",i+=" /P "+u.objId+" 0 R",i+=" /T ("+x(k(P))+") >>",S.content=i;var M=S.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(r.bounds.x+30)+" "+d(r.bounds.y+r.bounds.h)+" "+c(r.bounds.x+r.bounds.w+30)+" "+d(r.bounds.y)+"] ")+" /Parent "+M,r.open&&(i+=" /Open true"),i+=" >>",A.content=i,this.internal.write(S.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+c(r.bounds.x)+" "+d(r.bounds.y)+" "+c(r.bounds.x+r.bounds.w)+" "+d(r.bounds.y+r.bounds.h)+"] ";var F=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+x(j(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+x(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;default:var ae=d(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+ae+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),s.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},s.link=function(t,r,a,i,c){var d=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;d.pageContext.annotations.push({finalBounds:{x:u(t),y:f(r),w:u(t+a),h:f(r+i)},options:c,type:"link"})},s.textWithLink=function(t,r,a,i){var c,d,u=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){d=i.maxWidth;var m=this.splitTextToSize(t,d).length;c=Math.ceil(f*m)}else d=u,c=f;return this.text(t,r,a,i),a+=.2*f,i.align==="center"&&(r-=u/2),i.align==="right"&&(r-=u),this.link(r,a-f,d,c,i),u},s.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Et.API),function(s){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];s.__arabicParser__={};var i=s.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},c=s.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},d=s.__arabicParser__.isArabicEndLetter=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length<=2},u=s.__arabicParser__.isArabicAlfLetter=function(S){return c(S)&&a.indexOf(S.charCodeAt(0))>=0};s.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length>=1};var f=s.__arabicParser__.arabicLetterHasFinalForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length>=2};s.__arabicParser__.arabicLetterHasInitialForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length>=3};var m=s.__arabicParser__.arabicLetterHasMedialForm=function(S){return c(S)&&i(S)&&e[S.charCodeAt(0)].length==4},b=s.__arabicParser__.resolveLigatures=function(S){var A=0,k=t,P="",M=0;for(A=0;A<S.length;A+=1)k[S.charCodeAt(A)]!==void 0?(M++,typeof(k=k[S.charCodeAt(A)])=="number"&&(P+=String.fromCharCode(k),k=t,M=0),A===S.length-1&&(k=t,P+=S.charAt(A-(M-1)),A-=M-1,M=0)):(k=t,P+=S.charAt(A-M),A-=M,M=0);return P};s.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var y=s.__arabicParser__.getCorrectForm=function(S,A,k){return c(S)?i(S)===!1?-1:!f(S)||!c(A)&&!c(k)||!c(k)&&d(A)||d(S)&&!c(A)||d(S)&&u(A)||d(S)&&d(A)?0:m(S)&&c(A)&&!d(A)&&c(k)&&f(k)?3:d(S)||!c(k)?1:2:-1},x=function(S){var A=0,k=0,P=0,M="",F="",B="",ae=(S=S||"").split("\\s+"),Y=[];for(A=0;A<ae.length;A+=1){for(Y.push(""),k=0;k<ae[A].length;k+=1)M=ae[A][k],F=ae[A][k-1],B=ae[A][k+1],c(M)?(P=y(M,F,B),Y[A]+=P!==-1?String.fromCharCode(e[M.charCodeAt(0)][P]):M):Y[A]+=M;Y[A]=b(Y[A])}return Y.join(" ")},j=s.__arabicParser__.processArabic=s.processArabic=function(){var S,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,k=[];if(Array.isArray(A)){var P=0;for(k=[],P=0;P<A.length;P+=1)Array.isArray(A[P])?k.push([x(A[P][0]),A[P][1],A[P][2]]):k.push([x(A[P])]);S=k}else S=x(A);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};s.events.push(["preProcessText",j])}(Et.API),Et.API.autoPrint=function(s){var e;return(s=s||{}).variant=s.variant||"non-conform",s.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(s){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(d){t=d}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(d){r=isNaN(d)||Number.isInteger(d)===!1||d<0?150:d,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(d){a=isNaN(d)||Number.isInteger(d)===!1||d<0?300:d,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(d){i=d}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(d){c=d}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},s.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Et.API),function(s){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var b=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return b},set:function(S){b=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(S){x=S}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(S){j=S}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},s.setHeaderFunction=function(u){return r.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},s.getTextDimensions=function(u,f){r.call(this);var m=(f=f||{}).fontSize||this.getFontSize(),b=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,x=0,j=0,S=0,A=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var k=f.maxWidth;k>0?typeof u=="string"?u=this.splitTextToSize(u,k):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(M,F){return M.concat(A.splitTextToSize(F,k))},[])):u=Array.isArray(u)?u:[u];for(var P=0;P<u.length;P++)x<(S=this.getStringUnitWidth(u[P],{font:b})*m)&&(x=S);return x!==0&&(j=u.length),{w:x/=y,h:Math.max((j*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/y,0)}},s.cellAddPage=function(){r.call(this),this.addPage();var u=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=s.cell=function(){var u;u=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,b=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+b.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=b.top,x&&y&&(this.printHeaderRow(u.lineNumber,!0),u.y+=y[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,t===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-m,u.y+m,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+m,{align:"center",baseline:"top",maxWidth:u.width-m-m}):this.text(u.text,u.x+m,u.y+m,{align:"left",baseline:"top",maxWidth:u.width-m-m})),this.internal.__cell__.lastCell=u,this};s.table=function(u,f,m,b,y){if(r.call(this),!m)throw new Error("No data for PDF table.");var x,j,S,A,k=[],P=[],M=[],F={},B={},ae=[],Y=[],E=(y=y||{}).autoSize||!1,I=y.printHeaders!==!1,$=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,R=y.margins||Object.assign({width:this.getPageWidth()},e),q=typeof y.padding=="number"?y.padding:3,ie=y.headerBackgroundColor||"#c8c8c8",K=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=q,this.internal.__cell__.headerBackgroundColor=ie,this.internal.__cell__.headerTextColor=K,this.setFontSize($),b==null)P=k=Object.keys(m[0]),M=k.map(function(){return"left"});else if(Array.isArray(b)&&Ys(b[0])==="object")for(k=b.map(function(Q){return Q.name}),P=b.map(function(Q){return Q.prompt||Q.name||""}),M=b.map(function(Q){return Q.align||"left"}),x=0;x<b.length;x+=1)B[b[x].name]=.7499990551181103*b[x].width;else Array.isArray(b)&&typeof b[0]=="string"&&(P=k=b,M=k.map(function(){return"left"}));if(E||Array.isArray(b)&&typeof b[0]=="string")for(x=0;x<k.length;x+=1){for(F[A=k[x]]=m.map(function(Q){return Q[A]}),this.setFont(void 0,"bold"),ae.push(this.getTextDimensions(P[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=F[A],this.setFont(void 0,"normal"),S=0;S<j.length;S+=1)ae.push(this.getTextDimensions(j[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[A]=Math.max.apply(null,ae)+q+q,ae=[]}if(I){var oe={};for(x=0;x<k.length;x+=1)oe[k[x]]={},oe[k[x]].text=P[x],oe[k[x]].align=M[x];var Z=d.call(this,oe,B);Y=k.map(function(Q){return new i(u,f,B[Q],Z,oe[Q].text,void 0,oe[Q].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var se=b.reduce(function(Q,me){return Q[me.name]=me.align,Q},{});for(x=0;x<m.length;x+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:x,data:m[x]},this);var ee=d.call(this,m[x],B);for(S=0;S<k.length;S+=1){var pe=m[x][k[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:x,col:S,data:pe},this),c.call(this,new i(u,f,B[k[S]],ee,pe,x+2,se[k[S]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var d=function(u,f){var m=this.internal.__cell__.padding,b=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(u).map(function(x){var j=u[x];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,f[x]-m-m)},this).map(function(x){return this.getLineHeightFactor()*x.length*b/y+m+m},this).reduce(function(x,j){return Math.max(x,j)},0)};s.setTableHeaderRow=function(u){r.call(this),this.internal.__cell__.tableHeaderRow=u},s.printHeaderRow=function(u,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var b=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(b[0],b[1],b[2],b[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){m=this.internal.__cell__.tableHeaderRow[x].clone(),f&&(m.y=this.internal.__cell__.margins.top||0,y.push(m)),m.lineNumber=u;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(j)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}}(Et.API);var x4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},y4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],w1=g4(y4),b4=[100,200,300,400,500,600,700,800,900],PL=g4(b4);function jx(s){var e=s.family.replace(/"|'/g,"").toLowerCase(),t=function(i){return x4[i=i||"normal"]?i:"normal"}(s.style),r=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(s.weight),a=function(i){return typeof w1[i=i||"normal"]=="number"?i:"normal"}(s.stretch);return{family:e,style:t,weight:r,stretch:a,src:s.src||[],ref:s.ref||{name:e,style:[a,t,r].join(" ")}}}function g5(s,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(s[e[a]])return s[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(s[e[a]])return s[e[a]]}var TL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},x5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function y5(s){return[s.stretch,s.style,s.weight,s.family].join(" ")}function b5(s){return s.trimLeft()}function ML(s,e){for(var t=0;t<s.length;){if(s.charAt(t)===e)return[s.substring(0,t),s.substring(t+1)];t+=1}return null}function RL(s){var e=s.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],s.substring(e[0].length)]}var o0,v5,w5,vu,l0,j5,N5,S5,Nx=["times"];function _5(s,e,t,r){var a=4,i=A5;switch(r){case Et.API.image_compression.FAST:a=1,i=k5;break;case Et.API.image_compression.MEDIUM:a=6,i=C5;break;case Et.API.image_compression.SLOW:a=9,i=L5}s=function(d,u,f,m){for(var b,y=d.length/u,x=new Uint8Array(d.length+y),j=[OL,k5,A5,C5,L5],S=0;S<y;S+=1){var A=S*u,k=d.subarray(A,A+u);if(m)x.set(m(k,f,b),A+S);else{for(var P=j.length,M=[],F=0;F<P;F+=1)M[F]=j[F](k,f,b);var B=IL(M.concat());x.set(M[B],A+S)}b=k}return x}(s,e,t,i);var c=m1(s,{level:a});return Et.API.__addimage__.arrayBufferToBinaryString(c)}function OL(s){var e=Array.apply([],s);return e.unshift(0),e}function k5(s,e){var t=s.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var i=s[a-e]||0;r[a+1]=s[a]-i+256&255}return r}function A5(s,e,t){var r=s.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var c=t&&t[i]||0;a[i+1]=s[i]-c+256&255}return a}function C5(s,e,t){var r=s.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var c=s[i-e]||0,d=t&&t[i]||0;a[i+1]=s[i]+256-(c+d>>>1)&255}return a}function L5(s,e,t){var r=s.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var c=DL(s[i-e]||0,t&&t[i]||0,t&&t[i-e]||0);a[i+1]=s[i]-c+256&255}return a}function DL(s,e,t){if(s===e&&e===t)return s;var r=Math.abs(e-t),a=Math.abs(s-t),i=Math.abs(s+e-t-t);return r<=a&&r<=i?s:a<=i?e:t}function IL(s){var e=s.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function Sx(s,e,t){var r=e*t,a=Math.floor(r/8),i=16-(r-8*a+t),c=(1<<t)-1;return v4(s,a)>>i&c}function E5(s,e,t,r){var a=t*r,i=Math.floor(a/8),c=16-(a-8*i+r),d=(1<<r)-1,u=(e&d)<<c;(function(f,m,b){if(m+1<f.byteLength)f.setUint16(m,b,!1);else{var y=b>>8&255;f.setUint8(m,y)}})(s,i,v4(s,i)&~(d<<c)&65535|u)}function v4(s,e){return e+1<s.byteLength?s.getUint16(e,!1):s.getUint8(e)<<8}function FL(s){var e=0;if(s[e++]!==71||s[e++]!==73||s[e++]!==70||s[e++]!==56||(s[e++]+1&253)!=56||s[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=s[e++]|s[e++]<<8,r=s[e++]|s[e++]<<8,a=s[e++],i=a>>7,c=1<<1+(7&a);s[e++],s[e++];var d=null,u=null;i&&(d=e,u=c,e+=3*c);var f=!0,m=[],b=0,y=null,x=0,j=null;for(this.width=t,this.height=r;f&&e<s.length;)switch(s[e++]){case 33:switch(s[e++]){case 255:if(s[e]!==11||s[e+1]==78&&s[e+2]==69&&s[e+3]==84&&s[e+4]==83&&s[e+5]==67&&s[e+6]==65&&s[e+7]==80&&s[e+8]==69&&s[e+9]==50&&s[e+10]==46&&s[e+11]==48&&s[e+12]==3&&s[e+13]==1&&s[e+16]==0)e+=14,j=s[e++]|s[e++]<<8,e++;else for(e+=12;;){if(!((R=s[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;case 249:if(s[e++]!==4||s[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=s[e++];b=s[e++]|s[e++]<<8,y=s[e++],1&S||(y=null),x=S>>2&7,e++;break;case 254:for(;;){if(!((R=s[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}break;default:throw new Error("Unknown graphic control label: 0x"+s[e-1].toString(16))}break;case 44:var A=s[e++]|s[e++]<<8,k=s[e++]|s[e++]<<8,P=s[e++]|s[e++]<<8,M=s[e++]|s[e++]<<8,F=s[e++],B=F>>6&1,ae=1<<1+(7&F),Y=d,E=u,I=!1;F>>7&&(I=!0,Y=e,E=ae,e+=3*ae);var $=e;for(e++;;){var R;if(!((R=s[e++])>=0))throw Error("Invalid block size");if(R===0)break;e+=R}m.push({x:A,y:k,width:P,height:M,has_local_palette:I,palette_offset:Y,palette_size:E,data_offset:$,data_length:e-$,transparent_index:y,interlaced:!!B,delay:b,disposal:x});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+s[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return j},this.frameInfo=function(q){if(q<0||q>=m.length)throw new Error("Frame index out of range.");return m[q]},this.decodeAndBlitFrameBGRA=function(q,ie){var K=this.frameInfo(q),oe=K.width*K.height,Z=new Uint8Array(oe);P5(s,K.data_offset,Z,oe);var se=K.palette_offset,ee=K.transparent_index;ee===null&&(ee=256);var pe=K.width,Q=t-pe,me=pe,O=4*(K.y*t+K.x),V=4*((K.y+K.height)*t+K.x),te=O,he=4*Q;K.interlaced===!0&&(he+=4*t*7);for(var fe=8,ve=0,Ce=Z.length;ve<Ce;++ve){var ue=Z[ve];if(me===0&&(me=pe,(te+=he)>=V&&(he=4*Q+4*t*(fe-1),te=O+(pe+Q)*(fe<<1),fe>>=1)),ue===ee)te+=4;else{var Le=s[se+3*ue],Be=s[se+3*ue+1],Ze=s[se+3*ue+2];ie[te++]=Ze,ie[te++]=Be,ie[te++]=Le,ie[te++]=255}--me}},this.decodeAndBlitFrameRGBA=function(q,ie){var K=this.frameInfo(q),oe=K.width*K.height,Z=new Uint8Array(oe);P5(s,K.data_offset,Z,oe);var se=K.palette_offset,ee=K.transparent_index;ee===null&&(ee=256);var pe=K.width,Q=t-pe,me=pe,O=4*(K.y*t+K.x),V=4*((K.y+K.height)*t+K.x),te=O,he=4*Q;K.interlaced===!0&&(he+=4*t*7);for(var fe=8,ve=0,Ce=Z.length;ve<Ce;++ve){var ue=Z[ve];if(me===0&&(me=pe,(te+=he)>=V&&(he=4*Q+4*t*(fe-1),te=O+(pe+Q)*(fe<<1),fe>>=1)),ue===ee)te+=4;else{var Le=s[se+3*ue],Be=s[se+3*ue+1],Ze=s[se+3*ue+2];ie[te++]=Le,ie[te++]=Be,ie[te++]=Ze,ie[te++]=255}--me}}}function P5(s,e,t,r){for(var a=s[e++],i=1<<a,c=i+1,d=c+1,u=a+1,f=(1<<u)-1,m=0,b=0,y=0,x=s[e++],j=new Int32Array(4096),S=null;;){for(;m<16&&x!==0;)b|=s[e++]<<m,m+=8,x===1?x=s[e++]:--x;if(m<u)break;var A=b&f;if(b>>=u,m-=u,A!==i){if(A===c)break;for(var k=A<d?A:S,P=0,M=k;M>i;)M=j[M]>>8,++P;var F=M;if(y+P+(k!==A?1:0)>r)return void sr.log("Warning, gif stream longer than expected.");t[y++]=F;var B=y+=P;for(k!==A&&(t[y++]=F),M=k;P--;)M=j[M],t[--B]=255&M,M>>=8;S!==null&&d<4096&&(j[d++]=S<<8|F,d>=f+1&&u<12&&(++u,f=f<<1|1)),S=A}else d=c+1,f=(1<<(u=a+1))-1,S=null}return y!==r&&sr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _x(s){var e,t,r,a,i,c=Math.floor,d=new Array(64),u=new Array(64),f=new Array(64),m=new Array(64),b=new Array(65535),y=new Array(65535),x=new Array(64),j=new Array(64),S=[],A=0,k=7,P=new Array(64),M=new Array(64),F=new Array(64),B=new Array(256),ae=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],oe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(O,V){for(var te=0,he=0,fe=new Array,ve=1;ve<=16;ve++){for(var Ce=1;Ce<=O[ve];Ce++)fe[V[he]]=[],fe[V[he]][0]=te,fe[V[he]][1]=ve,he++,te++;te*=2}return fe}function se(O){for(var V=O[0],te=O[1]-1;te>=0;)V&1<<te&&(A|=1<<k),te--,--k<0&&(A==255?(ee(255),ee(0)):ee(A),k=7,A=0)}function ee(O){S.push(O)}function pe(O){ee(O>>8&255),ee(255&O)}function Q(O,V,te,he,fe){for(var ve,Ce=fe[0],ue=fe[240],Le=function(ze,et){var qe,Nt,dt,Rt,ft,ut,_t,Qe,rt,Pt,xt=0;for(rt=0;rt<8;++rt){qe=ze[xt],Nt=ze[xt+1],dt=ze[xt+2],Rt=ze[xt+3],ft=ze[xt+4],ut=ze[xt+5],_t=ze[xt+6];var Ge=qe+(Qe=ze[xt+7]),at=qe-Qe,ct=Nt+_t,Mt=Nt-_t,bs=dt+ut,At=dt-ut,ns=Rt+ft,Dt=Rt-ft,Is=Ge+ns,Os=Ge-ns,fs=ct+bs,Ot=ct-bs;ze[xt]=Is+fs,ze[xt+4]=Is-fs;var ts=.707106781*(Ot+Os);ze[xt+2]=Os+ts,ze[xt+6]=Os-ts;var Qr=.382683433*((Is=Dt+At)-(Ot=Mt+at)),Jt=.5411961*Is+Qr,$r=1.306562965*Ot+Qr,jn=.707106781*(fs=At+Mt),Lt=at+jn,kr=at-jn;ze[xt+5]=kr+Jt,ze[xt+3]=kr-Jt,ze[xt+1]=Lt+$r,ze[xt+7]=Lt-$r,xt+=8}for(xt=0,rt=0;rt<8;++rt){qe=ze[xt],Nt=ze[xt+8],dt=ze[xt+16],Rt=ze[xt+24],ft=ze[xt+32],ut=ze[xt+40],_t=ze[xt+48];var ms=qe+(Qe=ze[xt+56]),as=qe-Qe,Ps=Nt+_t,Ft=Nt-_t,_e=dt+ut,ht=dt-ut,ss=Rt+ft,It=Rt-ft,Cs=ms+ss,os=ms-ss,Zt=Ps+_e,vs=Ps-_e;ze[xt]=Cs+Zt,ze[xt+32]=Cs-Zt;var ls=.707106781*(vs+os);ze[xt+16]=os+ls,ze[xt+48]=os-ls;var _s=.382683433*((Cs=It+ht)-(vs=Ft+as)),Fs=.5411961*Cs+_s,Qn=1.306562965*vs+_s,br=.707106781*(Zt=ht+Ft),zn=as+br,Ga=as-br;ze[xt+40]=Ga+Fs,ze[xt+24]=Ga-Fs,ze[xt+8]=zn+Qn,ze[xt+56]=zn-Qn,xt++}for(rt=0;rt<64;++rt)Pt=ze[rt]*et[rt],x[rt]=Pt>0?Pt+.5|0:Pt-.5|0;return x}(O,V),Be=0;Be<64;++Be)j[Y[Be]]=Le[Be];var Ze=j[0]-te;te=j[0],Ze==0?se(he[0]):(se(he[y[ve=32767+Ze]]),se(b[ve]));for(var Fe=63;Fe>0&&j[Fe]==0;)Fe--;if(Fe==0)return se(Ce),te;for(var je,ne=1;ne<=Fe;){for(var lt=ne;j[ne]==0&&ne<=Fe;)++ne;var st=ne-lt;if(st>=16){je=st>>4;for(var it=1;it<=je;++it)se(ue);st&=15}ve=32767+j[ne],se(fe[(st<<4)+y[ve]]),se(b[ve]),ne++}return Fe!=63&&se(Ce),te}function me(O){O=Math.min(Math.max(O,1),100),i!=O&&(function(V){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],he=0;he<64;he++){var fe=c((te[he]*V+50)/100);fe=Math.min(Math.max(fe,1),255),d[Y[he]]=fe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ce=0;Ce<64;Ce++){var ue=c((ve[Ce]*V+50)/100);ue=Math.min(Math.max(ue,1),255),u[Y[Ce]]=ue}for(var Le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Ze=0;Ze<8;Ze++)for(var Fe=0;Fe<8;Fe++)f[Be]=1/(d[Y[Be]]*Le[Ze]*Le[Fe]*8),m[Be]=1/(u[Y[Be]]*Le[Ze]*Le[Fe]*8),Be++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),i=O)}this.encode=function(O,V){V&&me(V),S=new Array,A=0,k=7,pe(65496),pe(65504),pe(16),ee(74),ee(70),ee(73),ee(70),ee(0),ee(1),ee(1),ee(0),pe(1),pe(1),ee(0),ee(0),function(){pe(65499),pe(132),ee(0);for(var Nt=0;Nt<64;Nt++)ee(d[Nt]);ee(1);for(var dt=0;dt<64;dt++)ee(u[dt])}(),function(Nt,dt){pe(65472),pe(17),ee(8),pe(dt),pe(Nt),ee(3),ee(1),ee(17),ee(0),ee(2),ee(17),ee(1),ee(3),ee(17),ee(1)}(O.width,O.height),function(){pe(65476),pe(418),ee(0);for(var Nt=0;Nt<16;Nt++)ee(E[Nt+1]);for(var dt=0;dt<=11;dt++)ee(I[dt]);ee(16);for(var Rt=0;Rt<16;Rt++)ee($[Rt+1]);for(var ft=0;ft<=161;ft++)ee(R[ft]);ee(1);for(var ut=0;ut<16;ut++)ee(q[ut+1]);for(var _t=0;_t<=11;_t++)ee(ie[_t]);ee(17);for(var Qe=0;Qe<16;Qe++)ee(K[Qe+1]);for(var rt=0;rt<=161;rt++)ee(oe[rt])}(),pe(65498),pe(12),ee(3),ee(1),ee(0),ee(2),ee(17),ee(3),ee(17),ee(0),ee(63),ee(0);var te=0,he=0,fe=0;A=0,k=7,this.encode.displayName="_encode_";for(var ve,Ce,ue,Le,Be,Ze,Fe,je,ne,lt=O.data,st=O.width,it=O.height,ze=4*st,et=0;et<it;){for(ve=0;ve<ze;){for(Be=ze*et+ve,Fe=-1,je=0,ne=0;ne<64;ne++)Ze=Be+(je=ne>>3)*ze+(Fe=4*(7&ne)),et+je>=it&&(Ze-=ze*(et+1+je-it)),ve+Fe>=ze&&(Ze-=ve+Fe-ze+4),Ce=lt[Ze++],ue=lt[Ze++],Le=lt[Ze++],P[ne]=(ae[Ce]+ae[ue+256|0]+ae[Le+512|0]>>16)-128,M[ne]=(ae[Ce+768|0]+ae[ue+1024|0]+ae[Le+1280|0]>>16)-128,F[ne]=(ae[Ce+1280|0]+ae[ue+1536|0]+ae[Le+1792|0]>>16)-128;te=Q(P,f,te,e,r),he=Q(M,m,he,t,a),fe=Q(F,m,fe,t,a),ve+=32}et+=8}if(k>=0){var qe=[];qe[1]=k+1,qe[0]=(1<<k+1)-1,se(qe)}return pe(65497),new Uint8Array(S)},s=s||50,function(){for(var O=String.fromCharCode,V=0;V<256;V++)B[V]=O(V)}(),e=Z(E,I),t=Z(q,ie),r=Z($,R),a=Z(K,oe),function(){for(var O=1,V=2,te=1;te<=15;te++){for(var he=O;he<V;he++)y[32767+he]=te,b[32767+he]=[],b[32767+he][1]=te,b[32767+he][0]=he;for(var fe=-(V-1);fe<=-O;fe++)y[32767+fe]=te,b[32767+fe]=[],b[32767+fe][1]=te,b[32767+fe][0]=V-1+fe;O<<=1,V<<=1}}(),function(){for(var O=0;O<256;O++)ae[O]=19595*O,ae[O+256|0]=38470*O,ae[O+512|0]=7471*O+32768,ae[O+768|0]=-11059*O,ae[O+1024|0]=-21709*O,ae[O+1280|0]=32768*O+8421375,ae[O+1536|0]=-27439*O,ae[O+1792|0]=-5329*O}(),me(s)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function to(s,e){if(this.pos=0,this.buffer=s,this.datav=new DataView(s.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function T5(s){function e(I){if(!I)throw Error("assert :P")}function t(I,$,R){for(var q=0;4>q;q++)if(I[$+q]!=R.charCodeAt(q))return!0;return!1}function r(I,$,R,q,ie){for(var K=0;K<ie;K++)I[$+K]=R[q+K]}function a(I,$,R,q){for(var ie=0;ie<q;ie++)I[$+ie]=R}function i(I){return new Int32Array(I)}function c(I,$){for(var R=[],q=0;q<I;q++)R.push(new $);return R}function d(I,$){var R=[];return function q(ie,K,oe){for(var Z=oe[K],se=0;se<Z&&(ie.push(oe.length>K+1?[]:new $),!(oe.length<K+1));se++)q(ie[se],K+1,oe)}(R,0,I),R}var u=function(){var I=this;function $(g,w){for(var C=1<<w-1>>>0;g&C;)C>>>=1;return C?(g&C-1)+C:g}function R(g,w,C,L,z){e(!(L%C));do g[w+(L-=C)]=z;while(0<L)}function q(g,w,C,L,z){if(e(2328>=z),512>=z)var H=i(512);else if((H=i(z))==null)return 0;return function(G,J,re,ce,ye,Pe){var le,we,ke=J,Ie=1<<re,Ee=i(16),He=i(16);for(e(ye!=0),e(ce!=null),e(G!=null),e(0<re),we=0;we<ye;++we){if(15<ce[we])return 0;++Ee[ce[we]]}if(Ee[0]==ye)return 0;for(He[1]=0,le=1;15>le;++le){if(Ee[le]>1<<le)return 0;He[le+1]=He[le]+Ee[le]}for(we=0;we<ye;++we)le=ce[we],0<ce[we]&&(Pe[He[le]++]=we);if(He[15]==1)return(ce=new ie).g=0,ce.value=Pe[0],R(G,ke,1,Ie,ce),Ie;var Ue,Je=-1,Ye=Ie-1,St=0,mt=1,Gt=1,gt=1<<re;for(we=0,le=1,ye=2;le<=re;++le,ye<<=1){if(mt+=Gt<<=1,0>(Gt-=Ee[le]))return 0;for(;0<Ee[le];--Ee[le])(ce=new ie).g=le,ce.value=Pe[we++],R(G,ke+St,ye,gt,ce),St=$(St,le)}for(le=re+1,ye=2;15>=le;++le,ye<<=1){if(mt+=Gt<<=1,0>(Gt-=Ee[le]))return 0;for(;0<Ee[le];--Ee[le]){if(ce=new ie,(St&Ye)!=Je){for(ke+=gt,Ue=1<<(Je=le)-re;15>Je&&!(0>=(Ue-=Ee[Je]));)++Je,Ue<<=1;Ie+=gt=1<<(Ue=Je-re),G[J+(Je=St&Ye)].g=Ue+re,G[J+Je].value=ke-J-Je}ce.g=le-re,ce.value=Pe[we++],R(G,ke+(St>>re),ye,gt,ce),St=$(St,le)}}return mt!=2*He[15]-1?0:Ie}(g,w,C,L,z,H)}function ie(){this.value=this.g=0}function K(){this.value=this.g=0}function oe(){this.G=c(5,ie),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(ga,K)}function Z(g,w,C,L){e(g!=null),e(w!=null),e(2147483648>L),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=w,g.pa=C,g.Jd=w,g.Yc=C+L,g.Zc=4<=L?C+L-4+1:C,Ce(g)}function se(g,w){for(var C=0;0<w--;)C|=Le(g,128)<<w;return C}function ee(g,w){var C=se(g,w);return ue(g)?-C:C}function pe(g,w,C,L){var z,H=0;for(e(g!=null),e(w!=null),e(4294967288>L),g.Sb=L,g.Ra=0,g.u=0,g.h=0,4<L&&(L=4),z=0;z<L;++z)H+=w[C+z]<<8*z;g.Ra=H,g.bb=L,g.oa=w,g.pa=C}function Q(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Ui-8>>>0,++g.bb,g.u-=8;he(g)&&(g.h=1,g.u=0)}function me(g,w){if(e(0<=w),!g.h&&w<=Hl){var C=te(g)&ai[w];return g.u+=w,Q(g),C}return g.h=1,g.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function V(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(g){return g.Ra>>>(g.u&Ui-1)>>>0}function he(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Ui}function fe(g,w){g.u=w,g.h=he(g)}function ve(g){g.u>=dr&&(e(g.u>=dr),Q(g))}function Ce(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function ue(g){return se(g,1)}function Le(g,w){var C=g.Ca;0>g.b&&Ce(g);var L=g.b,z=C*w>>>8,H=(g.I>>>L>z)+0;for(H?(C-=z,g.I-=z+1<<L>>>0):C=z+1,L=C,z=0;256<=L;)z+=8,L>>=8;return L=7^z+Xu[L],g.b-=L,g.Ca=(C<<L)-1,H}function Be(g,w,C){g[w+0]=C>>24&255,g[w+1]=C>>16&255,g[w+2]=C>>8&255,g[w+3]=255&C}function Ze(g,w){return g[w+0]|g[w+1]<<8}function Fe(g,w){return Ze(g,w)|g[w+2]<<16}function je(g,w){return Ze(g,w)|Ze(g,w+2)<<16}function ne(g,w){var C=1<<w;return e(g!=null),e(0<w),g.X=i(C),g.X==null?0:(g.Mb=32-w,g.Xa=w,1)}function lt(g,w){e(g!=null),e(w!=null),e(g.Xa==w.Xa),r(w.X,0,g.X,0,1<<w.Xa)}function st(){this.X=[],this.Xa=this.Mb=0}function it(g,w,C,L){e(C!=null),e(L!=null);var z=C[0],H=L[0];return z==0&&(z=(g*H+w/2)/w),H==0&&(H=(w*z+g/2)/g),0>=z||0>=H?0:(C[0]=z,L[0]=H,1)}function ze(g,w){return g+(1<<w)-1>>>w}function et(g,w){return((4278255360&g)+(4278255360&w)>>>0&4278255360)+((16711935&g)+(16711935&w)>>>0&16711935)>>>0}function qe(g,w){I[w]=function(C,L,z,H,G,J,re){var ce;for(ce=0;ce<G;++ce){var ye=I[g](J[re+ce-1],z,H+ce);J[re+ce]=et(C[L+ce],ye)}}}function Nt(){this.ud=this.hd=this.jd=0}function dt(g,w){return((4278124286&(g^w))>>>1)+(g&w)>>>0}function Rt(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function ft(g,w){return Rt(g+(g-w+.5>>1))}function ut(g,w,C){return Math.abs(w-C)-Math.abs(g-C)}function _t(g,w,C,L,z,H,G){for(L=H[G-1],C=0;C<z;++C)H[G+C]=L=et(g[w+C],L)}function Qe(g,w,C,L,z){var H;for(H=0;H<C;++H){var G=g[w+H],J=G>>8&255,re=16711935&(re=(re=16711935&G)+((J<<16)+J));L[z+H]=(4278255360&G)+re>>>0}}function rt(g,w){w.jd=255&g,w.hd=g>>8&255,w.ud=g>>16&255}function Pt(g,w,C,L,z,H){var G;for(G=0;G<L;++G){var J=w[C+G],re=J>>>8,ce=J,ye=255&(ye=(ye=J>>>16)+((g.jd<<24>>24)*(re<<24>>24)>>>5));ce=255&(ce=(ce+=(g.hd<<24>>24)*(re<<24>>24)>>>5)+((g.ud<<24>>24)*(ye<<24>>24)>>>5)),z[H+G]=(4278255360&J)+(ye<<16)+ce}}function xt(g,w,C,L,z){I[w]=function(H,G,J,re,ce,ye,Pe,le,we){for(re=Pe;re<le;++re)for(Pe=0;Pe<we;++Pe)ce[ye++]=z(J[L(H[G++])])},I[g]=function(H,G,J,re,ce,ye,Pe){var le=8>>H.b,we=H.Ea,ke=H.K[0],Ie=H.w;if(8>le)for(H=(1<<H.b)-1,Ie=(1<<le)-1;G<J;++G){var Ee,He=0;for(Ee=0;Ee<we;++Ee)Ee&H||(He=L(re[ce++])),ye[Pe++]=z(ke[He&Ie]),He>>=le}else I["VP8LMapColor"+C](re,ce,ke,Ie,ye,Pe,G,J,we)}}function Ge(g,w,C,L,z){for(C=w+C;w<C;){var H=g[w++];L[z++]=H>>16&255,L[z++]=H>>8&255,L[z++]=255&H}}function at(g,w,C,L,z){for(C=w+C;w<C;){var H=g[w++];L[z++]=H>>16&255,L[z++]=H>>8&255,L[z++]=255&H,L[z++]=H>>24&255}}function ct(g,w,C,L,z){for(C=w+C;w<C;){var H=(G=g[w++])>>16&240|G>>12&15,G=240&G|G>>28&15;L[z++]=H,L[z++]=G}}function Mt(g,w,C,L,z){for(C=w+C;w<C;){var H=(G=g[w++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;L[z++]=H,L[z++]=G}}function bs(g,w,C,L,z){for(C=w+C;w<C;){var H=g[w++];L[z++]=255&H,L[z++]=H>>8&255,L[z++]=H>>16&255}}function At(g,w,C,L,z,H){if(H==0)for(C=w+C;w<C;)Be(L,((H=g[w++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else r(L,z,g,w,C)}function ns(g,w){I[w][0]=I[g+"0"],I[w][1]=I[g+"1"],I[w][2]=I[g+"2"],I[w][3]=I[g+"3"],I[w][4]=I[g+"4"],I[w][5]=I[g+"5"],I[w][6]=I[g+"6"],I[w][7]=I[g+"7"],I[w][8]=I[g+"8"],I[w][9]=I[g+"9"],I[w][10]=I[g+"10"],I[w][11]=I[g+"11"],I[w][12]=I[g+"12"],I[w][13]=I[g+"13"],I[w][14]=I[g+"0"],I[w][15]=I[g+"0"]}function Dt(g){return g==$c||g==No||g==Hi||g==Yl}function Is(){this.eb=[],this.size=this.A=this.fb=0}function Os(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function fs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Is,this.f.kb=new Os,this.sd=null}function Ot(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ts(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qr(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Jt(g,w){var C=g.T,L=w.ba.f.RGBA,z=L.eb,H=L.fb+g.ka*L.A,G=Xr[w.ba.S],J=g.y,re=g.O,ce=g.f,ye=g.N,Pe=g.ea,le=g.W,we=w.cc,ke=w.dc,Ie=w.Mc,Ee=w.Nc,He=g.ka,Ue=g.ka+g.T,Je=g.U,Ye=Je+1>>1;for(He==0?G(J,re,null,null,ce,ye,Pe,le,ce,ye,Pe,le,z,H,null,null,Je):(G(w.ec,w.fc,J,re,we,ke,Ie,Ee,ce,ye,Pe,le,z,H-L.A,z,H,Je),++C);He+2<Ue;He+=2)we=ce,ke=ye,Ie=Pe,Ee=le,ye+=g.Rc,le+=g.Rc,H+=2*L.A,G(J,(re+=2*g.fa)-g.fa,J,re,we,ke,Ie,Ee,ce,ye,Pe,le,z,H-L.A,z,H,Je);return re+=g.fa,g.j+Ue<g.o?(r(w.ec,w.fc,J,re,Je),r(w.cc,w.dc,ce,ye,Ye),r(w.Mc,w.Nc,Pe,le,Ye),C--):1&Ue||G(J,re,null,null,ce,ye,Pe,le,ce,ye,Pe,le,z,H+L.A,null,null,Je),C}function $r(g,w,C){var L=g.F,z=[g.J];if(L!=null){var H=g.U,G=w.ba.S,J=G==sl||G==Hi;w=w.ba.f.RGBA;var re=[0],ce=g.ka;re[0]=g.T,g.Kb&&(ce==0?--re[0]:(--ce,z[0]-=g.width),g.j+g.ka+g.T==g.o&&(re[0]=g.o-g.j-ce));var ye=w.eb;ce=w.fb+ce*w.A,g=aa(L,z[0],g.width,H,re,ye,ce+(J?0:3),w.A),e(C==re),g&&Dt(G)&&$l(ye,ce,J,H,re,w.A)}return 0}function jn(g){var w=g.ma,C=w.ba.S,L=11>C,z=C==Gl||C==Vc||C==sl||C==qi||C==12||Dt(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!nn(w.Oa,g,z?11:12))return 0;if(z&&Dt(C)&&Uc(),g.da)alert("todo:use_scaling");else{if(L){if(w.Ib=Qr,g.Kb){if(C=g.U+1>>1,w.memory=i(g.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+g.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=Jt,Uc()}}else alert("todo:EmitYUV");z&&(w.Jb=$r,L&&Xo())}if(L&&!Zf){for(g=0;256>g;++g)Cp[g]=89858*(g-128)+Dr>>gi,Kc[g]=-22014*(g-128)+Dr,nh[g]=-45773*(g-128),Ir[g]=113618*(g-128)+Dr>>gi;for(g=ko;g<Xd;++g)w=76283*(g-16)+Dr>>gi,Xc[g-ko]=Rr(w,255),ah[g-ko]=Rr(w+8>>4,15);Zf=1}return 1}function Lt(g){var w=g.ma,C=g.U,L=g.T;return e(!(1&g.ka)),0>=C||0>=L?0:(C=w.Ib(g,w),w.Jb!=null&&w.Jb(g,w,C),w.Dc+=C,1)}function kr(g){g.ma.memory=null}function ms(g,w,C,L){return me(g,8)!=47?0:(w[0]=me(g,14)+1,C[0]=me(g,14)+1,L[0]=me(g,1),me(g,3)!=0?0:!g.h)}function as(g,w){if(4>g)return g+1;var C=g-2>>1;return(2+(1&g)<<C)+me(w,C)+1}function Ps(g,w){return 120<w?w-120:1<=(C=((C=Vi[w-1])>>4)*g+(8-(15&C)))?C:1;var C}function Ft(g,w,C){var L=te(C),z=g[w+=255&L].g-8;return 0<z&&(fe(C,C.u+8),L=te(C),w+=g[w].value,w+=L&(1<<z)-1),fe(C,C.u+g[w].g),g[w].value}function _e(g,w,C){return C.g+=g.g,C.value+=g.value<<w>>>0,e(8>=C.g),g.g}function ht(g,w,C){var L=g.xc;return e((w=L==0?0:g.vc[g.md*(C>>L)+(w>>L)])<g.Wb),g.Ya[w]}function ss(g,w,C,L){var z=g.ab,H=g.c*w,G=g.C;w=G+w;var J=C,re=L;for(L=g.Ta,C=g.Ua;0<z--;){var ce=g.gc[z],ye=G,Pe=w,le=J,we=re,ke=(re=L,J=C,ce.Ea);switch(e(ye<Pe),e(Pe<=ce.nc),ce.hc){case 2:Wl(le,we,(Pe-ye)*ke,re,J);break;case 0:var Ie=ye,Ee=Pe,He=re,Ue=J,Je=(gt=ce).Ea;Ie==0&&(ii(le,we,null,null,1,He,Ue),_t(le,we+1,0,0,Je-1,He,Ue+1),we+=Je,Ue+=Je,++Ie);for(var Ye=1<<gt.b,St=Ye-1,mt=ze(Je,gt.b),Gt=gt.K,gt=gt.w+(Ie>>gt.b)*mt;Ie<Ee;){var ps=Gt,Er=gt,Vt=1;for(oi(le,we,He,Ue-Je,1,He,Ue);Vt<Je;){var yt=(Vt&~St)+Ye;yt>Je&&(yt=Je),(0,wo[ps[Er++]>>8&15])(le,we+ +Vt,He,Ue+Vt-Je,yt-Vt,He,Ue+Vt),Vt=yt}we+=Je,Ue+=Je,++Ie&St||(gt+=mt)}Pe!=ce.nc&&r(re,J-ke,re,J+(Pe-ye-1)*ke,ke);break;case 1:for(ke=le,Ee=we,Je=(le=ce.Ea)-(Ue=le&~(He=(we=1<<ce.b)-1)),Ie=ze(le,ce.b),Ye=ce.K,ce=ce.w+(ye>>ce.b)*Ie;ye<Pe;){for(St=Ye,mt=ce,Gt=new Nt,gt=Ee+Ue,ps=Ee+le;Ee<gt;)rt(St[mt++],Gt),ci(Gt,ke,Ee,we,re,J),Ee+=we,J+=we;Ee<ps&&(rt(St[mt++],Gt),ci(Gt,ke,Ee,Je,re,J),Ee+=Je,J+=Je),++ye&He||(ce+=Ie)}break;case 3:if(le==re&&we==J&&0<ce.b){for(Ee=re,le=ke=J+(Pe-ye)*ke-(Ue=(Pe-ye)*ze(ce.Ea,ce.b)),we=re,He=J,Ie=[],Ue=(Je=Ue)-1;0<=Ue;--Ue)Ie[Ue]=we[He+Ue];for(Ue=Je-1;0<=Ue;--Ue)Ee[le+Ue]=Ie[Ue];qc(ce,ye,Pe,re,ke,re,J)}else qc(ce,ye,Pe,le,we,re,J)}J=L,re=C}re!=C&&r(L,C,J,re,H)}function It(g,w){var C=g.V,L=g.Ba+g.c*g.C,z=w-g.C;if(e(w<=g.l.o),e(16>=z),0<z){var H=g.l,G=g.Ta,J=g.Ua,re=H.width;if(ss(g,z,C,L),z=J=[J],e((C=g.C)<(L=w)),e(H.v<H.va),L>H.o&&(L=H.o),C<H.j){var ce=H.j-C;C=H.j,z[0]+=ce*re}if(C>=L?C=0:(z[0]+=4*H.v,H.ka=C-H.j,H.U=H.va-H.v,H.T=L-C,C=1),C){if(J=J[0],11>(C=g.ca).S){var ye=C.f.RGBA,Pe=(L=C.S,z=H.U,H=H.T,ce=ye.eb,ye.A),le=H;for(ye=ye.fb+g.Ma*ye.A;0<le--;){var we=G,ke=J,Ie=z,Ee=ce,He=ye;switch(L){case pn:Vl(we,ke,Ie,Ee,He);break;case Gl:An(we,ke,Ie,Ee,He);break;case $c:An(we,ke,Ie,Ee,He),$l(Ee,He,0,Ie,1,0);break;case hi:Us(we,ke,Ie,Ee,He);break;case Vc:At(we,ke,Ie,Ee,He,1);break;case No:At(we,ke,Ie,Ee,He,1),$l(Ee,He,0,Ie,1,0);break;case sl:At(we,ke,Ie,Ee,He,0);break;case Hi:At(we,ke,Ie,Ee,He,0),$l(Ee,He,1,Ie,1,0);break;case qi:di(we,ke,Ie,Ee,He);break;case Yl:di(we,ke,Ie,Ee,He),na(Ee,He,Ie,1,0);break;case Vd:Ts(we,ke,Ie,Ee,He);break;default:e(0)}J+=re,ye+=Pe}g.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=C.height)}}g.C=w,e(g.C<=g.i)}function Cs(g){var w;if(0<g.ua)return 0;for(w=0;w<g.Wb;++w){var C=g.Ya[w].G,L=g.Ya[w].H;if(0<C[1][L[1]+0].g||0<C[2][L[2]+0].g||0<C[3][L[3]+0].g)return 0}return 1}function os(g,w,C,L,z,H){if(g.Z!=0){var G=g.qd,J=g.rd;for(e(mi[g.Z]!=null);w<C;++w)mi[g.Z](G,J,L,z,L,z,H),G=L,J=z,z+=H;g.qd=G,g.rd=J}}function Zt(g,w){var C=g.l.ma,L=C.Z==0||C.Z==1?g.l.j:g.C;if(L=g.C<L?L:g.C,e(w<=g.l.o),w>L){var z=g.l.width,H=C.ca,G=C.tb+z*L,J=g.V,re=g.Ba+g.c*L,ce=g.gc;e(g.ab==1),e(ce[0].hc==3),li(ce[0],L,w,J,re,H,G),os(C,L,w,H,G,z)}g.C=g.Ma=w}function vs(g,w,C,L,z,H,G){var J=g.$/L,re=g.$%L,ce=g.m,ye=g.s,Pe=C+g.$,le=Pe;z=C+L*z;var we=C+L*H,ke=280+ye.ua,Ie=g.Pb?J:16777216,Ee=0<ye.ua?ye.Wa:null,He=ye.wc,Ue=Pe<we?ht(ye,re,J):null;e(g.C<H),e(we<=z);var Je=!1;e:for(;;){for(;Je||Pe<we;){var Ye=0;if(J>=Ie){var St=Pe-C;e((Ie=g).Pb),Ie.wd=Ie.m,Ie.xd=St,0<Ie.s.ua&&lt(Ie.s.Wa,Ie.s.vb),Ie=J+Kf}if(re&He||(Ue=ht(ye,re,J)),e(Ue!=null),Ue.Qb&&(w[Pe]=Ue.qb,Je=!0),!Je)if(ve(ce),Ue.jc){Ye=ce,St=w;var mt=Pe,Gt=Ue.pd[te(Ye)&ga-1];e(Ue.jc),256>Gt.g?(fe(Ye,Ye.u+Gt.g),St[mt]=Gt.value,Ye=0):(fe(Ye,Ye.u+Gt.g-256),e(256<=Gt.value),Ye=Gt.value),Ye==0&&(Je=!0)}else Ye=Ft(Ue.G[0],Ue.H[0],ce);if(ce.h)break;if(Je||256>Ye){if(!Je)if(Ue.nd)w[Pe]=(Ue.qb|Ye<<8)>>>0;else{if(ve(ce),Je=Ft(Ue.G[1],Ue.H[1],ce),ve(ce),St=Ft(Ue.G[2],Ue.H[2],ce),mt=Ft(Ue.G[3],Ue.H[3],ce),ce.h)break;w[Pe]=(mt<<24|Je<<16|Ye<<8|St)>>>0}if(Je=!1,++Pe,++re>=L&&(re=0,++J,G!=null&&J<=H&&!(J%16)&&G(g,J),Ee!=null))for(;le<Pe;)Ye=w[le++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else if(280>Ye){if(Ye=as(Ye-256,ce),St=Ft(Ue.G[4],Ue.H[4],ce),ve(ce),St=Ps(L,St=as(St,ce)),ce.h)break;if(Pe-C<St||z-Pe<Ye)break e;for(mt=0;mt<Ye;++mt)w[Pe+mt]=w[Pe+mt-St];for(Pe+=Ye,re+=Ye;re>=L;)re-=L,++J,G!=null&&J<=H&&!(J%16)&&G(g,J);if(e(Pe<=z),re&He&&(Ue=ht(ye,re,J)),Ee!=null)for(;le<Pe;)Ye=w[le++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye}else{if(!(Ye<ke))break e;for(Je=Ye-280,e(Ee!=null);le<Pe;)Ye=w[le++],Ee.X[(506832829*Ye&4294967295)>>>Ee.Mb]=Ye;Ye=Pe,e(!(Je>>>(St=Ee).Xa)),w[Ye]=St.X[Je],Je=!0}Je||e(ce.h==he(ce))}if(g.Pb&&ce.h&&Pe<z)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&lt(g.s.vb,g.s.Wa);else{if(ce.h)break e;G?.(g,J>H?H:J),g.a=0,g.$=Pe-C}return 1}return g.a=3,0}function ls(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var w=g.Wa;w!=null&&(w.X=null),g.vb=null,e(g!=null)}function _s(){var g=new nr;return g==null?null:(g.a=0,g.xb=Kl,ns("Predictor","VP8LPredictors"),ns("Predictor","VP8LPredictors_C"),ns("PredictorAdd","VP8LPredictorsAdd"),ns("PredictorAdd","VP8LPredictorsAdd_C"),Wl=Qe,ci=Pt,Vl=Ge,An=at,di=ct,Ts=Mt,Us=bs,I.VP8LMapColor32b=Yr,I.VP8LMapColor8b=vo,g)}function Fs(g,w,C,L,z){var H=1,G=[g],J=[w],re=L.m,ce=L.s,ye=null,Pe=0;e:for(;;){if(C)for(;H&&me(re,1);){var le=G,we=J,ke=L,Ie=1,Ee=ke.m,He=ke.gc[ke.ab],Ue=me(Ee,2);if(ke.Oc&1<<Ue)H=0;else{switch(ke.Oc|=1<<Ue,He.hc=Ue,He.Ea=le[0],He.nc=we[0],He.K=[null],++ke.ab,e(4>=ke.ab),Ue){case 0:case 1:He.b=me(Ee,3)+2,Ie=Fs(ze(He.Ea,He.b),ze(He.nc,He.b),0,ke,He.K),He.K=He.K[0];break;case 3:var Je,Ye=me(Ee,8)+1,St=16<Ye?0:4<Ye?1:2<Ye?2:3;if(le[0]=ze(He.Ea,St),He.b=St,Je=Ie=Fs(Ye,1,0,ke,He.K)){var mt,Gt=Ye,gt=He,ps=1<<(8>>gt.b),Er=i(ps);if(Er==null)Je=0;else{var Vt=gt.K[0],yt=gt.w;for(Er[0]=gt.K[0][0],mt=1;mt<1*Gt;++mt)Er[mt]=et(Vt[yt+mt],Er[mt-1]);for(;mt<4*ps;++mt)Er[mt]=0;gt.K[0]=null,gt.K[0]=Er,Je=1}}Ie=Je;break;case 2:break;default:e(0)}H=Ie}}if(G=G[0],J=J[0],H&&me(re,1)&&!(H=1<=(Pe=me(re,4))&&11>=Pe)){L.a=3;break e}var nt;if(nt=H)t:{var ir,Yt,rs,vt=L,Xt=G,js=J,er=Pe,vr=C,wr=vt.m,hr=vt.s,hs=[null],Ns=1,fr=0,Bt=nl[er];s:for(;;){if(vr&&me(wr,1)){var Fr=me(wr,3)+2,la=ze(Xt,Fr),mr=ze(js,Fr),En=la*mr;if(!Fs(la,mr,0,vt,hs))break s;for(hs=hs[0],hr.xc=Fr,ir=0;ir<En;++ir){var Hs=hs[ir]>>8&65535;hs[ir]=Hs,Hs>=Ns&&(Ns=Hs+1)}}if(wr.h)break s;for(Yt=0;5>Yt;++Yt){var jr=ia[Yt];!Yt&&0<er&&(jr+=1<<er),fr<jr&&(fr=jr)}var Pn=c(Ns*Bt,ie),an=Ns,Xs=c(an,oe);if(Xs==null)var Ls=null;else e(65536>=an),Ls=Xs;var gn=i(fr);if(Ls==null||gn==null||Pn==null){vt.a=1;break s}var on=Pn;for(ir=rs=0;ir<Ns;++ir){var Bs=Ls[ir],Tn=Bs.G,Br=Bs.H,xi=0,Ma=1,zr=0;for(Yt=0;5>Yt;++Yt){jr=ia[Yt],Tn[Yt]=on,Br[Yt]=rs,!Yt&&0<er&&(jr+=1<<er);n:{var Jc,Jd=jr,Zc=vt,Jl=gn,tm=on,sm=rs,Qc=0,Ki=Zc.m,Ep=me(Ki,1);if(a(Jl,0,0,Jd),Ep){var rm=me(Ki,1)+1,nm=me(Ki,1),ih=me(Ki,nm==0?1:8);Jl[ih]=1,rm==2&&(Jl[ih=me(Ki,8)]=1);var Zl=1}else{var oh=i(19),lh=me(Ki,4)+4;if(19<lh){Zc.a=3;var ed=0;break n}for(Jc=0;Jc<lh;++Jc)oh[Wi[Jc]]=me(Ki,3);var Zd=void 0,Ql=void 0,am=Zc,im=oh,Xi=Jd,td=Jl,Qd=0,Ra=am.m,ec=8,ch=c(128,ie);r:for(;q(ch,0,7,im,19);){if(me(Ra,1)){var om=2+2*me(Ra,3);if((Zd=2+me(Ra,om))>Xi)break r}else Zd=Xi;for(Ql=0;Ql<Xi&&Zd--;){ve(Ra);var dh=ch[0+(127&te(Ra))];fe(Ra,Ra.u+dh.g);var ol=dh.value;if(16>ol)td[Ql++]=ol,ol!=0&&(ec=ol);else{var lm=ol==16,uh=ol-16,hh=va[uh],fh=me(Ra,$d[uh])+hh;if(Ql+fh>Xi)break r;for(var cm=lm?ec:0;0<fh--;)td[Ql++]=cm}}Qd=1;break r}Qd||(am.a=3),Zl=Qd}(Zl=Zl&&!Ki.h)&&(Qc=q(tm,sm,8,Jl,Jd)),Zl&&Qc!=0?ed=Qc:(Zc.a=3,ed=0)}if(ed==0)break s;if(Ma&&rl[Yt]==1&&(Ma=on[rs].g==0),xi+=on[rs].g,rs+=ed,3>=Yt){var ll,eu=gn[0];for(ll=1;ll<jr;++ll)gn[ll]>eu&&(eu=gn[ll]);zr+=eu}}if(Bs.nd=Ma,Bs.Qb=0,Ma&&(Bs.qb=(Tn[3][Br[3]+0].value<<24|Tn[1][Br[1]+0].value<<16|Tn[2][Br[2]+0].value)>>>0,xi==0&&256>Tn[0][Br[0]+0].value&&(Bs.Qb=1,Bs.qb+=Tn[0][Br[0]+0].value<<8)),Bs.jc=!Bs.Qb&&6>zr,Bs.jc){var sd,Ji=Bs;for(sd=0;sd<ga;++sd){var yi=sd,Zi=Ji.pd[yi],rd=Ji.G[0][Ji.H[0]+yi];256<=rd.value?(Zi.g=rd.g+256,Zi.value=rd.value):(Zi.g=0,Zi.value=0,yi>>=_e(rd,8,Zi),yi>>=_e(Ji.G[1][Ji.H[1]+yi],16,Zi),yi>>=_e(Ji.G[2][Ji.H[2]+yi],0,Zi),_e(Ji.G[3][Ji.H[3]+yi],24,Zi))}}}hr.vc=hs,hr.Wb=Ns,hr.Ya=Ls,hr.yc=Pn,nt=1;break t}nt=0}if(!(H=nt)){L.a=3;break e}if(0<Pe){if(ce.ua=1<<Pe,!ne(ce.Wa,Pe)){L.a=1,H=0;break e}}else ce.ua=0;var nd=L,mh=G,dm=J,ph=nd.s,gh=ph.xc;if(nd.c=mh,nd.i=dm,ph.md=ze(mh,gh),ph.wc=gh==0?-1:(1<<gh)-1,C){L.xb=Jf;break e}if((ye=i(G*J))==null){L.a=1,H=0;break e}H=(H=vs(L,ye,0,G,J,J,null))&&!re.h;break e}return H?(z!=null?z[0]=ye:(e(ye==null),e(C)),L.$=0,C||ls(ce)):ls(ce),H}function Qn(g,w){var C=g.c*g.i,L=C+w+16*w;return e(g.c<=w),g.V=i(L),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+C+w,1)}function br(g,w){var C=g.C,L=w-C,z=g.V,H=g.Ba+g.c*C;for(e(w<=g.l.o);0<L;){var G=16<L?16:L,J=g.l.ma,re=g.l.width,ce=re*G,ye=J.ca,Pe=J.tb+re*C,le=g.Ta,we=g.Ua;ss(g,G,z,H),Qo(le,we,ye,Pe,ce),os(J,C,C+G,ye,Pe,re),L-=G,z+=G*g.c,C+=G}e(C==w),g.C=g.Ma=w}function zn(){this.ub=this.yd=this.td=this.Rb=0}function Ga(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ol(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function co(){this.Yb=function(){var g=[];return function w(C,L,z){for(var H=z[L],G=0;G<H&&(C.push(z.length>L+1?[]:0),!(z.length<L+1));G++)w(C[G],L+1,z)}(g,0,[3,11]),g}()}function Dl(){this.jb=i(3),this.Wc=d([4,8],co),this.Xc=d([4,17],co)}function Ei(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function en(){this.ld=this.La=this.dd=this.tc=0}function Nn(){this.Na=this.la=0}function Pi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function uo(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sn(){this.uc=this.M=this.Nb=0,this.wa=Array(new en),this.Y=0,this.ya=Array(new uo),this.aa=0,this.l=new fo}function Ya(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ho(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new zn,this.Kc=new Ga,this.ed=new Ei,this.Qa=new Ol,this.Ic=this.$c=this.Aa=0,this.D=new Sn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,O),this.ia=0,this.pb=c(4,Pi),this.Pa=new Dl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ya),this.Hd=0,this.rb=Array(new Nn),this.sb=0,this.wa=Array(new en),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new uo),this.L=this.aa=0,this.gd=d([4,2],en),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function mo(){var g=new ho;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Or||(Or=_n)),g}function ks(g,w,C){return g.a==0&&(g.a=w,g.sc=C,g.cb=0),0}function Ho(g,w,C){return 3<=C&&g[w+0]==157&&g[w+1]==1&&g[w+2]==42}function Wo(g,w){if(g==null)return 0;if(g.a=0,g.sc="OK",w==null)return ks(g,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,L=w.w,z=w.ha;if(4>z)return ks(g,7,"Truncated header.");var H=C[L+0]|C[L+1]<<8|C[L+2]<<16,G=g.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return ks(g,3,"Incorrect keyframe parameters.");if(!G.yd)return ks(g,4,"Frame not displayable.");L+=3,z-=3;var J=g.Kc;if(G.Rb){if(7>z)return ks(g,7,"cannot parse picture header");if(!Ho(C,L,z))return ks(g,3,"Bad code word");J.c=16383&(C[L+4]<<8|C[L+3]),J.Td=C[L+4]>>6,J.i=16383&(C[L+6]<<8|C[L+5]),J.Ud=C[L+6]>>6,L+=7,z-=7,g.za=J.c+15>>4,g.Ub=J.i+15>>4,w.width=J.c,w.height=J.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,a((H=g.Pa).jb,0,255,H.jb.length),e((H=g.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,a(H.Zb,0,0,H.Zb.length),a(H.Lb,0,0,H.Lb)}if(G.ub>z)return ks(g,7,"bad partition length");Z(H=g.m,C,L,G.ub),L+=G.ub,z-=G.ub,G.Rb&&(J.Ld=ue(H),J.Kd=ue(H)),J=g.Qa;var re,ce=g.Pa;if(e(H!=null),e(J!=null),J.Cb=ue(H),J.Cb){if(J.Bb=ue(H),ue(H)){for(J.Fb=ue(H),re=0;4>re;++re)J.Zb[re]=ue(H)?ee(H,7):0;for(re=0;4>re;++re)J.Lb[re]=ue(H)?ee(H,6):0}if(J.Bb)for(re=0;3>re;++re)ce.jb[re]=ue(H)?se(H,8):255}else J.Bb=0;if(H.Ka)return ks(g,3,"cannot parse segment header");if((J=g.ed).zd=ue(H),J.Tb=se(H,6),J.wb=se(H,3),J.Pc=ue(H),J.Pc&&ue(H)){for(ce=0;4>ce;++ce)ue(H)&&(J.vd[ce]=ee(H,6));for(ce=0;4>ce;++ce)ue(H)&&(J.od[ce]=ee(H,6))}if(g.L=J.Tb==0?0:J.zd?1:2,H.Ka)return ks(g,3,"cannot parse filter header");var ye=z;if(z=re=L,L=re+ye,J=ye,g.Xb=(1<<se(g.m,2))-1,ye<3*(ce=g.Xb))C=7;else{for(re+=3*ce,J-=3*ce,ye=0;ye<ce;++ye){var Pe=C[z+0]|C[z+1]<<8|C[z+2]<<16;Pe>J&&(Pe=J),Z(g.Jc[+ye],C,re,Pe),re+=Pe,J-=Pe,z+=3}Z(g.Jc[+ce],C,re,J),C=re<L?0:5}if(C!=0)return ks(g,C,"cannot parse partitions");for(C=se(re=g.m,7),z=ue(re)?ee(re,4):0,L=ue(re)?ee(re,4):0,J=ue(re)?ee(re,4):0,ce=ue(re)?ee(re,4):0,re=ue(re)?ee(re,4):0,ye=g.Qa,Pe=0;4>Pe;++Pe){if(ye.Cb){var le=ye.Zb[Pe];ye.Fb||(le+=C)}else{if(0<Pe){g.pb[Pe]=g.pb[0];continue}le=C}var we=g.pb[Pe];we.Sc[0]=Gc[Rr(le+z,127)],we.Sc[1]=Yc[Rr(le+0,127)],we.Eb[0]=2*Gc[Rr(le+L,127)],we.Eb[1]=101581*Yc[Rr(le+J,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=Gc[Rr(le+ce,117)],we.Qc[1]=Yc[Rr(le+re,127)],we.lc=le+re}if(!G.Rb)return ks(g,4,"Not a key frame.");for(ue(H),G=g.Pa,C=0;4>C;++C){for(z=0;8>z;++z)for(L=0;3>L;++L)for(J=0;11>J;++J)ce=Le(H,al[C][z][L][J])?se(H,8):fi[C][z][L][J],G.Wc[C][z].Yb[L][J]=ce;for(z=0;17>z;++z)G.Xc[C][z]=G.Wc[C][Xf[z]]}return g.kc=ue(H),g.kc&&(g.Bd=se(H,8)),g.cb=1}function _n(g,w,C,L,z,H,G){var J=w[z].Yb[C];for(C=0;16>z;++z){if(!Le(g,J[C+0]))return z;for(;!Le(g,J[C+1]);)if(J=w[++z].Yb[0],C=0,z==16)return 16;var re=w[z+1].Yb;if(Le(g,J[C+2])){var ce=g,ye=0;if(Le(ce,(le=J)[(Pe=C)+3]))if(Le(ce,le[Pe+6])){for(J=0,Pe=2*(ye=Le(ce,le[Pe+8]))+(le=Le(ce,le[Pe+9+ye])),ye=0,le=ur[Pe];le[J];++J)ye+=ye+Le(ce,le[J]);ye+=3+(8<<Pe)}else Le(ce,le[Pe+7])?(ye=7+2*Le(ce,165),ye+=Le(ce,145)):ye=5+Le(ce,159);else ye=Le(ce,le[Pe+4])?3+Le(ce,le[Pe+5]):2;J=re[2]}else ye=1,J=re[1];re=G+Ms[z],0>(ce=g).b&&Ce(ce);var Pe,le=ce.b,we=(Pe=ce.Ca>>1)-(ce.I>>le)>>31;--ce.b,ce.Ca+=we,ce.Ca|=1,ce.I-=(Pe+1&we)<<le,H[re]=((ye^we)-we)*L[(0<z)+0]}return 16}function Ka(g){var w=g.rb[g.sb-1];w.la=0,w.Na=0,a(g.zc,0,0,g.zc.length),g.ja=0}function hn(g,w,C,L,z){z=g[w+C+32*L]+(z>>3),g[w+C+32*L]=-256&z?0>z?0:255:z}function Ti(g,w,C,L,z,H){hn(g,w,0,C,L+z),hn(g,w,1,C,L+H),hn(g,w,2,C,L-H),hn(g,w,3,C,L-z)}function ws(g){return(20091*g>>16)+g}function Xa(g,w,C,L){var z,H=0,G=i(16);for(z=0;4>z;++z){var J=g[w+0]+g[w+8],re=g[w+0]-g[w+8],ce=(35468*g[w+4]>>16)-ws(g[w+12]),ye=ws(g[w+4])+(35468*g[w+12]>>16);G[H+0]=J+ye,G[H+1]=re+ce,G[H+2]=re-ce,G[H+3]=J-ye,H+=4,w++}for(z=H=0;4>z;++z)J=(g=G[H+0]+4)+G[H+8],re=g-G[H+8],ce=(35468*G[H+4]>>16)-ws(G[H+12]),hn(C,L,0,0,J+(ye=ws(G[H+4])+(35468*G[H+12]>>16))),hn(C,L,1,0,re+ce),hn(C,L,2,0,re-ce),hn(C,L,3,0,J-ye),H++,L+=32}function Mi(g,w,C,L){var z=g[w+0]+4,H=35468*g[w+4]>>16,G=ws(g[w+4]),J=35468*g[w+1]>>16;Ti(C,L,0,z+G,g=ws(g[w+1]),J),Ti(C,L,1,z+H,g,J),Ti(C,L,2,z-H,g,J),Ti(C,L,3,z-G,g,J)}function Vo(g,w,C,L,z){Xa(g,w,C,L),z&&Xa(g,w+16,C,L+4)}function W(g,w,C,L){ar(g,w+0,C,L,1),ar(g,w+32,C,L+128,1)}function Oe(g,w,C,L){var z;for(g=g[w+0]+4,z=0;4>z;++z)for(w=0;4>w;++w)hn(C,L,w,z,g)}function tt(g,w,C,L){g[w+0]&&Cn(g,w+0,C,L),g[w+16]&&Cn(g,w+16,C,L+4),g[w+32]&&Cn(g,w+32,C,L+128),g[w+48]&&Cn(g,w+48,C,L+128+4)}function pt(g,w,C,L){var z,H=i(16);for(z=0;4>z;++z){var G=g[w+0+z]+g[w+12+z],J=g[w+4+z]+g[w+8+z],re=g[w+4+z]-g[w+8+z],ce=g[w+0+z]-g[w+12+z];H[0+z]=G+J,H[8+z]=G-J,H[4+z]=ce+re,H[12+z]=ce-re}for(z=0;4>z;++z)G=(g=H[0+4*z]+3)+H[3+4*z],J=H[1+4*z]+H[2+4*z],re=H[1+4*z]-H[2+4*z],ce=g-H[3+4*z],C[L+0]=G+J>>3,C[L+16]=ce+re>>3,C[L+32]=G-J>>3,C[L+48]=ce-re>>3,L+=64}function Ct(g,w,C){var L,z=w-32,H=Kr,G=255-g[z-1];for(L=0;L<C;++L){var J,re=H,ce=G+g[w-1];for(J=0;J<C;++J)g[w+J]=re[ce+g[z+J]];w+=32}}function cs(g,w){Ct(g,w,4)}function tn(g,w){Ct(g,w,8)}function Un(g,w){Ct(g,w,16)}function sn(g,w){var C;for(C=0;16>C;++C)r(g,w+32*C,g,w-32,16)}function Ri(g,w){var C;for(C=16;0<C;--C)a(g,w,g[w-1],16),w+=32}function ea(g,w,C){var L;for(L=0;16>L;++L)a(w,C+32*L,g,16)}function Ja(g,w){var C,L=16;for(C=0;16>C;++C)L+=g[w-1+32*C]+g[w+C-32];ea(L>>5,g,w)}function Ic(g,w){var C,L=8;for(C=0;16>C;++C)L+=g[w-1+32*C];ea(L>>4,g,w)}function fa(g,w){var C,L=8;for(C=0;16>C;++C)L+=g[w+C-32];ea(L>>4,g,w)}function Za(g,w){ea(128,g,w)}function Wt(g,w,C){return g+2*w+C+2>>2}function Fc(g,w){var C,L=w-32;for(L=new Uint8Array([Wt(g[L-1],g[L+0],g[L+1]),Wt(g[L+0],g[L+1],g[L+2]),Wt(g[L+1],g[L+2],g[L+3]),Wt(g[L+2],g[L+3],g[L+4])]),C=0;4>C;++C)r(g,w+32*C,L,0,L.length)}function Fd(g,w){var C=g[w-1],L=g[w-1+32],z=g[w-1+64],H=g[w-1+96];Be(g,w+0,16843009*Wt(g[w-1-32],C,L)),Be(g,w+32,16843009*Wt(C,L,z)),Be(g,w+64,16843009*Wt(L,z,H)),Be(g,w+96,16843009*Wt(z,H,H))}function $o(g,w){var C,L=4;for(C=0;4>C;++C)L+=g[w+C-32]+g[w-1+32*C];for(L>>=3,C=0;4>C;++C)a(g,w+32*C,L,4)}function Ca(g,w){var C=g[w-1+0],L=g[w-1+32],z=g[w-1+64],H=g[w-1-32],G=g[w+0-32],J=g[w+1-32],re=g[w+2-32],ce=g[w+3-32];g[w+0+96]=Wt(L,z,g[w-1+96]),g[w+1+96]=g[w+0+64]=Wt(C,L,z),g[w+2+96]=g[w+1+64]=g[w+0+32]=Wt(H,C,L),g[w+3+96]=g[w+2+64]=g[w+1+32]=g[w+0+0]=Wt(G,H,C),g[w+3+64]=g[w+2+32]=g[w+1+0]=Wt(J,G,H),g[w+3+32]=g[w+2+0]=Wt(re,J,G),g[w+3+0]=Wt(ce,re,J)}function La(g,w){var C=g[w+1-32],L=g[w+2-32],z=g[w+3-32],H=g[w+4-32],G=g[w+5-32],J=g[w+6-32],re=g[w+7-32];g[w+0+0]=Wt(g[w+0-32],C,L),g[w+1+0]=g[w+0+32]=Wt(C,L,z),g[w+2+0]=g[w+1+32]=g[w+0+64]=Wt(L,z,H),g[w+3+0]=g[w+2+32]=g[w+1+64]=g[w+0+96]=Wt(z,H,G),g[w+3+32]=g[w+2+64]=g[w+1+96]=Wt(H,G,J),g[w+3+64]=g[w+2+96]=Wt(G,J,re),g[w+3+96]=Wt(J,re,re)}function ta(g,w){var C=g[w-1+0],L=g[w-1+32],z=g[w-1+64],H=g[w-1-32],G=g[w+0-32],J=g[w+1-32],re=g[w+2-32],ce=g[w+3-32];g[w+0+0]=g[w+1+64]=H+G+1>>1,g[w+1+0]=g[w+2+64]=G+J+1>>1,g[w+2+0]=g[w+3+64]=J+re+1>>1,g[w+3+0]=re+ce+1>>1,g[w+0+96]=Wt(z,L,C),g[w+0+64]=Wt(L,C,H),g[w+0+32]=g[w+1+96]=Wt(C,H,G),g[w+1+32]=g[w+2+96]=Wt(H,G,J),g[w+2+32]=g[w+3+96]=Wt(G,J,re),g[w+3+32]=Wt(J,re,ce)}function Qa(g,w){var C=g[w+0-32],L=g[w+1-32],z=g[w+2-32],H=g[w+3-32],G=g[w+4-32],J=g[w+5-32],re=g[w+6-32],ce=g[w+7-32];g[w+0+0]=C+L+1>>1,g[w+1+0]=g[w+0+64]=L+z+1>>1,g[w+2+0]=g[w+1+64]=z+H+1>>1,g[w+3+0]=g[w+2+64]=H+G+1>>1,g[w+0+32]=Wt(C,L,z),g[w+1+32]=g[w+0+96]=Wt(L,z,H),g[w+2+32]=g[w+1+96]=Wt(z,H,G),g[w+3+32]=g[w+2+96]=Wt(H,G,J),g[w+3+64]=Wt(G,J,re),g[w+3+96]=Wt(J,re,ce)}function Bc(g,w){var C=g[w-1+0],L=g[w-1+32],z=g[w-1+64],H=g[w-1+96];g[w+0+0]=C+L+1>>1,g[w+2+0]=g[w+0+32]=L+z+1>>1,g[w+2+32]=g[w+0+64]=z+H+1>>1,g[w+1+0]=Wt(C,L,z),g[w+3+0]=g[w+1+32]=Wt(L,z,H),g[w+3+32]=g[w+1+64]=Wt(z,H,H),g[w+3+64]=g[w+2+64]=g[w+0+96]=g[w+1+96]=g[w+2+96]=g[w+3+96]=H}function Oi(g,w){var C=g[w-1+0],L=g[w-1+32],z=g[w-1+64],H=g[w-1+96],G=g[w-1-32],J=g[w+0-32],re=g[w+1-32],ce=g[w+2-32];g[w+0+0]=g[w+2+32]=C+G+1>>1,g[w+0+32]=g[w+2+64]=L+C+1>>1,g[w+0+64]=g[w+2+96]=z+L+1>>1,g[w+0+96]=H+z+1>>1,g[w+3+0]=Wt(J,re,ce),g[w+2+0]=Wt(G,J,re),g[w+1+0]=g[w+3+32]=Wt(C,G,J),g[w+1+32]=g[w+3+64]=Wt(L,C,G),g[w+1+64]=g[w+3+96]=Wt(z,L,C),g[w+1+96]=Wt(H,z,L)}function Il(g,w){var C;for(C=0;8>C;++C)r(g,w+32*C,g,w-32,8)}function ei(g,w){var C;for(C=0;8>C;++C)a(g,w,g[w-1],8),w+=32}function Di(g,w,C){var L;for(L=0;8>L;++L)a(w,C+32*L,g,8)}function Go(g,w){var C,L=8;for(C=0;8>C;++C)L+=g[w+C-32]+g[w-1+32*C];Di(L>>4,g,w)}function fn(g,w){var C,L=4;for(C=0;8>C;++C)L+=g[w+C-32];Di(L>>3,g,w)}function Ea(g,w){var C,L=4;for(C=0;8>C;++C)L+=g[w-1+32*C];Di(L>>3,g,w)}function po(g,w){Di(128,g,w)}function Pa(g,w,C){var L=g[w-C],z=g[w+0],H=3*(z-L)+Wd[1020+g[w-2*C]-g[w+C]],G=tl[112+(H+4>>3)];g[w-C]=Kr[255+L+tl[112+(H+3>>3)]],g[w+0]=Kr[255+z-G]}function Yo(g,w,C,L){var z=g[w+0],H=g[w+C];return ba[255+g[w-2*C]-g[w-C]]>L||ba[255+H-z]>L}function Ko(g,w,C,L){return 4*ba[255+g[w-C]-g[w+0]]+ba[255+g[w-2*C]-g[w+C]]<=L}function go(g,w,C,L,z){var H=g[w-3*C],G=g[w-2*C],J=g[w-C],re=g[w+0],ce=g[w+C],ye=g[w+2*C],Pe=g[w+3*C];return 4*ba[255+J-re]+ba[255+G-ce]>L?0:ba[255+g[w-4*C]-H]<=z&&ba[255+H-G]<=z&&ba[255+G-J]<=z&&ba[255+Pe-ye]<=z&&ba[255+ye-ce]<=z&&ba[255+ce-re]<=z}function Ii(g,w,C,L){var z=2*L+1;for(L=0;16>L;++L)Ko(g,w+L,C,z)&&Pa(g,w+L,C)}function ti(g,w,C,L){var z=2*L+1;for(L=0;16>L;++L)Ko(g,w+L*C,1,z)&&Pa(g,w+L*C,1)}function Fl(g,w,C,L){var z;for(z=3;0<z;--z)Ii(g,w+=4*C,C,L)}function zc(g,w,C,L){var z;for(z=3;0<z;--z)ti(g,w+=4,C,L)}function sa(g,w,C,L,z,H,G,J){for(H=2*H+1;0<z--;){if(go(g,w,C,H,G))if(Yo(g,w,C,J))Pa(g,w,C);else{var re=g,ce=w,ye=C,Pe=re[ce-2*ye],le=re[ce-ye],we=re[ce+0],ke=re[ce+ye],Ie=re[ce+2*ye],Ee=27*(Ue=Wd[1020+3*(we-le)+Wd[1020+Pe-ke]])+63>>7,He=18*Ue+63>>7,Ue=9*Ue+63>>7;re[ce-3*ye]=Kr[255+re[ce-3*ye]+Ue],re[ce-2*ye]=Kr[255+Pe+He],re[ce-ye]=Kr[255+le+Ee],re[ce+0]=Kr[255+we-Ee],re[ce+ye]=Kr[255+ke-He],re[ce+2*ye]=Kr[255+Ie-Ue]}w+=L}}function si(g,w,C,L,z,H,G,J){for(H=2*H+1;0<z--;){if(go(g,w,C,H,G))if(Yo(g,w,C,J))Pa(g,w,C);else{var re=g,ce=w,ye=C,Pe=re[ce-ye],le=re[ce+0],we=re[ce+ye],ke=tl[112+(4+(Ie=3*(le-Pe))>>3)],Ie=tl[112+(Ie+3>>3)],Ee=ke+1>>1;re[ce-2*ye]=Kr[255+re[ce-2*ye]+Ee],re[ce-ye]=Kr[255+Pe+Ie],re[ce+0]=Kr[255+le-ke],re[ce+ye]=Kr[255+we-Ee]}w+=L}}function _(g,w,C,L,z,H){sa(g,w,C,1,16,L,z,H)}function U(g,w,C,L,z,H){sa(g,w,1,C,16,L,z,H)}function de(g,w,C,L,z,H){var G;for(G=3;0<G;--G)si(g,w+=4*C,C,1,16,L,z,H)}function xe(g,w,C,L,z,H){var G;for(G=3;0<G;--G)si(g,w+=4,1,C,16,L,z,H)}function Se(g,w,C,L,z,H,G,J){sa(g,w,z,1,8,H,G,J),sa(C,L,z,1,8,H,G,J)}function We(g,w,C,L,z,H,G,J){sa(g,w,1,z,8,H,G,J),sa(C,L,1,z,8,H,G,J)}function Xe(g,w,C,L,z,H,G,J){si(g,w+4*z,z,1,8,H,G,J),si(C,L+4*z,z,1,8,H,G,J)}function bt(g,w,C,L,z,H,G,J){si(g,w+4,1,z,8,H,G,J),si(C,L+4,1,z,8,H,G,J)}function kt(){this.ba=new fs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ts,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ht(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Qt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function As(){this.ua=0,this.Wa=new st,this.vb=new st,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new ie}function nr(){this.xb=this.a=0,this.l=new fo,this.ca=new fs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new V,this.Pb=0,this.wd=new V,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new As,this.ab=0,this.gc=c(4,Qt),this.Oc=0}function Ar(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function zs(g,w,C,L,z,H,G){for(g=g==null?0:g[w+0],w=0;w<G;++w)z[H+w]=g+C[L+w]&255,g=z[H+w]}function Cr(g,w,C,L,z,H,G){var J;if(g==null)zs(null,null,C,L,z,H,G);else for(J=0;J<G;++J)z[H+J]=g[w+J]+C[L+J]&255}function Lr(g,w,C,L,z,H,G){if(g==null)zs(null,null,C,L,z,H,G);else{var J,re=g[w+0],ce=re,ye=re;for(J=0;J<G;++J)ce=ye+(re=g[w+J])-ce,ye=C[L+J]+(-256&ce?0>ce?0:255:ce)&255,ce=re,z[H+J]=ye}}function rn(g,w,C,L){var z=w.width,H=w.o;if(e(g!=null&&w!=null),0>C||0>=L||C+L>H)return null;if(!g.Cc){if(g.ga==null){var G;if(g.ga=new Ar,(G=g.ga==null)||(G=w.width*w.o,e(g.Gb.length==0),g.Gb=i(G),g.Uc=0,g.Gb==null?G=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,G=1),G=!G),!G){G=g.ga;var J=g.Fa,re=g.P,ce=g.qc,ye=g.mb,Pe=g.nb,le=re+1,we=ce-1,ke=G.l;if(e(J!=null&&ye!=null&&w!=null),mi[0]=null,mi[1]=zs,mi[2]=Cr,mi[3]=Lr,G.ca=ye,G.tb=Pe,G.c=w.width,G.i=w.height,e(0<G.c&&0<G.i),1>=ce)w=0;else if(G.$a=3&J[re+0],G.Z=J[re+0]>>2&3,G.Lc=J[re+0]>>4&3,re=J[re+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||re)w=0;else if(ke.put=Lt,ke.ac=jn,ke.bc=kr,ke.ma=G,ke.width=w.width,ke.height=w.height,ke.Da=w.Da,ke.v=w.v,ke.va=w.va,ke.j=w.j,ke.o=w.o,G.$a)e:{e(G.$a==1),w=_s();t:for(;;){if(w==null){w=0;break e}if(e(G!=null),G.mc=w,w.c=G.c,w.i=G.i,w.l=G.l,w.l.ma=G,w.l.width=G.c,w.l.height=G.i,w.a=0,pe(w.m,J,le,we),!Fs(G.c,G.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Cs(w.s)?(G.ic=1,J=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i(J),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(G.ic=0,w=Qn(w,G.c)),!w))break t;w=1;break e}G.mc=null,w=0}else w=we>=G.c*G.i;G=!w}if(G)return null;g.ga.Lc!=1?g.Ga=0:L=H-C}e(g.ga!=null),e(C+L<=H);e:{if(w=(J=g.ga).c,H=J.l.o,J.$a==0){if(le=g.rc,we=g.Vc,ke=g.Fa,re=g.P+1+C*w,ce=g.mb,ye=g.nb+C*w,e(re<=g.P+g.qc),J.Z!=0)for(e(mi[J.Z]!=null),G=0;G<L;++G)mi[J.Z](le,we,ke,re,ce,ye,w),le=ce,we=ye,ye+=w,re+=w;else for(G=0;G<L;++G)r(ce,ye,ke,re,w),le=ce,we=ye,ye+=w,re+=w;g.rc=le,g.Vc=we}else{if(e(J.mc!=null),w=C+L,e((G=J.mc)!=null),e(w<=G.i),G.C>=w)w=1;else if(J.ic||Xo(),J.ic){J=G.V,le=G.Ba,we=G.c;var Ie=G.i,Ee=(ke=1,re=G.$/we,ce=G.$%we,ye=G.m,Pe=G.s,G.$),He=we*Ie,Ue=we*w,Je=Pe.wc,Ye=Ee<Ue?ht(Pe,ce,re):null;e(Ee<=He),e(w<=Ie),e(Cs(Pe));t:for(;;){for(;!ye.h&&Ee<Ue;){if(ce&Je||(Ye=ht(Pe,ce,re)),e(Ye!=null),ve(ye),256>(Ie=Ft(Ye.G[0],Ye.H[0],ye)))J[le+Ee]=Ie,++Ee,++ce>=we&&(ce=0,++re<=w&&!(re%16)&&Zt(G,re));else{if(!(280>Ie)){ke=0;break t}Ie=as(Ie-256,ye);var St,mt=Ft(Ye.G[4],Ye.H[4],ye);if(ve(ye),!(Ee>=(mt=Ps(we,mt=as(mt,ye)))&&He-Ee>=Ie)){ke=0;break t}for(St=0;St<Ie;++St)J[le+Ee+St]=J[le+Ee+St-mt];for(Ee+=Ie,ce+=Ie;ce>=we;)ce-=we,++re<=w&&!(re%16)&&Zt(G,re);Ee<Ue&&ce&Je&&(Ye=ht(Pe,ce,re))}e(ye.h==he(ye))}Zt(G,re>w?w:re);break t}!ke||ye.h&&Ee<He?(ke=0,G.a=ye.h?5:3):G.$=Ee,w=ke}else w=vs(G,G.V,G.Ba,G.c,G.i,w,br);if(!w){L=0;break e}}C+L>=H&&(g.Cc=1),L=1}if(!L)return null;if(g.Cc&&((L=g.ga)!=null&&(L.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+C*z}function Fi(g,w,C,L,z,H){for(;0<z--;){var G,J=g,re=w+(C?1:0),ce=g,ye=w+(C?0:3);for(G=0;G<L;++G){var Pe=ce[ye+4*G];Pe!=255&&(Pe*=32897,J[re+4*G+0]=J[re+4*G+0]*Pe>>23,J[re+4*G+1]=J[re+4*G+1]*Pe>>23,J[re+4*G+2]=J[re+4*G+2]*Pe>>23)}w+=H}}function xo(g,w,C,L,z){for(;0<L--;){var H;for(H=0;H<C;++H){var G=g[w+2*H+0],J=15&(ce=g[w+2*H+1]),re=4369*J,ce=(240&ce|ce>>4)*re>>16;g[w+2*H+0]=(240&G|G>>4)*re>>16&240|(15&G|G<<4)*re>>16>>4&15,g[w+2*H+1]=240&ce|J}w+=z}}function Ku(g,w,C,L,z,H,G,J){var re,ce,ye=255;for(ce=0;ce<z;++ce){for(re=0;re<L;++re){var Pe=g[w+re];H[G+4*re]=Pe,ye&=Pe}w+=C,G+=J}return ye!=255}function Bd(g,w,C,L,z){var H;for(H=0;H<z;++H)C[L+H]=g[w+H]>>8}function Xo(){$l=Fi,na=xo,aa=Ku,Qo=Bd}function Ta(g,w,C){I[g]=function(L,z,H,G,J,re,ce,ye,Pe,le,we,ke,Ie,Ee,He,Ue,Je){var Ye,St=Je-1>>1,mt=J[re+0]|ce[ye+0]<<16,Gt=Pe[le+0]|we[ke+0]<<16;e(L!=null);var gt=3*mt+Gt+131074>>2;for(w(L[z+0],255&gt,gt>>16,Ie,Ee),H!=null&&(gt=3*Gt+mt+131074>>2,w(H[G+0],255&gt,gt>>16,He,Ue)),Ye=1;Ye<=St;++Ye){var ps=J[re+Ye]|ce[ye+Ye]<<16,Er=Pe[le+Ye]|we[ke+Ye]<<16,Vt=mt+ps+Gt+Er+524296,yt=Vt+2*(ps+Gt)>>3;gt=yt+mt>>1,mt=(Vt=Vt+2*(mt+Er)>>3)+ps>>1,w(L[z+2*Ye-1],255&gt,gt>>16,Ie,Ee+(2*Ye-1)*C),w(L[z+2*Ye-0],255&mt,mt>>16,Ie,Ee+(2*Ye-0)*C),H!=null&&(gt=Vt+Gt>>1,mt=yt+Er>>1,w(H[G+2*Ye-1],255&gt,gt>>16,He,Ue+(2*Ye-1)*C),w(H[G+2*Ye+0],255&mt,mt>>16,He,Ue+(2*Ye+0)*C)),mt=ps,Gt=Er}1&Je||(gt=3*mt+Gt+131074>>2,w(L[z+Je-1],255&gt,gt>>16,Ie,Ee+(Je-1)*C),H!=null&&(gt=3*Gt+mt+131074>>2,w(H[G+Je-1],255&gt,gt>>16,He,Ue+(Je-1)*C)))}}function Uc(){Xr[pn]=Gi,Xr[Gl]=pi,Xr[hi]=_o,Xr[Vc]=Gd,Xr[sl]=Yd,Xr[qi]=Xl,Xr[Vd]=Kd,Xr[$c]=pi,Xr[No]=Gd,Xr[Hi]=Yd,Xr[Yl]=Xl}function yo(g){return g&-16384?0>g?0:255:g>>Ap}function ma(g,w){return yo((19077*g>>8)+(26149*w>>8)-14234)}function Gr(g,w,C){return yo((19077*g>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function ri(g,w){return yo((19077*g>>8)+(33050*w>>8)-17685)}function ni(g,w,C,L,z){L[z+0]=ma(g,C),L[z+1]=Gr(g,w,C),L[z+2]=ri(g,w)}function Jo(g,w,C,L,z){L[z+0]=ri(g,w),L[z+1]=Gr(g,w,C),L[z+2]=ma(g,C)}function Bl(g,w,C,L,z){var H=Gr(g,w,C);w=H<<3&224|ri(g,w)>>3,L[z+0]=248&ma(g,C)|H>>5,L[z+1]=w}function mn(g,w,C,L,z){var H=240&ri(g,w)|15;L[z+0]=240&ma(g,C)|Gr(g,w,C)>>4,L[z+1]=H}function Bi(g,w,C,L,z){L[z+0]=255,ni(g,w,C,L,z+1)}function zl(g,w,C,L,z){Jo(g,w,C,L,z),L[z+3]=255}function zd(g,w,C,L,z){ni(g,w,C,L,z),L[z+3]=255}function Rr(g,w){return 0>g?0:g>w?w:g}function ra(g,w,C){I[g]=function(L,z,H,G,J,re,ce,ye,Pe){for(var le=ye+(-2&Pe)*C;ye!=le;)w(L[z+0],H[G+0],J[re+0],ce,ye),w(L[z+1],H[G+0],J[re+0],ce,ye+C),z+=2,++G,++re,ye+=2*C;1&Pe&&w(L[z+0],H[G+0],J[re+0],ce,ye)}}function Ul(g,w,C){return C==0?g==0?w==0?6:5:w==0?4:0:C}function zi(g,w,C,L,z){switch(g>>>30){case 3:ar(w,C,L,z,0);break;case 2:ui(w,C,L,z);break;case 1:Cn(w,C,L,z)}}function pa(g,w){var C,L,z=w.M,H=w.Nb,G=g.oc,J=g.pc+40,re=g.oc,ce=g.pc+584,ye=g.oc,Pe=g.pc+600;for(C=0;16>C;++C)G[J+32*C-1]=129;for(C=0;8>C;++C)re[ce+32*C-1]=129,ye[Pe+32*C-1]=129;for(0<z?G[J-1-32]=re[ce-1-32]=ye[Pe-1-32]=129:(a(G,J-32-1,127,21),a(re,ce-32-1,127,9),a(ye,Pe-32-1,127,9)),L=0;L<g.za;++L){var le=w.ya[w.aa+L];if(0<L){for(C=-1;16>C;++C)r(G,J+32*C-4,G,J+32*C+12,4);for(C=-1;8>C;++C)r(re,ce+32*C-4,re,ce+32*C+4,4),r(ye,Pe+32*C-4,ye,Pe+32*C+4,4)}var we=g.Gd,ke=g.Hd+L,Ie=le.ad,Ee=le.Hc;if(0<z&&(r(G,J-32,we[ke].y,0,16),r(re,ce-32,we[ke].f,0,8),r(ye,Pe-32,we[ke].ea,0,8)),le.Za){var He=G,Ue=J-32+16;for(0<z&&(L>=g.za-1?a(He,Ue,we[ke].y[15],4):r(He,Ue,we[ke+1].y,0,4)),C=0;4>C;C++)He[Ue+128+C]=He[Ue+256+C]=He[Ue+384+C]=He[Ue+0+C];for(C=0;16>C;++C,Ee<<=2)He=G,Ue=J+il[C],Ln[le.Ob[C]](He,Ue),zi(Ee,Ie,16*+C,He,Ue)}else if(He=Ul(L,z,le.Ob[0]),$i[He](G,J),Ee!=0)for(C=0;16>C;++C,Ee<<=2)zi(Ee,Ie,16*+C,G,J+il[C]);for(C=le.Gc,He=Ul(L,z,le.Dd),oa[He](re,ce),oa[He](ye,Pe),Ee=Ie,He=re,Ue=ce,255&(le=0|C)&&(170&le?xa(Ee,256,He,Ue):Zo(Ee,256,He,Ue)),le=ye,Ee=Pe,255&(C>>=8)&&(170&C?xa(Ie,320,le,Ee):Zo(Ie,320,le,Ee)),z<g.Ub-1&&(r(we[ke].y,0,G,J+480,16),r(we[ke].f,0,re,ce+224,8),r(we[ke].ea,0,ye,Pe+224,8)),C=8*H*g.B,we=g.sa,ke=g.ta+16*L+16*H*g.R,Ie=g.qa,le=g.ra+8*L+C,Ee=g.Ha,He=g.Ia+8*L+C,C=0;16>C;++C)r(we,ke+C*g.R,G,J+32*C,16);for(C=0;8>C;++C)r(Ie,le+C*g.B,re,ce+32*C,8),r(Ee,He+C*g.B,ye,Pe+32*C,8)}}function ql(g,w,C,L,z,H,G,J,re){var ce=[0],ye=[0],Pe=0,le=re!=null?re.kd:0,we=re??new Ht;if(g==null||12>C)return 7;we.data=g,we.w=w,we.ha=C,w=[w],C=[C],we.gb=[we.gb];e:{var ke=w,Ie=C,Ee=we.gb;if(e(g!=null),e(Ie!=null),e(Ee!=null),Ee[0]=0,12<=Ie[0]&&!t(g,ke[0],"RIFF")){if(t(g,ke[0]+8,"WEBP")){Ee=3;break e}var He=je(g,ke[0]+4);if(12>He||4294967286<He){Ee=3;break e}if(le&&He>Ie[0]-8){Ee=7;break e}Ee[0]=He,ke[0]+=12,Ie[0]-=12}Ee=0}if(Ee!=0)return Ee;for(He=0<we.gb[0],C=C[0];;){e:{var Ue=g;Ie=w,Ee=C;var Je=ce,Ye=ye,St=ke=[0];if((gt=Pe=[Pe])[0]=0,8>Ee[0])Ee=7;else{if(!t(Ue,Ie[0],"VP8X")){if(je(Ue,Ie[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var mt=je(Ue,Ie[0]+8),Gt=1+Fe(Ue,Ie[0]+12);if(2147483648<=Gt*(Ue=1+Fe(Ue,Ie[0]+15))){Ee=3;break e}St!=null&&(St[0]=mt),Je!=null&&(Je[0]=Gt),Ye!=null&&(Ye[0]=Ue),Ie[0]+=18,Ee[0]-=18,gt[0]=1}Ee=0}}if(Pe=Pe[0],ke=ke[0],Ee!=0)return Ee;if(Ie=!!(2&ke),!He&&Pe)return 3;if(H!=null&&(H[0]=!!(16&ke)),G!=null&&(G[0]=Ie),J!=null&&(J[0]=0),G=ce[0],ke=ye[0],Pe&&Ie&&re==null){Ee=0;break}if(4>C){Ee=7;break}if(He&&Pe||!He&&!Pe&&!t(g,w[0],"ALPH")){C=[C],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{mt=g,Ee=w,He=C;var gt=we.gb;Je=we.na,Ye=we.P,St=we.Sa,Gt=22,e(mt!=null),e(He!=null),Ue=Ee[0];var ps=He[0];for(e(Je!=null),e(St!=null),Je[0]=null,Ye[0]=null,St[0]=0;;){if(Ee[0]=Ue,He[0]=ps,8>ps){Ee=7;break e}var Er=je(mt,Ue+4);if(4294967286<Er){Ee=3;break e}var Vt=8+Er+1&-2;if(Gt+=Vt,0<gt&&Gt>gt){Ee=3;break e}if(!t(mt,Ue,"VP8 ")||!t(mt,Ue,"VP8L")){Ee=0;break e}if(ps[0]<Vt){Ee=7;break e}t(mt,Ue,"ALPH")||(Je[0]=mt,Ye[0]=Ue+8,St[0]=Er),Ue+=Vt,ps-=Vt}}if(C=C[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Ee!=0)break}C=[C],we.Ja=[we.Ja],we.xa=[we.xa];e:if(gt=g,Ee=w,He=C,Je=we.gb[0],Ye=we.Ja,St=we.xa,mt=Ee[0],Ue=!t(gt,mt,"VP8 "),Gt=!t(gt,mt,"VP8L"),e(gt!=null),e(He!=null),e(Ye!=null),e(St!=null),8>He[0])Ee=7;else{if(Ue||Gt){if(gt=je(gt,mt+4),12<=Je&&gt>Je-12){Ee=3;break e}if(le&&gt>He[0]-8){Ee=7;break e}Ye[0]=gt,Ee[0]+=8,He[0]-=8,St[0]=Gt}else St[0]=5<=He[0]&&gt[mt+0]==47&&!(gt[mt+4]>>5),Ye[0]=He[0];Ee=0}if(C=C[0],we.Ja=we.Ja[0],we.xa=we.xa[0],w=w[0],Ee!=0)break;if(4294967286<we.Ja)return 3;if(J==null||Ie||(J[0]=we.xa?2:1),G=[G],ke=[ke],we.xa){if(5>C){Ee=7;break}J=G,le=ke,Ie=H,g==null||5>C?g=0:5<=C&&g[w+0]==47&&!(g[w+4]>>5)?(He=[0],gt=[0],Je=[0],pe(Ye=new V,g,w,C),ms(Ye,He,gt,Je)?(J!=null&&(J[0]=He[0]),le!=null&&(le[0]=gt[0]),Ie!=null&&(Ie[0]=Je[0]),g=1):g=0):g=0}else{if(10>C){Ee=7;break}J=ke,g==null||10>C||!Ho(g,w+3,C-3)?g=0:(le=g[w+0]|g[w+1]<<8|g[w+2]<<16,Ie=16383&(g[w+7]<<8|g[w+6]),g=16383&(g[w+9]<<8|g[w+8]),1&le||3<(le>>1&7)||!(le>>4&1)||le>>5>=we.Ja||!Ie||!g?g=0:(G&&(G[0]=Ie),J&&(J[0]=g),g=1))}if(!g||(G=G[0],ke=ke[0],Pe&&(ce[0]!=G||ye[0]!=ke)))return 3;re!=null&&(re[0]=we,re.offset=w-re.w,e(4294967286>w-re.w),e(re.offset==re.ha-C));break}return Ee==0||Ee==7&&Pe&&re==null?(H!=null&&(H[0]|=we.na!=null&&0<we.na.length),L!=null&&(L[0]=G),z!=null&&(z[0]=ke),0):Ee}function nn(g,w,C){var L=w.width,z=w.height,H=0,G=0,J=L,re=z;if(w.Da=g!=null&&0<g.Da,w.Da&&(J=g.cd,re=g.bd,H=g.v,G=g.j,11>C||(H&=-2,G&=-2),0>H||0>G||0>=J||0>=re||H+J>L||G+re>z))return 0;if(w.v=H,w.j=G,w.va=H+J,w.o=G+re,w.U=J,w.T=re,w.da=g!=null&&0<g.da,w.da){if(!it(J,re,C=[g.ib],H=[g.hb]))return 0;w.ib=C[0],w.hb=H[0]}return w.ob=g!=null&&g.ob,w.Kb=g==null||!g.Sd,w.da&&(w.ob=w.ib<3*L/4&&w.hb<3*z/4,w.Kb=0),1}function kn(g){if(g==null)return 2;if(11>g.S){var w=g.f.RGBA;w.fb+=(g.height-1)*w.A,w.A=-w.A}else w=g.f.kb,g=g.height,w.O+=(g-1)*w.fa,w.fa=-w.fa,w.N+=(g-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(g-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(g-1)*w.lb,w.lb=-w.lb);return 0}function bo(g,w,C,L){if(L==null||0>=g||0>=w)return 2;if(C!=null){if(C.Da){var z=C.cd,H=C.bd,G=-2&C.v,J=-2&C.j;if(0>G||0>J||0>=z||0>=H||G+z>g||J+H>w)return 2;g=z,w=H}if(C.da){if(!it(g,w,z=[C.ib],H=[C.hb]))return 2;g=z[0],w=H[0]}}L.width=g,L.height=w;e:{var re=L.width,ce=L.height;if(g=L.S,0>=re||0>=ce||!(g>=pn&&13>g))g=2;else{if(0>=L.Rd&&L.sd==null){G=H=z=w=0;var ye=(J=re*em[g])*ce;if(11>g||(H=(ce+1)/2*(w=(re+1)/2),g==12&&(G=(z=re)*ce)),(ce=i(ye+2*H+G))==null){g=1;break e}L.sd=ce,11>g?((re=L.f.RGBA).eb=ce,re.fb=0,re.A=J,re.size=ye):((re=L.f.kb).y=ce,re.O=0,re.fa=J,re.Fd=ye,re.f=ce,re.N=0+ye,re.Ab=w,re.Cd=H,re.ea=ce,re.W=0+ye+H,re.Db=w,re.Ed=H,g==12&&(re.F=ce,re.J=0+ye+2*H),re.Tc=G,re.lb=z)}if(w=1,z=L.S,H=L.width,G=L.height,z>=pn&&13>z)if(11>z)g=L.f.RGBA,w&=(J=Math.abs(g.A))*(G-1)+H<=g.size,w&=J>=H*em[z],w&=g.eb!=null;else{g=L.f.kb,J=(H+1)/2,ye=(G+1)/2,re=Math.abs(g.fa),ce=Math.abs(g.Ab);var Pe=Math.abs(g.Db),le=Math.abs(g.lb),we=le*(G-1)+H;w&=re*(G-1)+H<=g.Fd,w&=ce*(ye-1)+J<=g.Cd,w=(w&=Pe*(ye-1)+J<=g.Ed)&re>=H&ce>=J&Pe>=J,w&=g.y!=null,w&=g.f!=null,w&=g.ea!=null,z==12&&(w&=le>=H,w&=we<=g.Tc,w&=g.F!=null)}else w=0;g=w?0:2}}return g!=0||C!=null&&C.fd&&(g=kn(L)),g}var ga=64,ai=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hl=24,Ui=32,dr=8,Xu=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(g){return g},I.Predictor2=function(g,w,C){return w[C+0]},I.Predictor3=function(g,w,C){return w[C+1]},I.Predictor4=function(g,w,C){return w[C-1]},I.Predictor5=function(g,w,C){return dt(dt(g,w[C+1]),w[C+0])},I.Predictor6=function(g,w,C){return dt(g,w[C-1])},I.Predictor7=function(g,w,C){return dt(g,w[C+0])},I.Predictor8=function(g,w,C){return dt(w[C-1],w[C+0])},I.Predictor9=function(g,w,C){return dt(w[C+0],w[C+1])},I.Predictor10=function(g,w,C){return dt(dt(g,w[C-1]),dt(w[C+0],w[C+1]))},I.Predictor11=function(g,w,C){var L=w[C+0];return 0>=ut(L>>24&255,g>>24&255,(w=w[C-1])>>24&255)+ut(L>>16&255,g>>16&255,w>>16&255)+ut(L>>8&255,g>>8&255,w>>8&255)+ut(255&L,255&g,255&w)?L:g},I.Predictor12=function(g,w,C){var L=w[C+0];return(Rt((g>>24&255)+(L>>24&255)-((w=w[C-1])>>24&255))<<24|Rt((g>>16&255)+(L>>16&255)-(w>>16&255))<<16|Rt((g>>8&255)+(L>>8&255)-(w>>8&255))<<8|Rt((255&g)+(255&L)-(255&w)))>>>0},I.Predictor13=function(g,w,C){var L=w[C-1];return(ft((g=dt(g,w[C+0]))>>24&255,L>>24&255)<<24|ft(g>>16&255,L>>16&255)<<16|ft(g>>8&255,L>>8&255)<<8|ft(255&g,255&L))>>>0};var ii=I.PredictorAdd0;I.PredictorAdd1=_t,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var oi=I.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var Wl,qc=I.ColorIndexInverseTransform,Yr=I.MapARGB,li=I.VP8LColorIndexInverseTransformAlpha,vo=I.MapAlpha,wo=I.VP8LPredictorsAdd=[];wo.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var ci,Vl,An,di,Ts,Us,Qs,ar,ui,xa,Cn,Zo,Ju,jo,Zu,Qu,eh,$f,Gf,Yf,th,sh,Ud,ya,$l,na,aa,Qo,qd=i(511),Hc=i(2041),Wc=i(225),Hd=i(767),el=0,Wd=Hc,tl=Wc,Kr=Hd,ba=qd,pn=0,Gl=1,hi=2,Vc=3,sl=4,qi=5,Vd=6,$c=7,No=8,Hi=9,Yl=10,$d=[2,3,7],va=[3,3,11],ia=[280,256,256,256,40],rl=[0,1,1,1,0],Wi=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Vi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kf=8,Gc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Yc=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Or=null,ur=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ms=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],So=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fi=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],rh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],al=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xf=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$i=[],Ln=[],oa=[],Jf=1,Kl=2,mi=[],Xr=[];Ta("UpsampleRgbLinePair",ni,3),Ta("UpsampleBgrLinePair",Jo,3),Ta("UpsampleRgbaLinePair",zd,4),Ta("UpsampleBgraLinePair",zl,4),Ta("UpsampleArgbLinePair",Bi,4),Ta("UpsampleRgba4444LinePair",mn,2),Ta("UpsampleRgb565LinePair",Bl,2);var Gi=I.UpsampleRgbLinePair,_o=I.UpsampleBgrLinePair,pi=I.UpsampleRgbaLinePair,Gd=I.UpsampleBgraLinePair,Yd=I.UpsampleArgbLinePair,Xl=I.UpsampleRgba4444LinePair,Kd=I.UpsampleRgb565LinePair,gi=16,Dr=1<<gi-1,ko=-227,Xd=482,Ap=6,Zf=0,Cp=i(256),Ir=i(256),nh=i(256),Kc=i(256),Xc=i(Xd-ko),ah=i(Xd-ko);ra("YuvToRgbRow",ni,3),ra("YuvToBgrRow",Jo,3),ra("YuvToRgbaRow",zd,4),ra("YuvToBgraRow",zl,4),ra("YuvToArgbRow",Bi,4),ra("YuvToRgba4444Row",mn,2),ra("YuvToRgb565Row",Bl,2);var il=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yi=[0,2,8],Lp=[8,7,6,4,4,2,2,2,1,1,1,1],Qf=1;this.WebPDecodeRGBA=function(g,w,C,L,z){var H=Gl,G=new kt,J=new fs;G.ba=J,J.S=H,J.width=[J.width],J.height=[J.height];var re=J.width,ce=J.height,ye=new Ot;if(ye==null||g==null)var Pe=2;else e(ye!=null),Pe=ql(g,w,C,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Pe!=0?re=0:(re!=null&&(re[0]=ye.width[0]),ce!=null&&(ce[0]=ye.height[0]),re=1),re){J.width=J.width[0],J.height=J.height[0],L!=null&&(L[0]=J.width),z!=null&&(z[0]=J.height);e:{if(L=new fo,(z=new Ht).data=g,z.w=w,z.ha=C,z.kd=1,w=[0],e(z!=null),((g=ql(z.data,z.w,z.ha,null,null,null,w,null,z))==0||g==7)&&w[0]&&(g=4),(w=g)==0){if(e(G!=null),L.data=z.data,L.w=z.w+z.offset,L.ha=z.ha-z.offset,L.put=Lt,L.ac=jn,L.bc=kr,L.ma=G,z.xa){if((g=_s())==null){G=1;break e}if(function(le,we){var ke=[0],Ie=[0],Ee=[0];t:for(;;){if(le==null)return 0;if(we==null)return le.a=2,0;if(le.l=we,le.a=0,pe(le.m,we.data,we.w,we.ha),!ms(le.m,ke,Ie,Ee)){le.a=3;break t}if(le.xb=Kl,we.width=ke[0],we.height=Ie[0],!Fs(ke[0],Ie[0],1,le,null))break t;return 1}return e(le.a!=0),0}(g,L)){if(L=(w=bo(L.width,L.height,G.Oa,G.ba))==0){t:{L=g;s:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((C=L.l)!=null),e((z=C.ma)!=null),L.xb!=0){if(L.ca=z.ba,L.tb=z.tb,e(L.ca!=null),!nn(z.Oa,C,Vc)){L.a=2;break s}if(!Qn(L,C.width)||C.da)break s;if((C.da||Dt(L.ca.S))&&Xo(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Xo()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!ne(L.s.vb,L.s.Wa.Xa)){L.a=1;break s}L.xb=0}if(!vs(L,L.V,L.Ba,L.c,L.i,C.o,It))break s;z.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(w=g.a)}else w=g.a}else{if((g=new mo)==null){G=1;break e}if(g.Fa=z.na,g.P=z.P,g.qc=z.Sa,Wo(g,L)){if((w=bo(L.width,L.height,G.Oa,G.ba))==0){if(g.Aa=0,C=G.Oa,e((z=g)!=null),C!=null){if(0<(re=0>(re=C.Md)?0:100<re?255:255*re/100)){for(ce=ye=0;4>ce;++ce)12>(Pe=z.pb[ce]).lc&&(Pe.ia=re*Lp[0>Pe.lc?0:Pe.lc]>>3),ye|=Pe.ia;ye&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=C.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(le,we){if(le==null)return 0;if(we==null)return ks(le,2,"NULL VP8Io parameter in VP8Decode().");if(!le.cb&&!Wo(le,we))return 0;if(e(le.cb),we.ac==null||we.ac(we)){we.ob&&(le.L=0);var ke=Yi[le.L];if(le.L==2?(le.yb=0,le.zb=0):(le.yb=we.v-ke>>4,le.zb=we.j-ke>>4,0>le.yb&&(le.yb=0),0>le.zb&&(le.zb=0)),le.Va=we.o+15+ke>>4,le.Hb=we.va+15+ke>>4,le.Hb>le.za&&(le.Hb=le.za),le.Va>le.Ub&&(le.Va=le.Ub),0<le.L){var Ie=le.ed;for(ke=0;4>ke;++ke){var Ee;if(le.Qa.Cb){var He=le.Qa.Lb[ke];le.Qa.Fb||(He+=Ie.Tb)}else He=Ie.Tb;for(Ee=0;1>=Ee;++Ee){var Ue=le.gd[ke][Ee],Je=He;if(Ie.Pc&&(Je+=Ie.vd[0],Ee&&(Je+=Ie.od[0])),0<(Je=0>Je?0:63<Je?63:Je)){var Ye=Je;0<Ie.wb&&(Ye=4<Ie.wb?Ye>>2:Ye>>1)>9-Ie.wb&&(Ye=9-Ie.wb),1>Ye&&(Ye=1),Ue.dd=Ye,Ue.tc=2*Je+Ye,Ue.ld=40<=Je?2:15<=Je?1:0}else Ue.tc=0;Ue.La=Ee}}}ke=0}else ks(le,6,"Frame setup failed"),ke=le.a;if(ke=ke==0){if(ke){le.$c=0,0<le.Aa||(le.Ic=Qf);t:{ke=le.Ic,Ie=4*(Ye=le.za);var St=32*Ye,mt=Ye+1,Gt=0<le.L?Ye*(0<le.Aa?2:1):0,gt=(le.Aa==2?2:1)*Ye;if((Ue=Ie+832+(Ee=3*(16*ke+Yi[le.L])/2*St)+(He=le.Fa!=null&&0<le.Fa.length?le.Kc.c*le.Kc.i:0))!=Ue)ke=0;else{if(Ue>le.Vb){if(le.Vb=0,le.Ec=i(Ue),le.Fc=0,le.Ec==null){ke=ks(le,1,"no memory during frame initialization.");break t}le.Vb=Ue}Ue=le.Ec,Je=le.Fc,le.Ac=Ue,le.Bc=Je,Je+=Ie,le.Gd=c(St,Ya),le.Hd=0,le.rb=c(mt+1,Nn),le.sb=1,le.wa=Gt?c(Gt,en):null,le.Y=0,le.D.Nb=0,le.D.wa=le.wa,le.D.Y=le.Y,0<le.Aa&&(le.D.Y+=Ye),e(!0),le.oc=Ue,le.pc=Je,Je+=832,le.ya=c(gt,uo),le.aa=0,le.D.ya=le.ya,le.D.aa=le.aa,le.Aa==2&&(le.D.aa+=Ye),le.R=16*Ye,le.B=8*Ye,Ye=(St=Yi[le.L])*le.R,St=St/2*le.B,le.sa=Ue,le.ta=Je+Ye,le.qa=le.sa,le.ra=le.ta+16*ke*le.R+St,le.Ha=le.qa,le.Ia=le.ra+8*ke*le.B+St,le.$c=0,Je+=Ee,le.mb=He?Ue:null,le.nb=He?Je:null,e(Je+He<=le.Fc+le.Vb),Ka(le),a(le.Ac,le.Bc,0,Ie),ke=1}}if(ke){if(we.ka=0,we.y=le.sa,we.O=le.ta,we.f=le.qa,we.N=le.ra,we.ea=le.Ha,we.Vd=le.Ia,we.fa=le.R,we.Rc=le.B,we.F=null,we.J=0,!el){for(ke=-255;255>=ke;++ke)qd[255+ke]=0>ke?-ke:ke;for(ke=-1020;1020>=ke;++ke)Hc[1020+ke]=-128>ke?-128:127<ke?127:ke;for(ke=-112;112>=ke;++ke)Wc[112+ke]=-16>ke?-16:15<ke?15:ke;for(ke=-255;510>=ke;++ke)Hd[255+ke]=0>ke?0:255<ke?255:ke;el=1}Qs=pt,ar=Vo,xa=W,Cn=Oe,Zo=tt,ui=Mi,Ju=_,jo=U,Zu=Se,Qu=We,eh=de,$f=xe,Gf=Xe,Yf=bt,th=Ii,sh=ti,Ud=Fl,ya=zc,Ln[0]=$o,Ln[1]=cs,Ln[2]=Fc,Ln[3]=Fd,Ln[4]=Ca,Ln[5]=ta,Ln[6]=La,Ln[7]=Qa,Ln[8]=Oi,Ln[9]=Bc,$i[0]=Ja,$i[1]=Un,$i[2]=sn,$i[3]=Ri,$i[4]=Ic,$i[5]=fa,$i[6]=Za,oa[0]=Go,oa[1]=tn,oa[2]=Il,oa[3]=ei,oa[4]=Ea,oa[5]=fn,oa[6]=po,ke=1}else ke=0}ke&&(ke=function(ps,Er){for(ps.M=0;ps.M<ps.Va;++ps.M){var Vt,yt=ps.Jc[ps.M&ps.Xb],nt=ps.m,ir=ps;for(Vt=0;Vt<ir.za;++Vt){var Yt=nt,rs=ir,vt=rs.Ac,Xt=rs.Bc+4*Vt,js=rs.zc,er=rs.ya[rs.aa+Vt];if(rs.Qa.Bb?er.$b=Le(Yt,rs.Pa.jb[0])?2+Le(Yt,rs.Pa.jb[2]):Le(Yt,rs.Pa.jb[1]):er.$b=0,rs.kc&&(er.Ad=Le(Yt,rs.Bd)),er.Za=!Le(Yt,145)+0,er.Za){var vr=er.Ob,wr=0;for(rs=0;4>rs;++rs){var hr,hs=js[0+rs];for(hr=0;4>hr;++hr){hs=rh[vt[Xt+hr]][hs];for(var Ns=So[Le(Yt,hs[0])];0<Ns;)Ns=So[2*Ns+Le(Yt,hs[Ns])];hs=-Ns,vt[Xt+hr]=hs}r(vr,wr,vt,Xt,4),wr+=4,js[0+rs]=hs}}else hs=Le(Yt,156)?Le(Yt,128)?1:3:Le(Yt,163)?2:0,er.Ob[0]=hs,a(vt,Xt,hs,4),a(js,0,hs,4);er.Dd=Le(Yt,142)?Le(Yt,114)?Le(Yt,183)?1:3:2:0}if(ir.m.Ka)return ks(ps,7,"Premature end-of-partition0 encountered.");for(;ps.ja<ps.za;++ps.ja){if(ir=yt,Yt=(nt=ps).rb[nt.sb-1],vt=nt.rb[nt.sb+nt.ja],Vt=nt.ya[nt.aa+nt.ja],Xt=nt.kc?Vt.Ad:0)Yt.la=vt.la=0,Vt.Za||(Yt.Na=vt.Na=0),Vt.Hc=0,Vt.Gc=0,Vt.ia=0;else{var fr,Bt;if(Yt=vt,vt=ir,Xt=nt.Pa.Xc,js=nt.ya[nt.aa+nt.ja],er=nt.pb[js.$b],rs=js.ad,vr=0,wr=nt.rb[nt.sb-1],hs=hr=0,a(rs,vr,0,384),js.Za)var Fr=0,la=Xt[3];else{Ns=i(16);var mr=Yt.Na+wr.Na;if(mr=Or(vt,Xt[1],mr,er.Eb,0,Ns,0),Yt.Na=wr.Na=(0<mr)+0,1<mr)Qs(Ns,0,rs,vr);else{var En=Ns[0]+3>>3;for(Ns=0;256>Ns;Ns+=16)rs[vr+Ns]=En}Fr=1,la=Xt[0]}var Hs=15&Yt.la,jr=15&wr.la;for(Ns=0;4>Ns;++Ns){var Pn=1&jr;for(En=Bt=0;4>En;++En)Hs=Hs>>1|(Pn=(mr=Or(vt,la,mr=Pn+(1&Hs),er.Sc,Fr,rs,vr))>Fr)<<7,Bt=Bt<<2|(3<mr?3:1<mr?2:rs[vr+0]!=0),vr+=16;Hs>>=4,jr=jr>>1|Pn<<7,hr=(hr<<8|Bt)>>>0}for(la=Hs,Fr=jr>>4,fr=0;4>fr;fr+=2){for(Bt=0,Hs=Yt.la>>4+fr,jr=wr.la>>4+fr,Ns=0;2>Ns;++Ns){for(Pn=1&jr,En=0;2>En;++En)mr=Pn+(1&Hs),Hs=Hs>>1|(Pn=0<(mr=Or(vt,Xt[2],mr,er.Qc,0,rs,vr)))<<3,Bt=Bt<<2|(3<mr?3:1<mr?2:rs[vr+0]!=0),vr+=16;Hs>>=2,jr=jr>>1|Pn<<5}hs|=Bt<<4*fr,la|=Hs<<4<<fr,Fr|=(240&jr)<<fr}Yt.la=la,wr.la=Fr,js.Hc=hr,js.Gc=hs,js.ia=43690&hs?0:er.ia,Xt=!(hr|hs)}if(0<nt.L&&(nt.wa[nt.Y+nt.ja]=nt.gd[Vt.$b][Vt.Za],nt.wa[nt.Y+nt.ja].La|=!Xt),ir.Ka)return ks(ps,7,"Premature end-of-file encountered.")}if(Ka(ps),nt=Er,ir=1,Vt=(yt=ps).D,Yt=0<yt.L&&yt.M>=yt.zb&&yt.M<=yt.Va,yt.Aa==0)t:{if(Vt.M=yt.M,Vt.uc=Yt,pa(yt,Vt),ir=1,Vt=(Bt=yt.D).Nb,Yt=(hs=Yi[yt.L])*yt.R,vt=hs/2*yt.B,Ns=16*Vt*yt.R,En=8*Vt*yt.B,Xt=yt.sa,js=yt.ta-Yt+Ns,er=yt.qa,rs=yt.ra-vt+En,vr=yt.Ha,wr=yt.Ia-vt+En,jr=(Hs=Bt.M)==0,hr=Hs>=yt.Va-1,yt.Aa==2&&pa(yt,Bt),Bt.uc)for(Pn=(mr=yt).D.M,e(mr.D.uc),Bt=mr.yb;Bt<mr.Hb;++Bt){Fr=Bt,la=Pn;var an=(Xs=(zr=mr).D).Nb;fr=zr.R;var Xs=Xs.wa[Xs.Y+Fr],Ls=zr.sa,gn=zr.ta+16*an*fr+16*Fr,on=Xs.dd,Bs=Xs.tc;if(Bs!=0)if(e(3<=Bs),zr.L==1)0<Fr&&sh(Ls,gn,fr,Bs+4),Xs.La&&ya(Ls,gn,fr,Bs),0<la&&th(Ls,gn,fr,Bs+4),Xs.La&&Ud(Ls,gn,fr,Bs);else{var Tn=zr.B,Br=zr.qa,xi=zr.ra+8*an*Tn+8*Fr,Ma=zr.Ha,zr=zr.Ia+8*an*Tn+8*Fr;an=Xs.ld,0<Fr&&(jo(Ls,gn,fr,Bs+4,on,an),Qu(Br,xi,Ma,zr,Tn,Bs+4,on,an)),Xs.La&&($f(Ls,gn,fr,Bs,on,an),Yf(Br,xi,Ma,zr,Tn,Bs,on,an)),0<la&&(Ju(Ls,gn,fr,Bs+4,on,an),Zu(Br,xi,Ma,zr,Tn,Bs+4,on,an)),Xs.La&&(eh(Ls,gn,fr,Bs,on,an),Gf(Br,xi,Ma,zr,Tn,Bs,on,an))}}if(yt.ia&&alert("todo:DitherRow"),nt.put!=null){if(Bt=16*Hs,Hs=16*(Hs+1),jr?(nt.y=yt.sa,nt.O=yt.ta+Ns,nt.f=yt.qa,nt.N=yt.ra+En,nt.ea=yt.Ha,nt.W=yt.Ia+En):(Bt-=hs,nt.y=Xt,nt.O=js,nt.f=er,nt.N=rs,nt.ea=vr,nt.W=wr),hr||(Hs-=hs),Hs>nt.o&&(Hs=nt.o),nt.F=null,nt.J=null,yt.Fa!=null&&0<yt.Fa.length&&Bt<Hs&&(nt.J=rn(yt,nt,Bt,Hs-Bt),nt.F=yt.mb,nt.F==null&&nt.F.length==0)){ir=ks(yt,3,"Could not decode alpha data.");break t}Bt<nt.j&&(hs=nt.j-Bt,Bt=nt.j,e(!(1&hs)),nt.O+=yt.R*hs,nt.N+=yt.B*(hs>>1),nt.W+=yt.B*(hs>>1),nt.F!=null&&(nt.J+=nt.width*hs)),Bt<Hs&&(nt.O+=nt.v,nt.N+=nt.v>>1,nt.W+=nt.v>>1,nt.F!=null&&(nt.J+=nt.v),nt.ka=Bt-nt.j,nt.U=nt.va-nt.v,nt.T=Hs-Bt,ir=nt.put(nt))}Vt+1!=yt.Ic||hr||(r(yt.sa,yt.ta-Yt,Xt,js+16*yt.R,Yt),r(yt.qa,yt.ra-vt,er,rs+8*yt.B,vt),r(yt.Ha,yt.Ia-vt,vr,wr+8*yt.B,vt))}if(!ir)return ks(ps,6,"Output aborted.")}return 1}(le,we)),we.bc!=null&&we.bc(we),ke&=1}return ke?(le.cb=0,ke):0})(g,L)||(w=g.a)}}else w=g.a}w==0&&G.Oa!=null&&G.Oa.fd&&(w=kn(G.ba))}G=w}H=G!=0?null:11>H?J.f.RGBA.eb:J.f.kb.y}else H=null;return H};var em=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,$){for(var R="",q=0;q<4;q++)R+=String.fromCharCode(I[$++]);return R}function m(I,$){return I[$+0]|I[$+1]<<8}function b(I,$){return(I[$+0]|I[$+1]<<8|I[$+2]<<16)>>>0}function y(I,$){return(I[$+0]|I[$+1]<<8|I[$+2]<<16|I[$+3]<<24)>>>0}new u;var x=[0],j=[0],S=[],A=new u,k=s,P=function(I,$){var R={},q=0,ie=!1,K=0,oe=0;if(R.frames=[],!function(O,V){for(var te=0;te<4;te++)if(O[V+te]!="RIFF".charCodeAt(te))return!0;return!1}(I,$)){for(y(I,$+=4),$+=8;$<I.length;){var Z=f(I,$),se=y(I,$+=4);$+=4;var ee=se+(1&se);switch(Z){case"VP8 ":case"VP8L":R.frames[q]===void 0&&(R.frames[q]={}),(me=R.frames[q]).src_off=ie?oe:$-8,me.src_size=K+se+8,q++,ie&&(ie=!1,K=0,oe=0);break;case"VP8X":(me=R.header={}).feature_flags=I[$];var pe=$+4;me.canvas_width=1+b(I,pe),pe+=3,me.canvas_height=1+b(I,pe),pe+=3;break;case"ALPH":ie=!0,K=ee+8,oe=$-8;break;case"ANIM":(me=R.header).bgcolor=y(I,$),pe=$+4,me.loop_count=m(I,pe),pe+=2;break;case"ANMF":var Q,me;(me=R.frames[q]={}).offset_x=2*b(I,$),$+=3,me.offset_y=2*b(I,$),$+=3,me.width=1+b(I,$),$+=3,me.height=1+b(I,$),$+=3,me.duration=b(I,$),$+=3,Q=I[$++],me.dispose=1&Q,me.blend=Q>>1&1}Z!="ANMF"&&($+=ee)}return R}}(k,0);P.response=k,P.rgbaoutput=!0,P.dataurl=!1;var M=P.header?P.header:null,F=P.frames?P.frames:null;if(M){M.loop_counter=M.loop_count,x=[M.canvas_height],j=[M.canvas_width];for(var B=0;B<F.length&&F[B].blend!=0;B++);}var ae=F[0],Y=A.WebPDecodeRGBA(k,ae.src_off,ae.src_size,j,x);ae.rgba=Y,ae.imgwidth=j[0],ae.imgheight=x[0];for(var E=0;E<j[0]*x[0]*4;E++)S[E]=Y[E];return this.width=j,this.height=x,this.data=S,this}(function(s){var e,t,r,a,i,c,d,u,f,m=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new c,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new c,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};s.events.push(["initialized",function(){this.context2d=new b(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,d=this.internal.Rectangle,u=this.internal.Matrix,f=new m}]);var b=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var V=O;Object.defineProperty(this,"pdf",{get:function(){return V}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(je){te=!!je}});var he=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return he},set:function(je){he=!!je}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(je){isNaN(je)||(fe=je)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(je){isNaN(je)||(ve=je)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(je){var ne;typeof je=="number"?ne=[je,je,je,je]:((ne=new Array(4))[0]=je[0],ne[1]=je.length>=2?je[1]:ne[0],ne[2]=je.length>=3?je[2]:ne[0],ne[3]=je.length>=4?je[3]:ne[1]),f.margin=ne}});var Ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ce},set:function(je){Ce=je}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(je){ue=je}});var Le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Le},set:function(je){Le=je}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(je){je instanceof m&&(f=je)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(je){f.path=je}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(je){Be=je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(je){var ne;ne=y(je),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(je){var ne=y(je);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(je){["butt","round","square"].indexOf(je)!==-1&&(this.ctx.lineCap=je,this.pdf.setLineCap(je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(je){isNaN(je)||(this.ctx.lineWidth=je,this.pdf.setLineWidth(je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(je){["bevel","round","miter"].indexOf(je)!==-1&&(this.ctx.lineJoin=je,this.pdf.setLineJoin(je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(je){isNaN(je)||(this.ctx.miterLimit=je,this.pdf.setMiterLimit(je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(je){this.ctx.textBaseline=je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(je){["right","end","center","left","start"].indexOf(je)!==-1&&(this.ctx.textAlign=je)}});var Ze=null,Fe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Fe},set:function(je){Ze=null,Fe=je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(je){var ne;if(this.ctx.font=je,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(je))!==null){var lt=ne[1];ne[2];var st=ne[3],it=ne[4];ne[5];var ze=ne[6],et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(it)[2];it=Math.floor(et==="px"?parseFloat(it)*this.pdf.internal.scaleFactor:et==="em"?parseFloat(it)*this.pdf.getFontSize():parseFloat(it)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(it);var qe=function(Pt){var xt,Ge,at=[],ct=Pt.trim();if(ct==="")return Nx;if(ct in x5)return[x5[ct]];for(;ct!=="";){switch(Ge=null,xt=(ct=b5(ct)).charAt(0)){case'"':case"'":Ge=ML(ct.substring(1),xt);break;default:Ge=RL(ct)}if(Ge===null||(at.push(Ge[0]),(ct=b5(Ge[1]))!==""&&ct.charAt(0)!==","))return Nx;ct=ct.replace(/^,/,"")}return at}(ze);if(this.fontFaces){var Nt=function(Pt,xt){if(Ze===null){var Ge=function(at){var ct=[];return Object.keys(at).forEach(function(Mt){at[Mt].forEach(function(bs){var At=null;switch(bs){case"bold":At={family:Mt,weight:"bold"};break;case"italic":At={family:Mt,style:"italic"};break;case"bolditalic":At={family:Mt,weight:"bold",style:"italic"};break;case"":case"normal":At={family:Mt}}At!==null&&(At.ref={name:Mt,style:bs},ct.push(At))})}),ct}(Pt.getFontList());Ze=function(at){for(var ct={},Mt=0;Mt<at.length;++Mt){var bs=jx(at[Mt]),At=bs.family,ns=bs.stretch,Dt=bs.style,Is=bs.weight;ct[At]=ct[At]||{},ct[At][ns]=ct[At][ns]||{},ct[At][ns][Dt]=ct[At][ns][Dt]||{},ct[At][ns][Dt][Is]=bs}return ct}(Ge.concat(xt))}return Ze}(this.pdf,this.fontFaces),dt=qe.map(function(Pt){return{family:Pt,stretch:"normal",weight:st,style:lt}}),Rt=function(Pt,xt,Ge){for(var at=(Ge=Ge||{}).defaultFontFamily||"times",ct=Object.assign({},TL,Ge.genericFontFamilies||{}),Mt=null,bs=null,At=0;At<xt.length;++At)if(ct[(Mt=jx(xt[At])).family]&&(Mt.family=ct[Mt.family]),Pt.hasOwnProperty(Mt.family)){bs=Pt[Mt.family];break}if(!(bs=bs||Pt[at]))throw new Error("Could not find a font-family for the rule '"+y5(Mt)+"' and default family '"+at+"'.");if(bs=function(ns,Dt){if(Dt[ns])return Dt[ns];var Is=w1[ns],Os=Is<=w1.normal?-1:1,fs=g5(Dt,y4,Is,Os);if(!fs)throw new Error("Could not find a matching font-stretch value for "+ns);return fs}(Mt.stretch,bs),bs=function(ns,Dt){if(Dt[ns])return Dt[ns];for(var Is=x4[ns],Os=0;Os<Is.length;++Os)if(Dt[Is[Os]])return Dt[Is[Os]];throw new Error("Could not find a matching font-style for "+ns)}(Mt.style,bs),!(bs=function(ns,Dt){if(Dt[ns])return Dt[ns];if(ns===400&&Dt[500])return Dt[500];if(ns===500&&Dt[400])return Dt[400];var Is=PL[ns],Os=g5(Dt,b4,Is,ns<400?-1:1);if(!Os)throw new Error("Could not find a matching font-weight for value "+ns);return Os}(Mt.weight,bs)))throw new Error("Failed to resolve a font for the rule '"+y5(Mt)+"'.");return bs}(Nt,dt);this.pdf.setFont(Rt.ref.name,Rt.ref.style)}else{var ft="";(st==="bold"||parseInt(st,10)>=700||lt==="bold")&&(ft="bold"),lt==="italic"&&(ft+="italic"),ft.length===0&&(ft="normal");for(var ut="",_t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qe=0;Qe<qe.length;Qe++){if(this.pdf.internal.getFont(qe[Qe],ft,{noFallback:!0,disableWarning:!0})!==void 0){ut=qe[Qe];break}if(ft==="bolditalic"&&this.pdf.internal.getFont(qe[Qe],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ut=qe[Qe],ft="bold";else if(this.pdf.internal.getFont(qe[Qe],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ut=qe[Qe],ft="normal";break}}if(ut===""){for(var rt=0;rt<qe.length;rt++)if(_t[qe[rt]]){ut=_t[qe[rt]];break}}ut=ut===""?"Times":ut,this.pdf.setFont(ut,ft)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(je){this.ctx.globalCompositeOperation=je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(je){this.ctx.globalAlpha=je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(je){this.ctx.lineDashOffset=je,me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(je){this.ctx.lineDash=je,me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(je){this.ctx.ignoreClearRect=!!je}})};b.prototype.setLineDash=function(O){this.lineDash=O},b.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},b.prototype.fill=function(){F.call(this,"fill",!1)},b.prototype.stroke=function(){F.call(this,"stroke",!1)},b.prototype.beginPath=function(){this.path=[{type:"begin"}]},b.prototype.moveTo=function(O,V){if(isNaN(O)||isNaN(V))throw sr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new c(O,V));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new c(O,V)},b.prototype.closePath=function(){var O=new c(0,0),V=0;for(V=this.path.length-1;V!==-1;V--)if(this.path[V].type==="begin"&&Ys(this.path[V+1])==="object"&&typeof this.path[V+1].x=="number"){O=new c(this.path[V+1].x,this.path[V+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(O.x,O.y)},b.prototype.lineTo=function(O,V){if(isNaN(O)||isNaN(V))throw sr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new c(O,V));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new c(te.x,te.y)},b.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},b.prototype.quadraticCurveTo=function(O,V,te,he){if(isNaN(te)||isNaN(he)||isNaN(O)||isNaN(V))throw sr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new c(te,he)),ve=this.ctx.transform.applyToPoint(new c(O,V));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new c(fe.x,fe.y)},b.prototype.bezierCurveTo=function(O,V,te,he,fe,ve){if(isNaN(fe)||isNaN(ve)||isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he))throw sr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ce=this.ctx.transform.applyToPoint(new c(fe,ve)),ue=this.ctx.transform.applyToPoint(new c(O,V)),Le=this.ctx.transform.applyToPoint(new c(te,he));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:Le.x,y2:Le.y,x:Ce.x,y:Ce.y}),this.ctx.lastPoint=new c(Ce.x,Ce.y)},b.prototype.arc=function(O,V,te,he,fe,ve){if(isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he)||isNaN(fe))throw sr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Ce=this.ctx.transform.applyToPoint(new c(O,V));O=Ce.x,V=Ce.y;var ue=this.ctx.transform.applyToPoint(new c(0,te)),Le=this.ctx.transform.applyToPoint(new c(0,0));te=Math.sqrt(Math.pow(ue.x-Le.x,2)+Math.pow(ue.y-Le.y,2))}Math.abs(fe-he)>=2*Math.PI&&(he=0,fe=2*Math.PI),this.path.push({type:"arc",x:O,y:V,radius:te,startAngle:he,endAngle:fe,counterclockwise:ve})},b.prototype.arcTo=function(O,V,te,he,fe){throw new Error("arcTo not implemented.")},b.prototype.rect=function(O,V,te,he){if(isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he))throw sr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,V),this.lineTo(O+te,V),this.lineTo(O+te,V+he),this.lineTo(O,V+he),this.lineTo(O,V),this.lineTo(O+te,V),this.lineTo(O,V)},b.prototype.fillRect=function(O,V,te,he){if(isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he))throw sr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,V,te,he),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},b.prototype.strokeRect=function(O,V,te,he){if(isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he))throw sr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(O,V,te,he),this.stroke())},b.prototype.clearRect=function(O,V,te,he){if(isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he))throw sr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,V,te,he))},b.prototype.save=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(V),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var he=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=he}},b.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var V=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(V),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},b.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(O){var V,te,he,fe;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))V=0,te=0,he=0,fe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(ve!==null)V=parseInt(ve[1]),te=parseInt(ve[2]),he=parseInt(ve[3]),fe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)V=parseInt(ve[1]),te=parseInt(ve[2]),he=parseInt(ve[3]),fe=parseFloat(ve[4]);else{if(fe=1,typeof O=="string"&&O.charAt(0)!=="#"){var Ce=new d4(O);O=Ce.ok?Ce.toHex():"#000000"}O.length===4?(V=O.substring(1,2),V+=V,te=O.substring(2,3),te+=te,he=O.substring(3,4),he+=he):(V=O.substring(1,3),te=O.substring(3,5),he=O.substring(5,7)),V=parseInt(V,16),te=parseInt(te,16),he=parseInt(he,16)}}return{r:V,g:te,b:he,a:fe,style:O}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};b.prototype.fillText=function(O,V,te,he){if(isNaN(V)||isNaN(te)||typeof O!="string")throw sr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(he=isNaN(he)?void 0:he,!x.call(this)){var fe=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;q.call(this,{text:O,x:V,y:te,scale:ve,angle:fe,align:this.textAlign,maxWidth:he})}},b.prototype.strokeText=function(O,V,te,he){if(isNaN(V)||isNaN(te)||typeof O!="string")throw sr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){he=isNaN(he)?void 0:he;var fe=ee(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;q.call(this,{text:O,x:V,y:te,scale:ve,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:he})}},b.prototype.measureText=function(O){if(typeof O!="string")throw sr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var V=this.pdf,te=this.pdf.internal.scaleFactor,he=V.internal.getFontSize(),fe=V.getStringUnitWidth(O)*he/V.internal.scaleFactor;return new function(ve){var Ce=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ce}}),this}({width:fe*=Math.round(96*te/72*1e4)/1e4})},b.prototype.scale=function(O,V){if(isNaN(O)||isNaN(V))throw sr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new u(O,0,0,V,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},b.prototype.rotate=function(O){if(isNaN(O))throw sr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var V=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(V)},b.prototype.translate=function(O,V){if(isNaN(O)||isNaN(V))throw sr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new u(1,0,0,1,O,V);this.ctx.transform=this.ctx.transform.multiply(te)},b.prototype.transform=function(O,V,te,he,fe,ve){if(isNaN(O)||isNaN(V)||isNaN(te)||isNaN(he)||isNaN(fe)||isNaN(ve))throw sr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ce=new u(O,V,te,he,fe,ve);this.ctx.transform=this.ctx.transform.multiply(Ce)},b.prototype.setTransform=function(O,V,te,he,fe,ve){O=isNaN(O)?1:O,V=isNaN(V)?0:V,te=isNaN(te)?0:te,he=isNaN(he)?1:he,fe=isNaN(fe)?0:fe,ve=isNaN(ve)?0:ve,this.ctx.transform=new u(O,V,te,he,fe,ve)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};b.prototype.drawImage=function(O,V,te,he,fe,ve,Ce,ue,Le){var Be=this.pdf.getImageProperties(O),Ze=1,Fe=1,je=1,ne=1;he!==void 0&&ue!==void 0&&(je=ue/he,ne=Le/fe,Ze=Be.width/he*ue/he,Fe=Be.height/fe*Le/fe),ve===void 0&&(ve=V,Ce=te,V=0,te=0),he!==void 0&&ue===void 0&&(ue=he,Le=fe),he===void 0&&ue===void 0&&(ue=Be.width,Le=Be.height);for(var lt,st=this.ctx.transform.decompose(),it=ee(st.rotate.shx),ze=new u,et=(ze=(ze=(ze=ze.multiply(st.translate)).multiply(st.skew)).multiply(st.scale)).applyToRectangle(new d(ve-V*je,Ce-te*ne,he*Ze,fe*Fe)),qe=A.call(this,et),Nt=[],dt=0;dt<qe.length;dt+=1)Nt.indexOf(qe[dt])===-1&&Nt.push(qe[dt]);if(M(Nt),this.autoPaging)for(var Rt=Nt[0],ft=Nt[Nt.length-1],ut=Rt;ut<ft+1;ut++){this.pdf.setPage(ut);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qe=ut===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=ut===1?0:rt+(ut-2)*Pt;if(this.ctx.clip_path.length!==0){var Ge=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(lt,this.posX+this.margin[3],-xt+Qe+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=Ge}var at=JSON.parse(JSON.stringify(et));at=P([at],this.posX+this.margin[3],-xt+Qe+this.ctx.prevPageLastElemOffset)[0];var ct=(ut>Rt||ut<ft)&&S.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Pt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",at.x,at.y,at.w,at.h,null,null,it),ct&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",et.x,et.y,et.w,et.h,null,null,it)};var A=function(O,V,te){var he=[];V=V||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":he.push(Math.floor((O.y+fe)/te)+1);break;case"arc":he.push(Math.floor((O.y+fe-O.radius)/te)+1),he.push(Math.floor((O.y+fe+O.radius)/te)+1);break;case"qct":var ve=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);he.push(Math.floor((ve.y+fe)/te)+1),he.push(Math.floor((ve.y+ve.h+fe)/te)+1);break;case"bct":var Ce=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);he.push(Math.floor((Ce.y+fe)/te)+1),he.push(Math.floor((Ce.y+Ce.h+fe)/te)+1);break;case"rect":he.push(Math.floor((O.y+fe)/te)+1),he.push(Math.floor((O.y+O.h+fe)/te)+1)}for(var ue=0;ue<he.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<he[ue];)k.call(this);return he},k=function(){var O=this.fillStyle,V=this.strokeStyle,te=this.font,he=this.lineCap,fe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=V,this.font=te,this.lineCap=he,this.lineWidth=fe,this.lineJoin=ve},P=function(O,V,te){for(var he=0;he<O.length;he++)switch(O[he].type){case"bct":O[he].x2+=V,O[he].y2+=te;case"qct":O[he].x1+=V,O[he].y1+=te;default:O[he].x+=V,O[he].y+=te}return O},M=function(O){return O.sort(function(V,te){return V-te})},F=function(O,V){for(var te,he,fe=this.fillStyle,ve=this.strokeStyle,Ce=this.lineCap,ue=this.lineWidth,Le=Math.abs(ue*this.ctx.transform.scaleX),Be=this.lineJoin,Ze=JSON.parse(JSON.stringify(this.path)),Fe=JSON.parse(JSON.stringify(this.path)),je=[],ne=0;ne<Fe.length;ne++)if(Fe[ne].x!==void 0)for(var lt=A.call(this,Fe[ne]),st=0;st<lt.length;st+=1)je.indexOf(lt[st])===-1&&je.push(lt[st]);for(var it=0;it<je.length;it++)for(;this.pdf.internal.getNumberOfPages()<je[it];)k.call(this);if(M(je),this.autoPaging)for(var ze=je[0],et=je[je.length-1],qe=ze;qe<et+1;qe++){this.pdf.setPage(qe),this.fillStyle=fe,this.strokeStyle=ve,this.lineCap=Ce,this.lineWidth=Le,this.lineJoin=Be;var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=qe===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=qe===1?0:Rt+(qe-2)*ft;if(this.ctx.clip_path.length!==0){var _t=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(te,this.posX+this.margin[3],-ut+dt+this.ctx.prevPageLastElemOffset),B.call(this,O,!0),this.path=_t}if(he=JSON.parse(JSON.stringify(Ze)),this.path=P(he,this.posX+this.margin[3],-ut+dt+this.ctx.prevPageLastElemOffset),V===!1||qe===0){var Qe=(qe>ze||qe<et)&&S.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,ft,null).clip().discardPath()),B.call(this,O,V),Qe&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}else this.lineWidth=Le,B.call(this,O,V),this.lineWidth=ue;this.path=Ze},B=function(O,V){if((O!=="stroke"||V||!j.call(this))&&(O==="stroke"||V||!x.call(this))){for(var te,he,fe=[],ve=this.path,Ce=0;Ce<ve.length;Ce++){var ue=ve[Ce];switch(ue.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ue,deltas:[],abs:[]});break;case"lt":var Le=fe.length;if(ve[Ce-1]&&!isNaN(ve[Ce-1].x)&&(te=[ue.x-ve[Ce-1].x,ue.y-ve[Ce-1].y],Le>0)){for(;Le>=0;Le--)if(fe[Le-1].close!==!0&&fe[Le-1].begin!==!0){fe[Le-1].deltas.push(te),fe[Le-1].abs.push(ue);break}}break;case"bct":te=[ue.x1-ve[Ce-1].x,ue.y1-ve[Ce-1].y,ue.x2-ve[Ce-1].x,ue.y2-ve[Ce-1].y,ue.x-ve[Ce-1].x,ue.y-ve[Ce-1].y],fe[fe.length-1].deltas.push(te);break;case"qct":var Be=ve[Ce-1].x+2/3*(ue.x1-ve[Ce-1].x),Ze=ve[Ce-1].y+2/3*(ue.y1-ve[Ce-1].y),Fe=ue.x+2/3*(ue.x1-ue.x),je=ue.y+2/3*(ue.y1-ue.y),ne=ue.x,lt=ue.y;te=[Be-ve[Ce-1].x,Ze-ve[Ce-1].y,Fe-ve[Ce-1].x,je-ve[Ce-1].y,ne-ve[Ce-1].x,lt-ve[Ce-1].y],fe[fe.length-1].deltas.push(te);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ue)}}he=V?null:O==="stroke"?"stroke":"fill";for(var st=!1,it=0;it<fe.length;it++)if(fe[it].arc)for(var ze=fe[it].abs,et=0;et<ze.length;et++){var qe=ze[et];qe.type==="arc"?E.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,V,!st):ie.call(this,qe.x,qe.y),st=!0}else if(fe[it].close===!0)this.pdf.internal.out("h"),st=!1;else if(fe[it].begin!==!0){var Nt=fe[it].start.x,dt=fe[it].start.y;K.call(this,fe[it].deltas,Nt,dt),st=!0}he&&I.call(this,he),V&&$.call(this)}},ae=function(O){var V=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=V*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-te;case"top":return O+V-te;case"hanging":return O+V-2*te;case"middle":return O+V/2-te;default:return O}},Y=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};b.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(V,te){this.colorStops.push([V,te])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},b.prototype.createPattern=function(){return this.createLinearGradient()},b.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(O,V,te,he,fe,ve,Ce,ue,Le){for(var Be=Z.call(this,te,he,fe,ve),Ze=0;Ze<Be.length;Ze++){var Fe=Be[Ze];Ze===0&&(Le?R.call(this,Fe.x1+O,Fe.y1+V):ie.call(this,Fe.x1+O,Fe.y1+V)),oe.call(this,O,V,Fe.x2,Fe.y2,Fe.x3,Fe.y3,Fe.x4,Fe.y4)}ue?$.call(this):I.call(this,Ce)},I=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(O,V){this.pdf.internal.out(t(O)+" "+r(V)+" m")},q=function(O){var V;switch(O.align){case"right":case"end":V="right";break;case"center":V="center";break;default:V="left"}var te=this.pdf.getTextDimensions(O.text),he=ae.call(this,O.y),fe=Y.call(this,he)-te.h,ve=this.ctx.transform.applyToPoint(new c(O.x,he)),Ce=this.ctx.transform.decompose(),ue=new u;ue=(ue=(ue=ue.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale);for(var Le,Be,Ze,Fe=this.ctx.transform.applyToRectangle(new d(O.x,he,te.w,te.h)),je=ue.applyToRectangle(new d(O.x,fe,te.w,te.h)),ne=A.call(this,je),lt=[],st=0;st<ne.length;st+=1)lt.indexOf(ne[st])===-1&&lt.push(ne[st]);if(M(lt),this.autoPaging)for(var it=lt[0],ze=lt[lt.length-1],et=it;et<ze+1;et++){this.pdf.setPage(et);var qe=et===1?this.posY+this.margin[0]:this.margin[0],Nt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],Rt=dt-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],ut=ft-this.margin[3],_t=et===1?0:Nt+(et-2)*Rt;if(this.ctx.clip_path.length!==0){var Qe=this.path;Le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Le,this.posX+this.margin[3],-1*_t+qe),B.call(this,"fill",!0),this.path=Qe}var rt=P([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-_t+qe+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*O.scale),Ze=this.lineWidth,this.lineWidth=Ze*O.scale);var Pt=this.autoPaging!=="text";if(Pt||rt.y+rt.h<=dt){if(Pt||rt.y>=qe&&rt.x<=ft){var xt=Pt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||ft-rt.x)[0],Ge=P([JSON.parse(JSON.stringify(Fe))],this.posX+this.margin[3],-_t+qe+this.ctx.prevPageLastElemOffset)[0],at=Pt&&(et>it||et<ze)&&S.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,Rt,null).clip().discardPath()),this.pdf.text(xt,Ge.x,Ge.y,{angle:O.angle,align:V,renderingMode:O.renderingMode}),at&&this.pdf.restoreGraphicsState()}}else rt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-rt.y);O.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Ze)}else O.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*O.scale),Ze=this.lineWidth,this.lineWidth=Ze*O.scale),this.pdf.text(O.text,ve.x+this.posX,ve.y+this.posY,{angle:O.angle,align:V,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Ze)},ie=function(O,V,te,he){te=te||0,he=he||0,this.pdf.internal.out(t(O+te)+" "+r(V+he)+" l")},K=function(O,V,te){return this.pdf.lines(O,V,te,null,null)},oe=function(O,V,te,he,fe,ve,Ce,ue){this.pdf.internal.out([e(a(te+O)),e(i(he+V)),e(a(fe+O)),e(i(ve+V)),e(a(Ce+O)),e(i(ue+V)),"c"].join(" "))},Z=function(O,V,te,he){for(var fe=2*Math.PI,ve=Math.PI/2;V>te;)V-=fe;var Ce=Math.abs(te-V);Ce<fe&&he&&(Ce=fe-Ce);for(var ue=[],Le=he?-1:1,Be=V;Ce>1e-5;){var Ze=Be+Le*Math.min(Ce,ve);ue.push(se.call(this,O,Be,Ze)),Ce-=Math.abs(Ze-Be),Be=Ze}return ue},se=function(O,V,te){var he=(te-V)/2,fe=O*Math.cos(he),ve=O*Math.sin(he),Ce=fe,ue=-ve,Le=Ce*Ce+ue*ue,Be=Le+Ce*fe+ue*ve,Ze=4/3*(Math.sqrt(2*Le*Be)-Be)/(Ce*ve-ue*fe),Fe=Ce-Ze*ue,je=ue+Ze*Ce,ne=Fe,lt=-je,st=he+V,it=Math.cos(st),ze=Math.sin(st);return{x1:O*Math.cos(V),y1:O*Math.sin(V),x2:Fe*it-je*ze,y2:Fe*ze+je*it,x3:ne*it-lt*ze,y3:ne*ze+lt*it,x4:O*Math.cos(te),y4:O*Math.sin(te)}},ee=function(O){return 180*O/Math.PI},pe=function(O,V,te,he,fe,ve){var Ce=O+.5*(te-O),ue=V+.5*(he-V),Le=fe+.5*(te-fe),Be=ve+.5*(he-ve),Ze=Math.min(O,fe,Ce,Le),Fe=Math.max(O,fe,Ce,Le),je=Math.min(V,ve,ue,Be),ne=Math.max(V,ve,ue,Be);return new d(Ze,je,Fe-Ze,ne-je)},Q=function(O,V,te,he,fe,ve,Ce,ue){var Le,Be,Ze,Fe,je,ne,lt,st,it,ze,et,qe,Nt,dt,Rt=te-O,ft=he-V,ut=fe-te,_t=ve-he,Qe=Ce-fe,rt=ue-ve;for(Be=0;Be<41;Be++)it=(lt=(Ze=O+(Le=Be/40)*Rt)+Le*((je=te+Le*ut)-Ze))+Le*(je+Le*(fe+Le*Qe-je)-lt),ze=(st=(Fe=V+Le*ft)+Le*((ne=he+Le*_t)-Fe))+Le*(ne+Le*(ve+Le*rt-ne)-st),Be==0?(et=it,qe=ze,Nt=it,dt=ze):(et=Math.min(et,it),qe=Math.min(qe,ze),Nt=Math.max(Nt,it),dt=Math.max(dt,ze));return new d(Math.round(et),Math.round(qe),Math.round(Nt-et),Math.round(dt-qe))},me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,V,te=(O=this.ctx.lineDash,V=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:V}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Et.API),function(s){var e=function(c){var d,u,f,m,b,y,x,j,S,A;for(u=[],f=0,m=(c+=d="\0\0\0\0".slice(c.length%4||4)).length;m>f;f+=4)(b=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(y=(b=((b=((b=((b=(b-(A=b%85))/85)-(S=b%85))/85)-(j=b%85))/85)-(x=b%85))/85)%85,u.push(y+33,x+33,j+33,S+33,A+33)):u.push(122);return function(k,P){for(var M=P;M>0;M--)k.pop()}(u,d.length),String.fromCharCode.apply(String,u)+"~>"},t=function(c){var d,u,f,m,b,y=String,x="length",j=255,S="charCodeAt",A="slice",k="replace";for(c[A](-2),c=c[A](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),f=[],m=0,b=(c+=d="uuuuu"[A](c[x]%5||5))[x];b>m;m+=5)u=52200625*(c[S](m)-33)+614125*(c[S](m+1)-33)+7225*(c[S](m+2)-33)+85*(c[S](m+3)-33)+(c[S](m+4)-33),f.push(j&u>>24,j&u>>16,j&u>>8,j&u);return function(P,M){for(var F=M;F>0;F--)P.pop()}(f,d[x]),y.fromCharCode.apply(y,f)},r=function(c){return c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var d=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),d.test(c)===!1)return"";for(var u="",f=0;f<c.length;f+=2)u+=String.fromCharCode("0x"+(c[f]+c[f+1]));return u},i=function(c){for(var d=new Uint8Array(c.length),u=c.length;u--;)d[u]=c.charCodeAt(u);return(d=m1(d)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};s.processDataByFilters=function(c,d){var u=0,f=c||"",m=[];for(typeof(d=d||[])=="string"&&(d=[d]),u=0;u<d.length;u+=1)switch(d[u]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+d[u]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}}(Et.API),function(s){s.loadFile=function(e,t,r){return function(a,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var d=void 0;try{d=function(u,f,m){var b=new XMLHttpRequest,y=0,x=function(j){var S=j.length,A=[],k=String.fromCharCode;for(y=0;y<S;y+=1)A.push(k(255&j.charCodeAt(y)));return A.join("")};if(b.open("GET",u,!f),b.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(b.onload=function(){b.status===200?m(x(this.responseText)):m(void 0)}),b.send(null),f&&b.status===200)return x(b.responseText)}(a,i,c)}catch{}return d}(e,t,r)},s.loadImageFile=s.loadFile}(Et.API),function(s){function e(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):Bn(()=>import("./html2canvas.esm-BfxBtG_O.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load html2canvas: "+d))}).then(function(d){return d.default?d.default:d})}function t(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):Bn(()=>import("./purify.es-CQJ0hv7W.js"),[],import.meta.url)).catch(function(d){return Promise.reject(new Error("Could not load dompurify: "+d))}).then(function(d){return d.default?d.default:d})}var r=function(d){var u=Ys(d);return u==="undefined"?"undefined":u==="string"||d instanceof String?"string":u==="number"||d instanceof Number?"number":u==="function"||d instanceof Function?"function":d&&d.constructor===Array?"array":d&&d.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(d,u){var f=document.createElement(d);for(var m in u.className&&(f.className=u.className),u.innerHTML&&u.dompurify&&(f.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)f.style[m]=u.style[m];return f},i=function d(u,f){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),b=u.firstChild;b;b=b.nextSibling)f!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||m.appendChild(d(b,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m},c=function d(u){var f=Object.assign(d.convert(Promise.resolve()),JSON.parse(JSON.stringify(d.template))),m=d.convert(Promise.resolve(),f);return(m=m.setProgress(1,d,1,[d])).set(u)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(d,u){return d.__proto__=u||c.prototype,d},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(d,u){return this.then(function(){switch(u=u||function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(d),u){case"string":return this.then(t).then(function(f){return this.set({src:a("div",{innerHTML:d,dompurify:f})})});case"element":return this.set({src:d});case"canvas":return this.set({canvas:d});case"img":return this.set({img:d});default:return this.error("Unknown source type.")}})},c.prototype.to=function(d){switch(d){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var d={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(d.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:d}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(u){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,u(this.prop.container,f)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var d=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(d).then(e).then(function(u){var f=this.opt.jsPDF,m=this.opt.fontFaces,b=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:b,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var x=0;x<m.length;++x){var j=m[x],S=j.src.find(function(A){return A.format==="truetype"});S&&f.addFont(S.url,j.ref.name,j.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var d=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=d})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(d,u,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(d,u):this.outputPdf(d,u)},c.prototype.outputPdf=function(d,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(d,u)})},c.prototype.outputImg=function(d){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(d){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+d+'" is not supported.'}})},c.prototype.save=function(d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(d?{filename:d}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(d){if(r(d)!=="object")return this;var u=Object.keys(d||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=d[f]};switch(f){case"margin":return this.setMargin.bind(this,d.margin);case"jsPDF":return function(){return this.opt.jsPDF=d.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,d.pageSize);default:return function(){this.opt[f]=d[f]}}},this);return this.then(function(){return this.thenList(u)})},c.prototype.get=function(d,u){return this.then(function(){var f=d in c.template.prop?this.prop[d]:this.opt[d];return u?u(f):f})},c.prototype.setMargin=function(d){return this.then(function(){switch(r(d)){case"number":d=[d,d,d,d];case"array":if(d.length===2&&(d=[d[0],d[1],d[0],d[1]]),d.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=d}).then(this.setPageSize)},c.prototype.setPageSize=function(d){function u(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(d=d||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(d.inner={width:d.width-this.opt.margin[1]-this.opt.margin[3],height:d.height-this.opt.margin[0]-this.opt.margin[2]},d.inner.px={width:u(d.inner.width,d.k),height:u(d.inner.height,d.k)},d.inner.ratio=d.inner.height/d.inner.width),this.prop.pageSize=d})},c.prototype.setProgress=function(d,u,f,m){return d!=null&&(this.progress.val=d),u!=null&&(this.progress.state=u),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(d,u,f,m){return this.setProgress(d?this.progress.val+d:null,u||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},c.prototype.then=function(d,u){var f=this;return this.thenCore(d,u,function(m,b){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,m),y}).then(m,b).then(function(y){return f.updateProgress(1),y})})},c.prototype.thenCore=function(d,u,f){f=f||Promise.prototype.then;var m=this;d&&(d=d.bind(m)),u&&(u=u.bind(m));var b=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:c.convert(Object.assign({},m),Promise.prototype),y=f.call(b,d,u);return c.convert(y,m.__proto__)},c.prototype.thenExternal=function(d,u){return Promise.prototype.then.call(this,d,u)},c.prototype.thenList=function(d){var u=this;return d.forEach(function(f){u=u.thenCore(f)}),u},c.prototype.catch=function(d){d&&(d=d.bind(this));var u=Promise.prototype.catch.call(this,d);return c.convert(u,this)},c.prototype.catchExternal=function(d){return Promise.prototype.catch.call(this,d)},c.prototype.error=function(d){return this.then(function(){throw new Error(d)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Et.getPageSize=function(d,u,f){if(Ys(d)==="object"){var m=d;d=m.orientation,u=m.unit||u,f=m.format||f}u=u||"mm",f=f||"a4",d=(""+(d||"P")).toLowerCase();var b,y=(""+f).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":b=1;break;case"mm":b=72/25.4;break;case"cm":b=72/2.54;break;case"in":b=72;break;case"px":b=.75;break;case"pc":case"em":b=12;break;case"ex":b=6;break;default:throw"Invalid unit: "+u}var j,S=0,A=0;if(x.hasOwnProperty(y))S=x[y][1]/b,A=x[y][0]/b;else try{S=f[1],A=f[0]}catch{throw new Error("Invalid format: "+f)}if(d==="p"||d==="portrait")d="p",A>S&&(j=A,A=S,S=j);else{if(d!=="l"&&d!=="landscape")throw"Invalid orientation: "+d;d="l",S>A&&(j=A,A=S,S=j)}return{width:A,height:S,unit:u,k:b,orientation:d}},s.html=function(d,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(jx):null;var f=new c(u);return u.worker?f:f.from(d).doCallback()}}(Et.API),Et.API.addJS=function(s){return w5=s,this.internal.events.subscribe("postPutResources",function(){o0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(o0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),v5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){o0!==void 0&&v5!==void 0&&this.internal.out("/Names <</JavaScript "+o0+" 0 R>>")}),this},function(s){var e;s.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),i=0;i<a.length;i++){var c=a[i],d=r.exec(c);if(d!=null){var u=d[1];t.internal.newObjectDeferredBegin(u,!1)}t.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,m=[];for(i=0;i<f;i++){var b=t.internal.newObject();m.push(b);var y=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var x=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<m.length;i++)t.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+x+" 0 R"),t.internal.write(">>","endobj")}}]),s.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),s.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,i){var c={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(c),c},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var c=r.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var d=this.count=this.count_r({count:0},c);if(d>0&&this.line("/Count "+d),c.options&&c.options.pageNumber){var u=t.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])}(Et.API),function(s){var e=[192,193,194,195,196,197,198,199];s.processJPEG=function(t,r,a,i,c,d){var u,f=this.decode.DCT_DECODE,m=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=c||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,u=function(b){for(var y,x=256*b.charCodeAt(4)+b.charCodeAt(5),j=b.length,S={width:0,height:0,numcomponents:1},A=4;A<j;A+=2){if(A+=x,e.indexOf(b.charCodeAt(A+1))!==-1){y=256*b.charCodeAt(A+5)+b.charCodeAt(A+6),S={width:256*b.charCodeAt(A+7)+b.charCodeAt(A+8),height:y,numcomponents:b.charCodeAt(A+9)};break}x=256*b.charCodeAt(A+2)+b.charCodeAt(A+3)}return S}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),u.numcomponents){case 1:d=this.color_spaces.DEVICE_GRAY;break;case 4:d=this.color_spaces.DEVICE_CMYK;break;case 3:d=this.color_spaces.DEVICE_RGB}m={data:t,width:u.width,height:u.height,colorSpace:d,bitsPerComponent:8,filter:f,index:r,alias:a}}return m}}(Et.API),Et.API.processPNG=function(s,e,t,r){if(this.__addimage__.isArrayBuffer(s)&&(s=new Uint8Array(s)),this.__addimage__.isArrayBufferView(s)){var a,i=xL(s,{checkCrc:!0}),c=i.width,d=i.height,u=i.channels,f=i.palette,m=i.depth;a=f&&u===1?function(Y){for(var E=Y.width,I=Y.height,$=Y.data,R=Y.palette,q=Y.depth,ie=!1,K=[],oe=[],Z=void 0,se=!1,ee=0,pe=0;pe<R.length;pe++){var Q=_v(R[pe],4),me=Q[0],O=Q[1],V=Q[2],te=Q[3];K.push(me,O,V),te!=null&&(te===0?(ee++,oe.length<1&&oe.push(pe)):te<255&&(se=!0))}if(se||ee>1){ie=!0,oe=void 0;var he=E*I;Z=new Uint8Array(he);for(var fe=new DataView($.buffer),ve=0;ve<he;ve++){var Ce=Sx(fe,ve,q),ue=_v(R[Ce],4)[3];Z[ve]=ue}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:$,alphaBytes:Z,needSMask:ie,palette:K,mask:oe}}(i):u===2||u===4?function(Y){for(var E=Y.data,I=Y.width,$=Y.height,R=Y.channels,q=Y.depth,ie=R===2?"DeviceGray":"DeviceRGB",K=R-1,oe=I*$,Z=K,se=oe*Z,ee=1*oe,pe=Math.ceil(se*q/8),Q=Math.ceil(ee*q/8),me=new Uint8Array(pe),O=new Uint8Array(Q),V=new DataView(E.buffer),te=new DataView(me.buffer),he=new DataView(O.buffer),fe=!1,ve=0;ve<oe;ve++){for(var Ce=ve*R,ue=0;ue<Z;ue++)E5(te,Sx(V,Ce+ue,q),ve*Z+ue,q);var Le=Sx(V,Ce+Z,q);Le<(1<<q)-1&&(fe=!0),E5(he,Le,1*ve,q)}return{colorSpace:ie,colorsPerPixel:K,colorBytes:me,alphaBytes:O,needSMask:fe}}(i):function(Y){var E=Y.data,I=Y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:I,colorsPerPixel:I==="DeviceGray"?1:3,colorBytes:E instanceof Uint8Array?E:new Uint8Array(E.buffer),needSMask:!1}}(i);var b,y,x,j=a,S=j.colorSpace,A=j.colorsPerPixel,k=j.colorBytes,P=j.alphaBytes,M=j.needSMask,F=j.palette,B=j.mask,ae=null;return r!==Et.API.image_compression.NONE&&typeof m1=="function"?(ae=function(Y){var E;switch(Y){case Et.API.image_compression.FAST:E=11;break;case Et.API.image_compression.MEDIUM:E=13;break;case Et.API.image_compression.SLOW:E=14;break;default:E=12}return E}(r),b=this.decode.FLATE_DECODE,y="/Predictor ".concat(ae," "),s=_5(k,c*A,A,r),M&&(x=_5(P,c,1,r))):(b=void 0,y="",s=k,M&&(x=P)),y+="/Colors ".concat(A," /BitsPerComponent ").concat(m," /Columns ").concat(c),(this.__addimage__.isArrayBuffer(s)||this.__addimage__.isArrayBufferView(s))&&(s=this.__addimage__.arrayBufferToBinaryString(s)),(x&&this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),{alias:t,data:s,index:e,filter:b,decodeParameters:y,transparency:B,palette:F,sMask:x,predictor:ae,width:c,height:d,bitsPerComponent:m,colorSpace:S}}},function(s){s.processGIF89A=function(e,t,r,a){var i=new FL(e),c=i.width,d=i.height,u=[];i.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:c,height:d},m=new _x(100).encode(f,100);return s.processJPEG.call(this,m,t,r,a)},s.processGIF87A=s.processGIF89A}(Et.API),to.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var s=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(s);for(var e=0;e<s;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},to.prototype.parseBGR=function(){this.pos=this.offset;try{var s="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[s]()}catch(t){sr.log("bit decode error:"+t)}},to.prototype.bit1=function(){var s,e=Math.ceil(this.width/8),t=e%4;for(s=this.height-1;s>=0;s--){for(var r=this.bottom_up?s:this.height-1-s,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+8*a*4,d=0;d<8&&8*a+d<this.width;d++){var u=this.palette[i>>7-d&1];this.data[c+4*d]=u.blue,this.data[c+4*d+1]=u.green,this.data[c+4*d+2]=u.red,this.data[c+4*d+3]=255}t!==0&&(this.pos+=4-t)}},to.prototype.bit4=function(){for(var s=Math.ceil(this.width/2),e=s%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<s;a++){var i=this.datav.getUint8(this.pos++,!0),c=r*this.width*4+2*a*4,d=i>>4,u=15&i,f=this.palette[d];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[u],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},to.prototype.bit8=function(){for(var s=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;if(a<this.palette.length){var c=this.palette[a];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}s!==0&&(this.pos+=4-s)}},to.prototype.bit15=function(){for(var s=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&e)/e*255|0,d=(i>>5&e)/e*255|0,u=(i>>10&e)/e*255|0,f=i>>15?255:0,m=r*this.width*4+4*a;this.data[m]=u,this.data[m+1]=d,this.data[m+2]=c,this.data[m+3]=f}this.pos+=s}},to.prototype.bit16=function(){for(var s=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(c&e)/e*255|0,u=(c>>5&t)/t*255|0,f=(c>>11)/e*255|0,m=a*this.width*4+4*i;this.data[m]=f,this.data[m+1]=u,this.data[m+2]=d,this.data[m+3]=255}this.pos+=s}},to.prototype.bit24=function(){for(var s=this.height-1;s>=0;s--){for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=255}this.pos+=this.width%4}},to.prototype.bit32=function(){for(var s=this.height-1;s>=0;s--)for(var e=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),d=e*this.width*4+4*t;this.data[d]=i,this.data[d+1]=a,this.data[d+2]=r,this.data[d+3]=c}},to.prototype.getData=function(){return this.data},function(s){s.processBMP=function(e,t,r,a){var i=new to(e,!1),c=i.width,d=i.height,u={data:i.getData(),width:c,height:d},f=new _x(100).encode(u,100);return s.processJPEG.call(this,f,t,r,a)}}(Et.API),T5.prototype.getData=function(){return this.data},function(s){s.processWEBP=function(e,t,r,a){var i=new T5(e),c=i.width,d=i.height,u={data:i.getData(),width:c,height:d},f=new _x(100).encode(u,100);return s.processJPEG.call(this,f,t,r,a)}}(Et.API),Et.API.processRGBA=function(s,e,t){for(var r=s.data,a=r.length,i=new Uint8Array(a/4*3),c=new Uint8Array(a/4),d=0,u=0,f=0;f<a;f+=4){var m=r[f],b=r[f+1],y=r[f+2],x=r[f+3];i[d++]=m,i[d++]=b,i[d++]=y,c[u++]=x}var j=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:s.width,height:s.height}},Et.API.setLanguage=function(s){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[s]!==void 0&&(this.internal.languageSettings.languageCode=s,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vu=Et.API,l0=vu.getCharWidthsArray=function(s,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),d=e.widths?e.widths:a.metadata.Unicode.widths,u=d.fof?d.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,m=f.fof?f.fof:1,b=e.doKerning!==!1,y=0,x=s.length,j=0,S=d[0]||u,A=[];for(t=0;t<x;t++)r=s.charCodeAt(t),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+c*(1e3/i)||0)/1e3):(y=b&&Ys(f[r])==="object"&&!isNaN(parseInt(f[r][j],10))?f[r][j]/m:0,A.push((d[r]||S)/u+y)),j=r;return A},j5=vu.getStringUnitWidth=function(s,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return vu.processArabic&&(s=vu.processArabic(s)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(s,t,a)/t:l0.apply(this,arguments).reduce(function(i,c){return i+c},0)},N5=function(s,e,t,r){for(var a=[],i=0,c=s.length,d=0;i!==c&&d+e[i]<t;)d+=e[i],i++;a.push(s.slice(0,i));var u=i;for(d=0;i!==c;)d+e[i]>r&&(a.push(s.slice(u,i)),d=0,u=i),d+=e[i],i++;return u!==i&&a.push(s.slice(u,i)),a},S5=function(s,e,t){t||(t={});var r,a,i,c,d,u,f,m=[],b=[m],y=t.textIndent||0,x=0,j=0,S=s.split(" "),A=l0.apply(this,[" ",t])[0];if(u=t.lineIndent===-1?S[0].length+2:t.lineIndent||0){var k=Array(u).join(" "),P=[];S.map(function(F){(F=F.split(/\s*\n/)).length>1?P=P.concat(F.map(function(B,ae){return(ae&&B.length?`
`:"")+B})):P.push(F[0])}),S=P,u=j5.apply(this,[k,t])}for(i=0,c=S.length;i<c;i++){var M=0;if(r=S[i],u&&r[0]==`
`&&(r=r.substr(1),M=1),y+x+(j=(a=l0.apply(this,[r,t])).reduce(function(F,B){return F+B},0))>e||M){if(j>e){for(d=N5.apply(this,[r,a,e-(y+x),e]),m.push(d.shift()),m=[d.pop()];d.length;)b.push([d.shift()]);j=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(F,B){return F+B},0)}else m=[r];b.push(m),y=j+u,x=A}else m.push(r),y+=x+j,x=A}return f=u?function(F,B){return(B?k:"")+F.join(" ")}:function(F){return F.join(" ")},b.map(f)},vu.splitTextToSize=function(s,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var b=this.internal.getFont(m.fontName,m.fontStyle),y="Unicode";return b.metadata[y]?{widths:b.metadata[y].widths||{0:1},kerning:b.metadata[y].kerning||{}}:{font:b.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(s)?s:String(s).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;i.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=t.lineIndent;var d,u,f=[];for(d=0,u=r.length;d<u;d++)f=f.concat(S5.apply(this,[r[d],c,i]));return f},function(s){s.__fontmetrics__=s.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[t[i]]=e[i],a[e[i]]=t[i];var c=function(y){return"0x"+parseInt(y,10).toString(16)},d=s.__fontmetrics__.compress=function(y){var x,j,S,A,k=["{"];for(var P in y){if(x=y[P],isNaN(parseInt(P,10))?j="'"+P+"'":(P=parseInt(P,10),j=(j=c(P).slice(2)).slice(0,-1)+a[j.slice(-1)]),typeof x=="number")x<0?(S=c(x).slice(3),A="-"):(S=c(x).slice(2),A=""),S=A+S.slice(0,-1)+a[S.slice(-1)];else{if(Ys(x)!=="object")throw new Error("Don't know what to do with value type "+Ys(x)+".");S=d(x)}k.push(j+S)}return k.push("}"),k.join("")},u=s.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,j,S,A,k={},P=1,M=k,F=[],B="",ae="",Y=y.length-1,E=1;E<Y;E+=1)(A=y[E])=="'"?x?(S=x.join(""),x=void 0):x=[]:x?x.push(A):A=="{"?(F.push([M,S]),M={},S=void 0):A=="}"?((j=F.pop())[0][j[1]]=M,S=void 0,M=j[0]):A=="-"?P=-1:S===void 0?r.hasOwnProperty(A)?(B+=r[A],S=parseInt(B,16)*P,P=1,B=""):B+=A:r.hasOwnProperty(A)?(ae+=r[A],M[S]=parseInt(ae,16)*P,P=1,S=void 0,ae=""):ae+=A;return k},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},b={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};s.events.push(["addFont",function(y){var x=y.font,j=b.Unicode[x.postScriptName];j&&(x.metadata.Unicode={},x.metadata.Unicode.widths=j.widths,x.metadata.Unicode.kerning=j.kerning);var S=m.Unicode[x.postScriptName];S&&(x.metadata.Unicode.encoding=S,x.encoding=S.codePages[0])}])}(Et.API),function(s){var e=function(t){for(var r=t.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=t.charCodeAt(i);return a};s.API.events.push(["addFont",function(t){var r=void 0,a=t.font,i=t.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,d){d=/^\x00\x01\x00\x00/.test(d)?e(d):e(P0(d)),c.metadata=s.API.TTFFont.open(d),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,r)}}])}(Et),Et.API.addSvgAsImage=function(s,e,t,r,a,i,c,d){if(isNaN(e)||isNaN(t))throw sr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw sr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=r,u.height=a;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return(Kt.canvg?Promise.resolve(Kt.canvg):Bn(()=>import("./index.es-BGmEE6A4.js"),[],import.meta.url)).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,s,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){b.addImage(u.toDataURL("image/jpeg",1),e,t,r,a,c,d)})},Et.API.putTotalPages=function(s){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(s,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(s,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},Et.API.viewerPreferences=function(s,e){var t;s=s||{},e=e||!1;var r,a,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},d=Object.keys(c),u=[],f=0,m=0,b=0;function y(j,S){var A,k=!1;for(A=0;A<j.length;A+=1)j[A]===S&&(k=!0);return k}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,s==="reset"||e===!0){var x=d.length;for(b=0;b<x;b+=1)t[d[b]].value=t[d[b]].defaultValue,t[d[b]].explicitSet=!1}if(Ys(s)==="object"){for(a in s)if(i=s[a],y(d,a)&&i!==void 0){if(t[a].type==="boolean"&&typeof i=="boolean")t[a].value=i;else if(t[a].type==="name"&&y(t[a].valueSet,i))t[a].value=i;else if(t[a].type==="integer"&&Number.isInteger(i))t[a].value=i;else if(t[a].type==="array"){for(f=0;f<i.length;f+=1)if(r=!0,i[f].length===1&&typeof i[f][0]=="number")u.push(String(i[f]-1));else if(i[f].length>1){for(m=0;m<i[f].length;m+=1)typeof i[f][m]!="number"&&(r=!1);r===!0&&u.push([i[f][0]-1,i[f][1]-1].join(" "))}t[a].value="["+u.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,S=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?S.push("/"+j+" /"+t[j].value):S.push("/"+j+" "+t[j].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(s){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),c=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),d=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+c.length+d.length+a.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+c+d+u),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};s.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Et.API),function(s){var e=s.API,t=e.pdfEscape16=function(i,c){for(var d,u=c.metadata.Unicode.widths,f=["","0","00","000","0000"],m=[""],b=0,y=i.length;b<y;++b){if(d=c.metadata.characterToGlyph(i.charCodeAt(b)),c.metadata.glyIdsUsed.push(d),c.metadata.toUnicode[d]=i.charCodeAt(b),u.indexOf(d)==-1&&(u.push(d),u.push([parseInt(c.metadata.widthOfGlyph(d),10)])),d=="0")return m.join("");d=d.toString(16),m.push(f[4-d.length],d)}return m.join("")},r=function(i){var c,d,u,f,m,b,y;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],b=0,y=(d=Object.keys(i).sort(function(x,j){return x-j})).length;b<y;b++)c=d[b],u.length>=100&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(f=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),u.push("<"+c+"><"+f+">"));return u.length&&(m+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(c){var d=c.font,u=c.out,f=c.newObject,m=c.putStream;if(d.metadata instanceof s.API.TTFFont&&d.encoding==="Identity-H"){for(var b=d.metadata.Unicode.widths,y=d.metadata.subset.encode(d.metadata.glyIdsUsed,1),x="",j=0;j<y.length;j++)x+=String.fromCharCode(y[j]);var S=f();m({data:x,addLength1:!0,objectId:S}),u("endobj");var A=f();m({data:r(d.metadata.toUnicode),addLength1:!0,objectId:A}),u("endobj");var k=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+ku(d.fontName)),u("/FontFile2 "+S+" 0 R"),u("/FontBBox "+s.API.PDFObject.convert(d.metadata.bbox)),u("/Flags "+d.metadata.flags),u("/StemV "+d.metadata.stemV),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u(">>"),u("endobj");var P=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+ku(d.fontName)),u("/FontDescriptor "+k+" 0 R"),u("/W "+s.API.PDFObject.convert(b)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+d.encoding+")"),u(">>"),u(">>"),u("endobj"),d.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+A+" 0 R"),u("/BaseFont /"+ku(d.fontName)),u("/Encoding /"+d.encoding),u("/DescendantFonts ["+P+" 0 R]"),u(">>"),u("endobj"),d.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(c){var d=c.font,u=c.out,f=c.newObject,m=c.putStream;if(d.metadata instanceof s.API.TTFFont&&d.encoding==="WinAnsiEncoding"){for(var b=d.metadata.rawData,y="",x=0;x<b.length;x++)y+=String.fromCharCode(b[x]);var j=f();m({data:y,addLength1:!0,objectId:j}),u("endobj");var S=f();m({data:r(d.metadata.toUnicode),addLength1:!0,objectId:S}),u("endobj");var A=f();u("<<"),u("/Descent "+d.metadata.decender),u("/CapHeight "+d.metadata.capHeight),u("/StemV "+d.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+j+" 0 R"),u("/Flags 96"),u("/FontBBox "+s.API.PDFObject.convert(d.metadata.bbox)),u("/FontName /"+ku(d.fontName)),u("/ItalicAngle "+d.metadata.italicAngle),u("/Ascent "+d.metadata.ascender),u(">>"),u("endobj"),d.objectNumber=f();for(var k=0;k<d.metadata.hmtx.widths.length;k++)d.metadata.hmtx.widths[k]=parseInt(d.metadata.hmtx.widths[k]*(1e3/d.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+ku(d.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+d.encoding+" /FirstChar 29 /LastChar 255 /Widths "+s.API.PDFObject.convert(d.metadata.hmtx.widths)+">>"),u("endobj"),d.isAlreadyPutted=!0}})(i)}]);var a=function(i){var c,d=i.text||"",u=i.x,f=i.y,m=i.options||{},b=i.mutex||{},y=b.pdfEscape,x=b.activeFontKey,j=b.fonts,S=x,A="",k=0,P="",M=j[S].encoding;if(j[S].encoding!=="Identity-H")return{text:d,x:u,y:f,options:m,mutex:b};for(P=d,S=x,Array.isArray(d)&&(P=d[0]),k=0;k<P.length;k+=1)j[S].metadata.hasOwnProperty("cmap")&&(c=j[S].metadata.cmap.unicode.codeMap[P[k].charCodeAt(0)]),c||P[k].charCodeAt(0)<256&&j[S].metadata.hasOwnProperty("Unicode")?A+=P[k]:A+="";var F="";return parseInt(S.slice(1))<14||M==="WinAnsiEncoding"?F=y(A,S).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(F=t(A,j[S])),b.isHex=!0,{text:F,x:u,y:f,options:m,mutex:b}};e.events.push(["postProcessText",function(i){var c=i.text||"",d=[],u={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?d.push([a(Object.assign({},u,{text:c[f][0]})).text,c[f][1],c[f][2]]):d.push(a(Object.assign({},u,{text:c[f]})).text);i.text=d}else i.text=a(Object.assign({},u,{text:c})).text}])}(Et),function(s){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};s.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},s.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},s.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Et.API),function(s){s.__bidiEngine__=s.prototype.__bidiEngine__=function(r){var a,i,c,d,u,f,m,b=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],k=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,M=0;this.__bidiEngine__={};var F=function(R){var q=R.charCodeAt(),ie=q>>8,K=S[ie];return K!==void 0?b[256*K+(255&q)]:ie===252||ie===253?"AL":k.test(ie)?"L":ie===8?"R":"N"},B=function(R){for(var q,ie=0;ie<R.length;ie++){if((q=F(R.charAt(ie)))==="L")return!1;if(q==="R")return!0}return!1},ae=function(R,q,ie,K){var oe,Z,se,ee,pe=q[K];switch(pe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(pe="AN");break;case"AL":P=!0,pe="R";break;case"WS":case"BN":pe="N";break;case"CS":K<1||K+1>=q.length||(oe=ie[K-1])!=="EN"&&oe!=="AN"||(Z=q[K+1])!=="EN"&&Z!=="AN"?pe="N":P&&(Z="AN"),pe=Z===oe?Z:"N";break;case"ES":pe=(oe=K>0?ie[K-1]:"B")==="EN"&&K+1<q.length&&q[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&ie[K-1]==="EN"){pe="EN";break}if(P){pe="N";break}for(se=K+1,ee=q.length;se<ee&&q[se]==="ET";)se++;pe=se<ee&&q[se]==="EN"?"EN":"N";break;case"NSM":if(c&&!d){for(ee=q.length,se=K+1;se<ee&&q[se]==="NSM";)se++;if(se<ee){var Q=R[K],me=Q>=1425&&Q<=2303||Q===64286;if(oe=q[se],me&&(oe==="R"||oe==="AL")){pe="R";break}}}pe=K<1||(oe=q[K-1])==="B"?"N":ie[K-1];break;case"B":P=!1,a=!0,pe=M;break;case"S":i=!0,pe="N"}return pe},Y=function(R,q,ie){var K=R.split("");return ie&&E(K,ie,{hiLevel:M}),K.reverse(),q&&q.reverse(),K.join("")},E=function(R,q,ie){var K,oe,Z,se,ee,pe=-1,Q=R.length,me=0,O=[],V=M?x:y,te=[];for(P=!1,a=!1,i=!1,oe=0;oe<Q;oe++)te[oe]=F(R[oe]);for(Z=0;Z<Q;Z++){if(ee=me,O[Z]=ae(R,te,O,Z),K=240&(me=V[ee][j[O[Z]]]),me&=15,q[Z]=se=V[me][5],K>0)if(K===16){for(oe=pe;oe<Z;oe++)q[oe]=1;pe=-1}else pe=-1;if(V[me][6])pe===-1&&(pe=Z);else if(pe>-1){for(oe=pe;oe<Z;oe++)q[oe]=se;pe=-1}te[Z]==="B"&&(q[Z]=0),ie.hiLevel|=se}i&&function(he,fe,ve){for(var Ce=0;Ce<ve;Ce++)if(he[Ce]==="S"){fe[Ce]=M;for(var ue=Ce-1;ue>=0&&he[ue]==="WS";ue--)fe[ue]=M}}(te,q,Q)},I=function(R,q,ie,K,oe){if(!(oe.hiLevel<R)){if(R===1&&M===1&&!a)return q.reverse(),void(ie&&ie.reverse());for(var Z,se,ee,pe,Q=q.length,me=0;me<Q;){if(K[me]>=R){for(ee=me+1;ee<Q&&K[ee]>=R;)ee++;for(pe=me,se=ee-1;pe<se;pe++,se--)Z=q[pe],q[pe]=q[se],q[se]=Z,ie&&(Z=ie[pe],ie[pe]=ie[se],ie[se]=Z);me=ee}me++}}},$=function(R,q,ie){var K=R.split(""),oe={hiLevel:M};return ie||(ie=[]),E(K,ie,oe),function(Z,se,ee){if(ee.hiLevel!==0&&m)for(var pe,Q=0;Q<Z.length;Q++)se[Q]===1&&(pe=A.indexOf(Z[Q]))>=0&&(Z[Q]=A[pe+1])}(K,ie,oe),I(2,K,q,ie,oe),I(1,K,q,ie,oe),K.join("")};return this.__bidiEngine__.doBidiReorder=function(R,q,ie){if(function(oe,Z){if(Z)for(var se=0;se<oe.length;se++)Z[se]=se;d===void 0&&(d=B(oe)),f===void 0&&(f=B(oe))}(R,q),c||!u||f)if(c&&u&&d^f)M=d?1:0,R=Y(R,q,ie);else if(!c&&u&&f)M=d?1:0,R=$(R,q,ie),R=Y(R,q);else if(!c||d||u||f){if(c&&!u&&d^f)R=Y(R,q),d?(M=0,R=$(R,q,ie)):(M=1,R=$(R,q,ie),R=Y(R,q));else if(c&&d&&!u&&f)M=1,R=$(R,q,ie),R=Y(R,q);else if(!c&&!u&&d^f){var K=m;d?(M=1,R=$(R,q,ie),M=0,m=!1,R=$(R,q,ie),m=K):(M=0,R=$(R,q,ie),R=Y(R,q),M=1,m=!1,R=$(R,q,ie),m=K,R=Y(R,q))}}else M=0,R=$(R,q,ie);else M=d?1:0,R=$(R,q,ie);return R},this.__bidiEngine__.setOptions=function(R){R&&(c=R.isInputVisual,u=R.isOutputVisual,d=R.isInputRtl,f=R.isOutputRtl,m=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new s.__bidiEngine__({isInputVisual:!0});s.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var c=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,t.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var d=0;for(c=[],d=0;d<a.length;d+=1)Object.prototype.toString.call(a[d])==="[object Array]"?c.push([t.doBidiReorder(a[d][0]),a[d][1],a[d][2]]):c.push([t.doBidiReorder(a[d])]);r.text=c}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function s(e){var t;if(this.rawData=e,t=this.contents=new Oc(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new QL(this),this.registerTTF()}return s.open=function(e){return new s(e)},s.prototype.parse=function(){return this.directory=new BL(this.contents),this.head=new UL(this),this.name=new $L(this),this.cmap=new w4(this),this.toUnicode={},this.hhea=new qL(this),this.maxp=new GL(this),this.hmtx=new YL(this),this.post=new WL(this),this.os2=new HL(this),this.loca=new ZL(this),this.glyf=new KL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},s.prototype.registerTTF=function(){var e,t,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,d,u,f;for(f=[],c=0,d=(u=this.bbox).length;c<d;c++)e=u[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},s.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},s.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},s.prototype.widthOfString=function(e,t,r){var a,i,c,d;for(c=0,i=0,d=(e=""+e).length;0<=d?i<d:i>d;i=0<=d?++i:--i)a=e.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return c*(t/1e3)},s.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},s}();var lo,Oc=function(){function s(e){this.data=e??[],this.pos=0,this.length=this.data.length}return s.prototype.readByte=function(){return this.data[this.pos++]},s.prototype.writeByte=function(e){return this.data[this.pos++]=e},s.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},s.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},s.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},s.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},s.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},s.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},s.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},s.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},s.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},s.prototype.readShort=function(){return this.readInt16()},s.prototype.writeShort=function(e){return this.writeInt16(e)},s.prototype.readLongLong=function(){var e,t,r,a,i,c,d,u;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),c=this.readByte(),d=this.readByte(),u=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^c)+256*(255^d)+(255^u)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*i+65536*c+256*d+u},s.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},s.prototype.readInt=function(){return this.readInt32()},s.prototype.writeInt=function(e){return this.writeInt32(e)},s.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},s.prototype.write=function(e){var t,r,a,i;for(i=[],r=0,a=e.length;r<a;r++)t=e[r],i.push(this.writeByte(t));return i},s}(),BL=function(){var s;function e(t){var r,a,i;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,i,c,d,u,f,m,b,y,x,j,S;for(S in x=Object.keys(t).length,u=Math.log(2),b=16*Math.floor(Math.log(x)/u),c=Math.floor(b/u),m=16*x-b,(a=new Oc).writeInt(this.scalarType),a.writeShort(x),a.writeShort(b),a.writeShort(c),a.writeShort(m),i=16*x,f=a.pos+i,d=null,j=[],t)for(y=t[S],a.writeString(S),a.writeInt(s(y)),a.writeInt(f),a.writeInt(y.length),j=j.concat(y),S==="head"&&(d=f),f+=y.length;f%4;)j.push(0),f++;return a.write(j),r=2981146554-s(a.data),a.pos=d+8,a.writeUInt32(r),a.data},s=function(t){var r,a,i,c;for(t=j4.call(t);t.length%4;)t.push(0);for(i=new Oc(t),a=0,r=0,c=t.length;r<c;r=r+=4)a+=i.readUInt32();return 4294967295&a},e}(),zL={}.hasOwnProperty,qo=function(s,e){for(var t in e)zL.call(e,t)&&(s[t]=e[t]);function r(){this.constructor=s}return r.prototype=e.prototype,s.prototype=new r,s.__super__=e.prototype,s};lo=function(){function s(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return s.prototype.parse=function(){},s.prototype.encode=function(){},s.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},s}();var UL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="head",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},s.prototype.encode=function(e){var t;return(t=new Oc).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},s}(),M5=function(){function s(e,t){var r,a,i,c,d,u,f,m,b,y,x,j,S,A,k,P,M;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),b=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=e.readByte();break;case 4:for(x=e.readUInt16(),y=x/2,e.pos+=6,i=function(){var F,B;for(B=[],u=F=0;0<=y?F<y:F>y;u=0<=y?++F:--F)B.push(e.readUInt16());return B}(),e.pos+=2,S=function(){var F,B;for(B=[],u=F=0;0<=y?F<y:F>y;u=0<=y?++F:--F)B.push(e.readUInt16());return B}(),f=function(){var F,B;for(B=[],u=F=0;0<=y?F<y:F>y;u=0<=y?++F:--F)B.push(e.readUInt16());return B}(),m=function(){var F,B;for(B=[],u=F=0;0<=y?F<y:F>y;u=0<=y?++F:--F)B.push(e.readUInt16());return B}(),a=(this.length-e.pos+this.offset)/2,d=function(){var F,B;for(B=[],u=F=0;0<=a?F<a:F>a;u=0<=a?++F:--F)B.push(e.readUInt16());return B}(),u=k=0,M=i.length;k<M;u=++k)for(A=i[u],r=P=j=S[u];j<=A?P<=A:P>=A;r=j<=A?++P:--P)m[u]===0?c=r+f[u]:(c=d[m[u]/2+(r-j)-(y-u)]||0)!==0&&(c+=f[u]),this.codeMap[r]=65535&c}e.pos=b}return s.encode=function(e,t){var r,a,i,c,d,u,f,m,b,y,x,j,S,A,k,P,M,F,B,ae,Y,E,I,$,R,q,ie,K,oe,Z,se,ee,pe,Q,me,O,V,te,he,fe,ve,Ce,ue,Le,Be,Ze;switch(K=new Oc,c=Object.keys(e).sort(function(Fe,je){return Fe-je}),t){case"macroman":for(S=0,A=function(){var Fe=[];for(j=0;j<256;++j)Fe.push(0);return Fe}(),P={0:0},i={},oe=0,pe=c.length;oe<pe;oe++)P[ue=e[a=c[oe]]]==null&&(P[ue]=++S),i[a]={old:e[a],new:P[e[a]]},A[a]=P[e[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(A),{charMap:i,subtable:K.data,maxGlyphID:S+1};case"unicode":for(q=[],b=[],M=0,P={},r={},k=f=null,Z=0,Q=c.length;Z<Q;Z++)P[B=e[a=c[Z]]]==null&&(P[B]=++M),r[a]={old:B,new:P[B]},d=P[B]-a,k!=null&&d===f||(k&&b.push(k),q.push(a),f=d),k=a;for(k&&b.push(k),b.push(65535),q.push(65535),$=2*(I=q.length),E=2*Math.pow(Math.log(I)/Math.LN2,2),y=Math.log(E/2)/Math.LN2,Y=2*I-E,u=[],ae=[],x=[],j=se=0,me=q.length;se<me;j=++se){if(R=q[j],m=b[j],R===65535){u.push(0),ae.push(0);break}if(R-(ie=r[R].new)>=32768)for(u.push(0),ae.push(2*(x.length+I-j)),a=ee=R;R<=m?ee<=m:ee>=m;a=R<=m?++ee:--ee)x.push(r[a].new);else u.push(ie-R),ae.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*I+2*x.length),K.writeUInt16(0),K.writeUInt16($),K.writeUInt16(E),K.writeUInt16(y),K.writeUInt16(Y),ve=0,O=b.length;ve<O;ve++)a=b[ve],K.writeUInt16(a);for(K.writeUInt16(0),Ce=0,V=q.length;Ce<V;Ce++)a=q[Ce],K.writeUInt16(a);for(Le=0,te=u.length;Le<te;Le++)d=u[Le],K.writeUInt16(d);for(Be=0,he=ae.length;Be<he;Be++)F=ae[Be],K.writeUInt16(F);for(Ze=0,fe=x.length;Ze<fe;Ze++)S=x[Ze],K.writeUInt16(S);return{charMap:r,subtable:K.data,maxGlyphID:M+1}}},s}(),w4=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="cmap",s.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new M5(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},s.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=M5.encode(e,t),(a=new Oc).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},s}(),qL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="hhea",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},s}(),HL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="OS/2",s.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},s}(),WL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="post",s.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(r=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var c,d,u;for(u=[],i=c=0,d=this.file.maxp.numGlyphs;0<=d?c<d:c>d;i=0<=d?++c:--c)u.push(e.readUInt32());return u}).call(this)}},s}(),VL=function(s,e){this.raw=s,this.length=s.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},$L=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="name",s.prototype.parse=function(e){var t,r,a,i,c,d,u,f,m,b,y;for(e.pos=this.offset,e.readShort(),t=e.readShort(),d=e.readShort(),r=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+d+e.readShort()});for(u={},i=m=0,b=r.length;m<b;i=++m)a=r[i],e.pos=a.offset,f=e.readString(a.length),c=new VL(f,a),u[y=a.nameID]==null&&(u[y]=[]),u[a.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},s}(),GL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="maxp",s.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},s}(),YL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="hmtx",s.prototype.parse=function(e){var t,r,a,i,c,d,u;for(e.pos=this.offset,this.metrics=[],t=0,d=this.file.hhea.numberOfMetrics;0<=d?t<d:t>d;t=0<=d?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)m.push(e.readInt16());return m}(),this.widths=(function(){var f,m,b,y;for(y=[],f=0,m=(b=this.metrics).length;f<m;f++)i=b[f],y.push(i.advance);return y}).call(this),r=this.widths[this.widths.length-1],u=[],t=c=0;0<=a?c<a:c>a;t=0<=a?++c:--c)u.push(this.widths.push(r));return u},s.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},s}(),j4=[].slice,KL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="glyf",s.prototype.parse=function(){return this.cache={}},s.prototype.glyphFor=function(e){var t,r,a,i,c,d,u,f,m,b;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,r=i.indexOf(e),(a=i.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,c=(d=new Oc(t.read(a))).readShort(),f=d.readShort(),b=d.readShort(),u=d.readShort(),m=d.readShort(),this.cache[e]=c===-1?new JL(d,f,b,u,m):new XL(d,c,f,b,u,m),this.cache[e]))},s.prototype.encode=function(e,t,r){var a,i,c,d,u;for(c=[],i=[],d=0,u=t.length;d<u;d++)a=e[t[d]],i.push(c.length),a&&(c=c.concat(a.encode(r)));return i.push(c.length),{table:c,offsets:i}},s}(),XL=function(){function s(e,t,r,a,i,c){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=c,this.compound=!1}return s.prototype.encode=function(){return this.raw.data},s}(),JL=function(){function s(e,t,r,a,i){var c,d;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;d=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&d;)c.pos+=1&d?4:2,128&d?c.pos+=8:64&d?c.pos+=4:8&d&&(c.pos+=2)}return s.prototype.encode=function(){var e,t,r;for(t=new Oc(j4.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},s}(),ZL=function(){function s(){return s.__super__.constructor.apply(this,arguments)}return qo(s,lo),s.prototype.tag="loca",s.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],r=0,a=this.length;r<a;r+=4)i.push(e.readUInt32());return i}).call(this)},s.prototype.indexOf=function(e){return this.offsets[e]},s.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},s.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,i=0,c=0;c<r.length;++c)if(r[c]=a,i<t.length&&t[i]==c){++i,r[c]=a;var d=this.offsets[c],u=this.offsets[c+1]-d;u>0&&(a+=u)}for(var f=new Array(4*r.length),m=0;m<r.length;++m)f[4*m+3]=255&r[m],f[4*m+2]=(65280&r[m])>>8,f[4*m+1]=(16711680&r[m])>>16,f[4*m]=(4278190080&r[m])>>24;return f},s}(),QL=function(){function s(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return s.prototype.generateCmap=function(){var e,t,r,a,i;for(t in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)r=i[t],e[t]=a[r];return e},s.prototype.glyphsFor=function(e){var t,r,a,i,c,d,u;for(a={},c=0,d=e.length;c<d;c++)a[i=e[c]]=this.font.glyf.glyphFor(i);for(i in t=[],a)(r=a[i])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(i in u=this.glyphsFor(t))r=u[i],a[i]=r;return a},s.prototype.encode=function(e,t){var r,a,i,c,d,u,f,m,b,y,x,j,S,A,k;for(a in r=w4.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),x={0:0},k=r.charMap)x[(u=k[a]).old]=u.new;for(j in y=r.maxGlyphID,c)j in x||(x[j]=y++);return m=function(P){var M,F;for(M in F={},P)F[P[M]]=M;return F}(x),b=Object.keys(m).sort(function(P,M){return P-M}),S=function(){var P,M,F;for(F=[],P=0,M=b.length;P<M;P++)d=b[P],F.push(m[d]);return F}(),i=this.font.glyf.encode(c,S,x),f=this.font.loca.encode(i.offsets,S),A={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},s}();Et.API.PDFObject=function(){var s;function e(){}return s=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,i,c;if(Array.isArray(t))return"["+function(){var d,u,f;for(f=[],d=0,u=t.length;d<u;d++)r=t[d],f.push(e.convert(r));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+s(t.getUTCFullYear(),4)+s(t.getUTCMonth(),2)+s(t.getUTCDate(),2)+s(t.getUTCHours(),2)+s(t.getUTCMinutes(),2)+s(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in i=["<<"],t)c=t[a],i.push("/"+a+" "+e.convert(c));return i.push(">>"),i.join(`
`)}return""+t},e}();function N4(s,e,t,r,a){r=r||{};var i=1.15,c=a.internal.scaleFactor,d=a.internal.getFontSize()/c,u=a.getLineHeightFactor?a.getLineHeightFactor():i,f=d*u,m=/\r\n|\r|\n/g,b="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(b=typeof s=="string"?s.split(m):s,y=b.length||1),t+=d*(2-i),r.valign==="middle"?t-=y/2*f:r.valign==="bottom"&&(t-=y*f),r.halign==="center"||r.halign==="right"){var x=d;if(r.halign==="center"&&(x*=.5),b&&y>=1){for(var j=0;j<b.length;j++)a.text(b[j],e-a.getStringUnitWidth(b[j])*x,t),t+=f;return a}e-=a.getStringUnitWidth(s)*x}return r.halign==="justify"?a.text(s,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(s,e,t),a}var R5={},Tu=function(){function s(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return s.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:R5=e},s.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},s.prototype.applyStyles=function(e,t){var r,a,i;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),d=c.fontStyle,u=c.fontName;if(e.font&&(u=e.font),e.fontStyle){d=e.fontStyle;var f=this.getFontList()[u];f&&f.indexOf(d)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),d=f[0])}if(this.jsPDFDocument.setFont(u,d),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var m=s.unifyColor(e.fillColor);m&&(r=this.jsPDFDocument).setFillColor.apply(r,m),m=s.unifyColor(e.textColor),m&&(a=this.jsPDFDocument).setTextColor.apply(a,m),m=s.unifyColor(e.lineColor),m&&(i=this.jsPDFDocument).setDrawColor.apply(i,m),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},s.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},s.prototype.rect=function(e,t,r,a,i){return this.jsPDFDocument.rect(e,t,r,a,i)},s.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},s.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},s.prototype.getDocument=function(){return this.jsPDFDocument},s.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},s.prototype.addPage=function(){return this.jsPDFDocument.addPage()},s.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},s.prototype.getGlobalOptions=function(){return R5||{}},s.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},s.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},s.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},s.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},s.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},s.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},s}(),j1=function(s,e){return j1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},j1(s,e)};function S4(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");j1(s,e);function t(){this.constructor=s}s.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var _4=function(s){S4(e,s);function e(t){var r=s.call(this)||this;return r._element=t,r}return e}(Array);function eE(s){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/s,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function tE(s){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[s]}function K0(s,e,t){t.applyStyles(e,!0);var r=Array.isArray(s)?s:[s],a=r.map(function(i){return t.getTextWidth(i)}).reduce(function(i,c){return Math.max(i,c)},0);return a}function k4(s,e,t,r){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;s.applyStyles({lineWidth:a,lineColor:i});var c=A4(a,!1);c&&s.rect(t.x,t.y,e.getWidth(s.pageSize().width),r.y-t.y,c)}function A4(s,e){var t=s>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function bp(s,e){var t,r,a,i;if(s=s||e,Array.isArray(s)){if(s.length>=4)return{top:s[0],right:s[1],bottom:s[2],left:s[3]};if(s.length===3)return{top:s[0],right:s[1],bottom:s[2],left:s[1]};if(s.length===2)return{top:s[0],right:s[1],bottom:s[0],left:s[1]};s.length===1?s=s[0]:s=e}return typeof s=="object"?(typeof s.vertical=="number"&&(s.top=s.vertical,s.bottom=s.vertical),typeof s.horizontal=="number"&&(s.right=s.horizontal,s.left=s.horizontal),{left:(t=s.left)!==null&&t!==void 0?t:e,top:(r=s.top)!==null&&r!==void 0?r:e,right:(a=s.right)!==null&&a!==void 0?a:e,bottom:(i=s.bottom)!==null&&i!==void 0?i:e}):(typeof s!="number"&&(s=e),{top:s,right:s,bottom:s,left:s})}function C4(s,e){var t=bp(e.settings.margin,0);return s.pageSize().width-(t.left+t.right)}function sE(s,e,t,r,a){var i={},c=1.3333333333333333,d=kx(e,function(M){return a.getComputedStyle(M).backgroundColor});d!=null&&(i.fillColor=d);var u=kx(e,function(M){return a.getComputedStyle(M).color});u!=null&&(i.textColor=u);var f=nE(r,t);f&&(i.cellPadding=f);var m="borderTopColor",b=c*t,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var x=(parseFloat(y)||0)/b;x&&(i.lineWidth=x)}else i.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/b,right:(parseFloat(r.borderRightWidth)||0)/b,bottom:(parseFloat(r.borderBottomWidth)||0)/b,left:(parseFloat(r.borderLeftWidth)||0)/b},i.lineWidth.top||(i.lineWidth.right?m="borderRightColor":i.lineWidth.bottom?m="borderBottomColor":i.lineWidth.left&&(m="borderLeftColor"));var j=kx(e,function(M){return a.getComputedStyle(M)[m]});j!=null&&(i.lineColor=j);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(i.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(i.valign=r.verticalAlign);var A=parseInt(r.fontSize||"");isNaN(A)||(i.fontSize=A/c);var k=rE(r);k&&(i.fontStyle=k);var P=(r.fontFamily||"").toLowerCase();return s.indexOf(P)!==-1&&(i.font=P),i}function rE(s){var e="";return(s.fontWeight==="bold"||s.fontWeight==="bolder"||parseInt(s.fontWeight)>=700)&&(e="bold"),(s.fontStyle==="italic"||s.fontStyle==="oblique")&&(e+="italic"),e}function kx(s,e){var t=L4(s,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],i=parseInt(r[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function L4(s,e){var t=e(s);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?s.parentElement==null?null:L4(s.parentElement,e):t}function nE(s,e){var t=[s.paddingTop,s.paddingRight,s.paddingBottom,s.paddingLeft],r=96/(72/e),a=(parseInt(s.lineHeight)-parseInt(s.fontSize))/e/2,i=t.map(function(d){return parseInt(d||"0")/r}),c=bp(i,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function E4(s,e,t,r,a){var i,c;r===void 0&&(r=!1),a===void 0&&(a=!1);var d;typeof e=="string"?d=t.document.querySelector(e):d=e;var u=Object.keys(s.getFontList()),f=s.scaleFactor(),m=[],b=[],y=[];if(!d)return console.error("Html table could not be found with input: ",e),{head:m,body:b,foot:y};for(var x=0;x<d.rows.length;x++){var j=d.rows[x],S=(c=(i=j?.parentElement)===null||i===void 0?void 0:i.tagName)===null||c===void 0?void 0:c.toLowerCase(),A=aE(u,f,t,j,r,a);A&&(S==="thead"?m.push(A):S==="tfoot"?y.push(A):b.push(A))}return{head:m,body:b,foot:y}}function aE(s,e,t,r,a,i){for(var c=new _4(r),d=0;d<r.cells.length;d++){var u=r.cells[d],f=t.getComputedStyle(u);if(a||f.display!=="none"){var m=void 0;i&&(m=sE(s,u,e,f,t)),c.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:m,_element:u,content:iE(u)})}}var b=t.getComputedStyle(r);if(c.length>0&&(a||b.display!=="none"))return c}function iE(s){var e=s.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function oE(s,e,t){for(var r=0,a=[s,e,t];r<a.length;r++){var i=a[r];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function _l(s,e,t,r,a){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(s),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(i[u]=d[u])}return i}function lE(s,e){var t=new Tu(s),r=t.getDocumentOptions(),a=t.getGlobalOptions();oE(a,r,e);var i=_l({},a,r,e),c;typeof window<"u"&&(c=window);var d=cE(a,r,e),u=dE(a,r,e),f=uE(t,i),m=fE(t,i,c);return{id:e.tableId,content:m,hooks:u,styles:d,settings:f}}function cE(s,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(u){if(u==="columnStyles"){var f=s[u],m=e[u],b=t[u];r.columnStyles=_l({},f,m,b)}else{var y=[s,e,t],x=y.map(function(j){return j[u]||{}});r[u]=_l({},x[0],x[1],x[2])}},i=0,c=Object.keys(r);i<c.length;i++){var d=c[i];a(d)}return r}function dE(s,e,t){for(var r=[s,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,c=r;i<c.length;i++){var d=c[i];d.didParseCell&&a.didParseCell.push(d.didParseCell),d.willDrawCell&&a.willDrawCell.push(d.willDrawCell),d.didDrawCell&&a.didDrawCell.push(d.didDrawCell),d.willDrawPage&&a.willDrawPage.push(d.willDrawPage),d.didDrawPage&&a.didDrawPage.push(d.didDrawPage)}return a}function uE(s,e){var t,r,a,i,c,d,u,f,m,b,y,x,j=bp(e.margin,40/s.scaleFactor()),S=(t=hE(s,e.startY))!==null&&t!==void 0?t:j.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var k;e.showHead===!0?k="everyPage":e.showHead===!1?k="never":k=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var P=(i=e.useCss)!==null&&i!==void 0?i:!1,M=e.theme||(P?"plain":"striped"),F=!!e.horizontalPageBreak,B=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(d=e.includeHiddenHtml)!==null&&d!==void 0?d:!1,useCss:P,theme:M,startY:S,margin:j,pageBreak:(u=e.pageBreak)!==null&&u!==void 0?u:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(m=e.tableWidth)!==null&&m!==void 0?m:"auto",showHead:k,showFoot:A,tableLineWidth:(b=e.tableLineWidth)!==null&&b!==void 0?b:0,tableLineColor:(y=e.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:F,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(x=e.horizontalPageBreakBehaviour)!==null&&x!==void 0?x:"afterAllRows"}}function hE(s,e){var t=s.getLastAutoTable(),r=s.scaleFactor(),a=s.pageNumber(),i=!1;if(t&&t.startPageNumber){var c=t.startPageNumber+t.pageNumber-1;i=c===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&t?.finalY!=null?t.finalY+20/r:null}function fE(s,e,t){var r=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(t){var d=E4(s,e.html,t,c,e.useCss)||{};r=d.head||r,a=d.body||r,i=d.foot||r}else console.error("Cannot parse html in non browser environment")}var u=e.columns||mE(r,a,i);return{columns:u,head:r,body:a,foot:i}}function mE(s,e,t){var r=s[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(i){return i!=="_element"}).forEach(function(i){var c=1,d;Array.isArray(r)?d=r[parseInt(i)]:d=r[i],typeof d=="object"&&!Array.isArray(d)&&(c=d?.colSpan||1);for(var u=0;u<c;u++){var f=void 0;Array.isArray(r)?f=a.length:f=i+(u>0?"_".concat(u):"");var m={dataKey:f};a.push(m)}}),a}var N1=function(){function s(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return s}(),pE=function(s){S4(e,s);function e(t,r,a,i,c,d){var u=s.call(this,t,r,d)||this;return u.cell=a,u.row=i,u.column=c,u.section=i.section,u}return e}(N1),gE=function(){function s(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return s.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},s.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},s.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},s.prototype.callCellHooks=function(e,t,r,a,i,c){for(var d=0,u=t;d<u.length;d++){var f=u[d],m=new pE(e,this,r,a,i,c),b=f(m)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],b)return!1}return!0},s.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var i=a[r];i(new N1(e,this,t))}},s.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var i=a[r];i(new N1(e,this,t))}},s.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},s}(),P4=function(){function s(e,t,r,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof _4&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=i}return s.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var i;return Math.max(r,((i=t.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},s.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},s.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},s.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,i){var c=r.cells[i.index];if(!c)return 0;var d=t.getLineHeight(c.styles.fontSize),u=c.padding("vertical"),f=u+d;return f>a?f:a},0)},s}(),T4=function(){function s(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=i!=null?""+i:"",d=/\r\n|\r|\n/g;this.text=c.split(d)}return s.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},s.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,i=r*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},s.prototype.padding=function(e){var t=bp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},s}(),xE=function(){function s(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return s.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var i=a[r],c=i.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(t=Math.max(t,c.styles.cellWidth))}return t},s}();function yE(s,e){bE(s,e);var t=[],r=0;e.columns.forEach(function(i){var c=i.getMaxCustomCellWidth(e);c?i.width=c:(i.width=i.wrappedWidth,t.push(i)),r+=i.width});var a=e.getWidth(s.pageSize().width)-r;a&&(a=S1(t,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=S1(t,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/s.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),wE(e),jE(e,s),vE(e)}function bE(s,e){var t=s.scaleFactor(),r=e.settings.horizontalPageBreak,a=C4(s,e);e.allRows().forEach(function(i){for(var c=0,d=e.columns;c<d.length;c++){var u=d[c],f=i.cells[u.index];if(f){var m=e.hooks.didParseCell;e.callCellHooks(s,m,f,i,u,null);var b=f.padding("horizontal");f.contentWidth=K0(f.text,f.styles,s)+b;var y=K0(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,s);if(f.minReadableWidth=y+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||r===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var x=10/t;f.minWidth=f.styles.minCellWidth||x,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(i){for(var c=0,d=e.columns;c<d.length;c++){var u=d[c],f=i.cells[u.index];if(f&&f.colSpan===1)u.wrappedWidth=Math.max(u.wrappedWidth,f.wrappedWidth),u.minWidth=Math.max(u.minWidth,f.minWidth),u.minReadableWidth=Math.max(u.minReadableWidth,f.minReadableWidth);else{var m=e.styles.columnStyles[u.dataKey]||e.styles.columnStyles[u.index]||{},b=m.cellWidth||m.minCellWidth;b&&typeof b=="number"&&(u.minWidth=b,u.wrappedWidth=b)}f&&(f.colSpan>1&&!u.minWidth&&(u.minWidth=f.minWidth),f.colSpan>1&&!u.wrappedWidth&&(u.wrappedWidth=f.minWidth))}})}function S1(s,e,t){for(var r=e,a=s.reduce(function(x,j){return x+j.wrappedWidth},0),i=0;i<s.length;i++){var c=s[i],d=c.wrappedWidth/a,u=r*d,f=c.width+u,m=t(c),b=f<m?m:f;e-=b-c.width,c.width=b}if(e=Math.round(e*1e10)/1e10,e){var y=s.filter(function(x){return e<0?x.width>t(x):!0});y.length&&(e=S1(y,e,t))}return e}function vE(s){for(var e={},t=1,r=s.allRows(),a=0;a<r.length;a++)for(var i=r[a],c=0,d=s.columns;c<d.length;c++){var u=d[c],f=e[u.index];if(t>1)t--,delete i.cells[u.index];else if(f)f.cell.height+=i.height,t=f.cell.colSpan,delete i.cells[u.index],f.left--,f.left<=1&&delete e[u.index];else{var m=i.cells[u.index];if(!m)continue;if(m.height=i.height,m.rowSpan>1){var b=r.length-a,y=m.rowSpan>b?b:m.rowSpan;e[u.index]={cell:m,left:y,row:i}}}}}function wE(s){for(var e=s.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,i=0,c=0,d=0;d<s.columns.length;d++){var u=s.columns[d];if(c-=1,c>1&&s.columns[d+1])i+=u.width,delete r.cells[u.index];else if(a){var f=a;delete r.cells[u.index],a=null,f.width=u.width+i}else{var f=r.cells[u.index];if(!f)continue;if(c=f.colSpan,i=0,f.colSpan>1){a=f,i+=u.width;continue}f.width=u.width+i}}}function jE(s,e){for(var t={count:0,height:0},r=0,a=s.allRows();r<a.length;r++){for(var i=a[r],c=0,d=s.columns;c<d.length;c++){var u=d[c],f=i.cells[u.index];if(f){e.applyStyles(f.styles,!0);var m=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,m+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=O5(f.text,m,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=O5(f.text,m,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var b=f.styles.overflow(f.text,m);typeof b=="string"?f.text=[b]:f.text=b}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var y=f.contentHeight/f.rowSpan;f.rowSpan>1&&t.count*t.height<y*f.rowSpan?t={height:y,count:f.rowSpan}:t&&t.count>0&&t.height>y&&(y=t.height),y>i.height&&(i.height=y)}}t.count--}}function O5(s,e,t,r,a){return s.map(function(i){return NE(i,e,t,r,a)})}function NE(s,e,t,r,a){var i=1e4*r.scaleFactor();if(e=Math.ceil(e*i)/i,e>=K0(s,t,r))return s;for(;e<K0(s+a,t,r)&&!(s.length<=1);)s=s.substring(0,s.length-1);return s.trim()+a}function SE(s,e){var t=new Tu(s),r=_E(e,t.scaleFactor()),a=new gE(e,r);return yE(t,a),t.applyStyles(t.userStyles),a}function _E(s,e){var t=s.content,r=AE(t.columns);if(t.head.length===0){var a=D5(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=D5(r,"foot");a&&t.foot.push(a)}var i=s.settings.theme,c=s.styles;return{columns:r,head:Ax("head",t.head,r,c,i,e),body:Ax("body",t.body,r,c,i,e),foot:Ax("foot",t.foot,r,c,i,e)}}function Ax(s,e,t,r,a,i){var c={},d=e.map(function(u,f){for(var m=0,b={},y=0,x=0,j=0,S=t;j<S.length;j++){var A=S[j];if(c[A.index]==null||c[A.index].left===0)if(x===0){var k=void 0;Array.isArray(u)?k=u[A.index-y-m]:k=u[A.dataKey];var P={};typeof k=="object"&&!Array.isArray(k)&&(P=k?.styles||{});var M=CE(s,A,f,a,r,i,P),F=new T4(k,M,s);b[A.dataKey]=F,b[A.index]=F,x=F.colSpan-1,c[A.index]={left:F.rowSpan-1,times:x}}else x--,y++;else c[A.index].left--,x=c[A.index].times,m++}return new P4(u,f,s,b)});return d}function D5(s,e){var t={};return s.forEach(function(r){if(r.raw!=null){var a=kE(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function kE(s,e){if(s==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(s==="foot"&&typeof e=="object")return e.footer;return null}function AE(s){return s.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new xE(a,e,t)})}function CE(s,e,t,r,a,i,c){var d=tE(r),u;s==="head"?u=a.headStyles:s==="body"?u=a.bodyStyles:s==="foot"&&(u=a.footStyles);var f=_l({},d.table,d[s],a.styles,u),m=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},b=s==="body"?m:{},y=s==="body"&&t%2===0?_l({},d.alternateRow,a.alternateRowStyles):{},x=eE(i),j=_l({},x,f,y,b);return _l(j,c)}function LE(s,e,t){var r;t===void 0&&(t={});var a=C4(s,e),i=new Map,c=[],d=[],u=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?u=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(u=[e.settings.horizontalPageBreakRepeat]),u.forEach(function(y){var x=e.columns.find(function(j){return j.dataKey===y||j.index===y});x&&!i.has(x.index)&&(i.set(x.index,!0),c.push(x.index),d.push(e.columns[x.index]),a-=x.wrappedWidth)});for(var f=!0,m=(r=t?.start)!==null&&r!==void 0?r:0;m<e.columns.length;){if(i.has(m)){m++;continue}var b=e.columns[m].wrappedWidth;if(f||a>=b)f=!1,c.push(m),d.push(e.columns[m]),a-=b;else break;m++}return{colIndexes:c,columns:d,lastIndex:m-1}}function EE(s,e){for(var t=[],r=0;r<e.columns.length;r++){var a=LE(s,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function PE(s,e){var t=e.settings,r=t.startY,a=t.margin,i={x:a.left,y:r},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=r+a.bottom+c;if(t.pageBreak==="avoid"){var u=e.body,f=u.reduce(function(y,x){return y+x.height},0);d+=f}var m=new Tu(s);(t.pageBreak==="always"||t.startY!=null&&d>m.pageSize().height)&&(R4(m),i.y=a.top),e.callWillDrawPageHooks(m,i);var b=_l({},i);e.startPageNumber=m.pageNumber(),t.horizontalPageBreak?TE(m,e,b,i):(m.applyStyles(m.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(y){return Tl(m,e,y,i,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(y,x){var j=x===e.body.length-1;X0(m,e,y,j,b,i,e.columns)}),m.applyStyles(m.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(y){return Tl(m,e,y,i,e.columns)})),k4(m,e,b,i),e.callEndPageHooks(m,i),e.finalY=i.y,s.lastAutoTable=e,m.applyStyles(m.userStyles)}function TE(s,e,t,r){var a=EE(s,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,m){s.applyStyles(s.userStyles),m>0?cf(s,e,t,r,f.columns,!0):I5(s,e,r,f.columns),ME(s,e,t,r,f.columns),Cx(s,e,r,f.columns)});else for(var c=-1,d=a[0],u=function(){var f=c;if(d){s.applyStyles(s.userStyles);var m=d.columns;c>=0?cf(s,e,t,r,m,!0):I5(s,e,r,m),f=F5(s,e,c+1,r,m),Cx(s,e,r,m)}var b=f-c;a.slice(1).forEach(function(y){s.applyStyles(s.userStyles),cf(s,e,t,r,y.columns,!0),F5(s,e,c+1,r,y.columns,b),Cx(s,e,r,y.columns)}),c=f};c<e.body.length-1;)u()}function I5(s,e,t,r){var a=e.settings;s.applyStyles(s.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Tl(s,e,i,t,r)})}function ME(s,e,t,r,a){s.applyStyles(s.userStyles),e.body.forEach(function(i,c){var d=c===e.body.length-1;X0(s,e,i,d,t,r,a)})}function F5(s,e,t,r,a,i){s.applyStyles(s.userStyles),i=i??e.body.length;var c=Math.min(t+i,e.body.length),d=-1;return e.body.slice(t,c).forEach(function(u,f){var m=t+f===e.body.length-1,b=M4(s,e,m,r);u.canEntireRowFit(b,a)&&(Tl(s,e,u,r,a),d=t+f)}),d}function Cx(s,e,t,r){var a=e.settings;s.applyStyles(s.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Tl(s,e,i,t,r)})}function RE(s,e,t){var r=t.getLineHeight(s.styles.fontSize),a=s.padding("vertical"),i=Math.floor((e-a)/r);return Math.max(0,i)}function OE(s,e,t,r){var a={};s.spansMultiplePages=!0,s.height=0;for(var i=0,c=0,d=t.columns;c<d.length;c++){var u=d[c],f=s.cells[u.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var m=new T4(f.raw,f.styles,f.section);m=_l(m,f),m.text=[];var b=RE(f,e,r);f.text.length>b&&(m.text=f.text.splice(b,f.text.length));var y=r.scaleFactor(),x=r.getLineHeightFactor();f.contentHeight=f.getContentHeight(y,x),f.contentHeight>=e&&(f.contentHeight=e,m.styles.minCellHeight-=e),f.contentHeight>s.height&&(s.height=f.contentHeight),m.contentHeight=m.getContentHeight(y,x),m.contentHeight>i&&(i=m.contentHeight),a[u.index]=m}}var j=new P4(s.raw,-1,s.section,a,!0);j.height=i;for(var S=0,A=t.columns;S<A.length;S++){var u=A[S],m=j.cells[u.index];m&&(m.height=j.height);var f=s.cells[u.index];f&&(f.height=s.height)}return j}function DE(s,e,t,r){var a=s.pageSize().height,i=r.settings.margin,c=i.top+i.bottom,d=a-c;e.section==="body"&&(d-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var u=e.getMinimumRowHeight(r.columns,s),f=u<t;if(u>d)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var m=e.hasRowSpan(r.columns),b=e.getMaxCellHeight(r.columns)>d;return b?(m&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||r.settings.rowPageBreak==="avoid")}function X0(s,e,t,r,a,i,c){var d=M4(s,e,r,i);if(t.canEntireRowFit(d,c))Tl(s,e,t,i,c);else if(DE(s,t,d,e)){var u=OE(t,d,e,s);Tl(s,e,t,i,c),cf(s,e,a,i,c),X0(s,e,u,r,a,i,c)}else cf(s,e,a,i,c),X0(s,e,t,r,a,i,c)}function Tl(s,e,t,r,a){r.x=e.settings.margin.left;for(var i=0,c=a;i<c.length;i++){var d=c[i],u=t.cells[d.index];if(!u){r.x+=d.width;continue}s.applyStyles(u.styles),u.x=r.x,u.y=r.y;var f=e.callCellHooks(s,e.hooks.willDrawCell,u,t,d,r);if(f===!1){r.x+=d.width;continue}IE(s,u,r);var m=u.getTextPos();N4(u.text,m.x,m.y,{halign:u.styles.halign,valign:u.styles.valign,maxWidth:Math.ceil(u.width-u.padding("left")-u.padding("right"))},s.getDocument()),e.callCellHooks(s,e.hooks.didDrawCell,u,t,d,r),r.x+=d.width}r.y+=t.height}function IE(s,e,t){var r=e.styles;if(s.getDocument().setFillColor(s.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=A4(r.lineWidth,r.fillColor);a&&s.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&s.rect(e.x,t.y,e.width,e.height,"F"),FE(s,e,t,r.lineWidth))}function FE(s,e,t,r){var a,i,c,d;r.top&&(a=t.x,i=t.y,c=t.x+e.width,d=t.y,r.right&&(c+=.5*r.right),r.left&&(a-=.5*r.left),u(r.top,a,i,c,d)),r.bottom&&(a=t.x,i=t.y+e.height,c=t.x+e.width,d=t.y+e.height,r.right&&(c+=.5*r.right),r.left&&(a-=.5*r.left),u(r.bottom,a,i,c,d)),r.left&&(a=t.x,i=t.y,c=t.x,d=t.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(d+=.5*r.bottom),u(r.left,a,i,c,d)),r.right&&(a=t.x+e.width,i=t.y,c=t.x+e.width,d=t.y+e.height,r.top&&(i-=.5*r.top),r.bottom&&(d+=.5*r.bottom),u(r.right,a,i,c,d));function u(f,m,b,y,x){s.getDocument().setLineWidth(f),s.getDocument().line(m,b,y,x,"S")}}function M4(s,e,t,r){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),s.pageSize().height-r.y-a}function cf(s,e,t,r,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),s.applyStyles(s.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(d){return Tl(s,e,d,r,a)}),e.callEndPageHooks(s,r);var c=e.settings.margin;k4(s,e,t,r),R4(s),e.pageNumber++,r.x=c.left,r.y=c.top,t.y=c.top,e.callWillDrawPageHooks(s,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(d){return Tl(s,e,d,r,a)}),s.applyStyles(s.userStyles))}function R4(s){var e=s.pageNumber();s.setPage(e+1);var t=s.pageNumber();return t===e?(s.addPage(),!0):!1}function BE(s){s.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=lE(this,r),i=SE(this,a);return PE(this,i),this},s.API.lastAutoTable=!1,s.API.autoTableText=function(e,t,r,a){N4(e,t,r,a,this)},s.API.autoTableSetDefaults=function(e){return Tu.setDefaults(e,this),this},s.autoTableSetDefaults=function(e,t){Tu.setDefaults(e,t)},s.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Tu(this),i=E4(a,e,window,t,!1),c=i.head,d=i.body,u=((r=c[0])===null||r===void 0?void 0:r.map(function(f){return f.content}))||[];return{columns:u,rows:d,data:d}}}var Lx;try{if(typeof window<"u"&&window){var B5=window,z5=B5.jsPDF||((Lx=B5.jspdf)===null||Lx===void 0?void 0:Lx.jsPDF);z5&&BE(z5)}}catch(s){console.error("Could not apply autoTable plugin",s)}const c0=(s,e="₹")=>{const t=typeof s=="number"?s:Number(s||0);return`${e}${t.toFixed(2)}`};class zE{generateInvoice(e,t,r={download:!0}){const a=new Et({unit:"pt",format:"a4"});a.setFillColor(0,121,131),a.rect(0,0,a.internal.pageSize.getWidth(),90,"F"),a.setTextColor("#ffffff"),a.setFont("helvetica","bold"),a.setFontSize(26),a.text("Invoice",40,58),a.setFontSize(12);const i=a.internal.pageSize.getWidth()-40,c=r?.company?.name||"FreshNest",d=[r?.company?.addressLine1,r?.company?.addressLine2,r?.company?.addressLine3].filter(Boolean);a.text(c,i,30,{align:"right"});let u=48;d.length===0?(a.text("Warehouse & Grocery",i,u,{align:"right"}),u+=18,a.text("support@freshnest.example",i,u,{align:"right"}),u+=18):d.forEach(se=>{a.text(String(se),i,u,{align:"right"}),u+=18}),a.setTextColor("#000000"),a.setFont("helvetica","bold"),a.setFontSize(12),a.text("Bill To:",40,120);const f=e?.customer||{},m=[f.name||"Customer",f.email||"",f.phone||"",f.address||""].filter(Boolean);a.setFont("helvetica","normal");let b=138;m.forEach(se=>{a.text(String(se),40,b),b+=16});const y=120;[["Invoice #",String(e?.id||t?.orderId||Date.now())],["Date",new Date(e?.date||t?.date||Date.now()).toLocaleDateString()],["Payment ID",String(t?.id||t?.razorpay_payment_id||"-")],["Payment Method",String(t?.method||"Online")],["Status",String(t?.status||"Paid")]].forEach((se,ee)=>{const pe=y+ee*18;a.setFont("helvetica","bold"),a.text(se[0],i-180,pe,{align:"left"}),a.setFont("helvetica","normal"),a.text(": "+se[1],i-100,pe,{align:"left"})});const j=r?.currencySymbol||e?.currencySymbol||"₹",S=(e?.items||[]).map((se,ee)=>({sno:ee+1,description:se.name||se.title||"Item",quantity:se.quantity||1,priceNum:Number(se.price||0)})),A=Math.max(b+10,210);a.autoTable({startY:A,styles:{fontSize:10,cellPadding:6,lineColor:[230,230,230],lineWidth:.5},headStyles:{fillColor:[0,121,107],textColor:255,halign:"left"},head:[["Items","Description","Quantity","Price","Amount"]],body:S.map(se=>[se.sno,se.description,String(se.quantity),c0(se.priceNum,j),c0(se.priceNum*se.quantity,j)]),columnStyles:{0:{cellWidth:60},1:{cellWidth:240},2:{cellWidth:80,halign:"right"},3:{cellWidth:90,halign:"right"},4:{cellWidth:100,halign:"right"}}});const k=S.reduce((se,ee)=>se+ee.priceNum*ee.quantity,0),P=Number(e?.totalAmount??k),M=P,F=a.lastAutoTable.finalY+16,B=a.internal.pageSize.getWidth()-240,ae=18,Y=[["Subtotal",M],["Tax",0],["Total",P]];Y.forEach((se,ee)=>{a.setFont("helvetica",ee===Y.length-1?"bold":"normal"),a.text(se[0],B,F+ee*ae),a.text(c0(se[1],j),B+140,F+ee*ae,{align:"right"})});const E=F+Y.length*ae+30,I=260,$=70,R=a.internal.pageSize.getWidth()-I-40;a.setFillColor(232,245,246),a.rect(R,E,I,$,"F"),a.setTextColor("#000000"),a.setFont("helvetica","bold"),a.setFontSize(12),a.text("TOTAL",R+16,E+26),a.setFontSize(26);const q=c0(P,j);a.text(q,R+I-16,E+48,{align:"right"});const ie=E+$+20;a.setFont("helvetica","bold"),a.text("Notes:",40,ie),a.setFont("helvetica","normal");const K=r?.note||"Thank you for your purchase! For support, contact support@freshnest.example";a.text(a.splitTextToSize(K,360),40,ie+16);const oe=a.internal.pageSize.getHeight();a.setFillColor(0,121,107),a.rect(0,oe-60,a.internal.pageSize.getWidth(),60,"F"),a.setTextColor("#ffffff"),a.setFont("helvetica","normal"),a.text("Powered by FreshNest",40,oe-24);const Z=`Invoice_${e?.id||t?.id||Date.now()}.pdf`;return r?.download!==!1&&a.save(Z),Z}}const ny=new zE,O4=({isOpen:s,onClose:e,orderNumber:t,details:r={},onViewInvoice:a,subtitle:i})=>{if(!s)return null;const c={date:r.date,method:r.method,total:r.total,email:r.email};return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl ring-1 ring-gray-100 w-full max-w-lg overflow-hidden",children:[n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-emerald-600/90 shadow-lg shadow-emerald-200/50 mx-auto flex items-center justify-center",children:n.jsx(Vu,{className:"w-9 h-9 text-white"})}),n.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Payment Successful"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:i||"Thank you for your purchase. A receipt has been sent to your email."}),t&&n.jsxs("div",{className:"mt-4 inline-flex items-center px-3 py-1.5 rounded-lg bg-emerald-50 text-emerald-700 text-sm font-medium border border-emerald-100",children:[n.jsx("span",{className:"mr-2",children:"🧾"}),n.jsxs("span",{children:["Order #",String(t)]})]}),n.jsxs("div",{className:"mt-8 text-left",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Transaction details"}),n.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-2 gap-0",children:[n.jsx("div",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wide text-gray-500 bg-gray-50 border-b border-r border-gray-200",children:"Date"}),n.jsx("div",{className:"px-4 py-3 border-b border-gray-200 text-gray-900 font-medium",children:c.date?c.date:n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("div",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wide text-gray-500 bg-gray-50 border-b border-r border-gray-200",children:"Payment Method"}),n.jsx("div",{className:"px-4 py-3 border-b border-gray-200 text-gray-900 font-medium",children:c.method?c.method:n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("div",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wide text-gray-500 bg-gray-50 border-b border-r border-gray-200",children:"Total"}),n.jsx("div",{className:"px-4 py-3 border-b border-gray-200 text-gray-900 font-semibold",children:c.total??n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("div",{className:"px-4 py-3 text-xs font-medium uppercase tracking-wide text-gray-500 bg-gray-50 border-r border-gray-200",children:"Email"}),n.jsx("div",{className:"px-4 py-3 text-gray-900 font-medium",children:c.email?c.email:n.jsx("span",{className:"text-gray-400",children:"-"})})]})})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("button",{onClick:a,className:"w-full bg-emerald-700 hover:bg-emerald-800 text-white font-semibold py-3 rounded-xl shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/50",children:"View invoice"}),n.jsx("button",{onClick:e,className:"mt-3 w-full text-gray-600 hover:text-gray-800 font-medium py-2 focus:outline-none",children:"Close"})]})]}),n.jsxs("div",{className:"px-8 pb-8 text-left text-sm text-gray-500",children:[n.jsx("p",{className:"mb-1",children:"Hello Technologies, 1500 Oceanview Blvd, Suite 300"}),n.jsx("p",{className:"mb-1",children:"San Francisco, CA 94123 – United States"}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("a",{href:"mailto:hello@hellotech.com",className:"text-emerald-700 hover:underline",children:"hello@hellotech.com"}),n.jsx("a",{href:"tel:+8945218527",className:"text-emerald-700 hover:underline",children:"+89 45 21 85 27"})]})]})]})]})};function ay({business:s,invoice:e,staff:t,salary:r,payment:a,admin:i}){const c=u=>u?new Date(u).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"—",d=u=>{if(!u)return"—";const[f,m]=u.split("-");return new Date(f,m-1).toLocaleDateString("en-IN",{month:"long",year:"numeric"})};return n.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-white text-gray-800 p-8 print:p-12 shadow-sm print:shadow-none print:bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-px bg-gray-300 w-48 mb-6"}),n.jsx("h1",{className:"tracking-[0.4em] text-3xl font-light",children:"SALARY INVOICE"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"INVOICE NO:"}),n.jsx("div",{className:"text-sm font-medium",children:e.number}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["DATE: ",n.jsx("span",{className:"text-gray-700",children:e.date})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["PAYMENT DATE: ",n.jsx("span",{className:"text-gray-700",children:c(a.paidAt)})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"uppercase text-xs tracking-widest text-gray-500 font-semibold",children:"From:"}),n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("div",{className:"font-bold text-lg",children:s.name}),s.addressLines?.map((u,f)=>n.jsx("div",{children:u},f)),s.email&&n.jsx("div",{className:"text-gray-600",children:s.email}),s.phone&&n.jsx("div",{className:"text-gray-600",children:s.phone})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"uppercase text-xs tracking-widest text-gray-500 font-semibold",children:"Employee Details:"}),n.jsxs("div",{className:"mt-3 text-sm",children:[n.jsx("div",{className:"font-medium text-lg",children:t.fullName}),n.jsx("div",{className:"text-gray-600",children:t.email}),t.employeeId&&n.jsxs("div",{className:"text-gray-600",children:["Employee ID: ",t.employeeId]}),t.phone&&n.jsxs("div",{className:"text-gray-600",children:["Phone: ",t.phone]})]})]}),n.jsxs("div",{className:"mt-12",children:[n.jsxs("div",{className:"grid grid-cols-12 text-xs font-semibold uppercase tracking-widest text-gray-500 border-b border-gray-200 pb-2",children:[n.jsx("div",{className:"col-span-6",children:"Description"}),n.jsx("div",{className:"col-span-2 text-right",children:"Amount"}),n.jsx("div",{className:"col-span-2 text-right",children:"Deduction"}),n.jsx("div",{className:"col-span-2 text-right",children:"Net Amount"})]}),n.jsxs("div",{className:"grid grid-cols-12 text-sm py-4 border-b border-gray-100",children:[n.jsxs("div",{className:"col-span-6",children:[n.jsxs("div",{className:"font-medium",children:["Salary for ",d(r.month)]}),r.deductionReason&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Deduction Reason: ",r.deductionReason]})]}),n.jsxs("div",{className:"col-span-2 text-right font-medium",children:["₹",r.baseSalary.toLocaleString()]}),n.jsx("div",{className:"col-span-2 text-right text-red-600 font-medium",children:r.deductions>0?`-₹${r.deductions.toLocaleString()}`:"₹0"}),n.jsxs("div",{className:"col-span-2 text-right font-bold text-emerald-600",children:["₹",r.paidAmount.toLocaleString()]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"uppercase text-xs tracking-widest text-gray-500 font-semibold mb-3",children:"Payment Information:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("div",{className:"font-medium capitalize",children:a.paymentMethod.replace("_"," ")})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-gray-600",children:"Transaction ID:"}),n.jsx("div",{className:"font-medium font-mono text-xs",children:a.paymentId||"—"})]})]})]}),i&&n.jsxs("div",{className:"mt-8",children:[n.jsx("div",{className:"uppercase text-xs tracking-widest text-gray-500 font-semibold mb-3",children:"Processed By:"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium",children:i.name}),i.email&&n.jsx("div",{className:"text-gray-600",children:i.email})]})]}),n.jsx("div",{className:"mt-12 ml-auto w-64 text-sm",children:n.jsxs("div",{className:"flex justify-between py-2 border-t-2 border-gray-300",children:[n.jsx("div",{className:"font-bold text-lg tracking-wide",children:"Total Paid"}),n.jsxs("div",{className:"font-bold text-lg text-emerald-600",children:["₹",r.paidAmount.toLocaleString()]})]})}),n.jsxs("div",{className:"mt-16 flex items-end justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsx("div",{children:"This is a computer-generated salary invoice."}),n.jsxs("div",{className:"mt-1",children:["For queries, contact: ",s.email||s.phone]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:s.name}),n.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Authorized Signature"})]})]})]})}const U5=(s=new Date)=>{const e=s.getFullYear(),t=String(s.getMonth()+1).padStart(2,"0");return`${e}-${t}`},UE=()=>{const{success:s,error:e}=cr(),[t,r]=T.useState(""),[a,i]=T.useState("active"),[c,d]=T.useState(1),[u]=T.useState(10),[f,m]=T.useState(!1),[b,y]=T.useState([]),[x,j]=T.useState({current:1,pages:1,total:0,limit:10}),[S,A]=T.useState({open:!1,staff:null}),[k,P]=T.useState(U5()),[M,F]=T.useState(""),[B,ae]=T.useState(""),[Y,E]=T.useState(""),[I,$]=T.useState(!1),[R,q]=T.useState(!1),[ie,K]=T.useState(!1),[oe,Z]=T.useState(null),[se,ee]=T.useState(null),[pe,Q]=T.useState(0),[me,O]=T.useState([]),[V,te]=T.useState(!1),[he,fe]=T.useState(""),[ve,Ce]=T.useState(!1),[ue,Le]=T.useState(null),[Be,Ze]=T.useState(null),[Fe,je]=T.useState(!1),[ne,lt]=T.useState(""),[st,it]=T.useState([]),[ze,et]=T.useState(""),qe=async Ge=>{try{Ze(Ge),je(!0),lt("");const at=await In.getSalaryHistory(Ge._id,{page:1,limit:20});it(at?.payments||[])}catch(at){lt(at.message||"Failed to load salary history")}finally{je(!1)}},Nt=(Ge,at)=>{const ct={business:{name:"Freshnest",addressLines:["123 Business Street","City, State 12345"],email:"admin@freshnest.com",phone:"+1 (555) 123-4567"},invoice:{number:`SAL-${at._id.slice(-6).toUpperCase()}`,date:new Date().toLocaleDateString("en-IN"),dueDate:new Date().toLocaleDateString("en-IN")},staff:{fullName:Ge.fullName||at.staffName||"Staff Member",email:Ge.email||at.staffEmail||"",employeeId:Ge.employeeId||"",phone:Ge.phone||""},salary:{month:at.month,baseSalary:Number(at.baseSalary||0),deductions:Number(at.deductions||0),deductionReason:at.deductionReason||"",paidAmount:Number(at.paidAmount||0)},payment:{paymentId:at.paymentId||"",paymentMethod:at.paymentMethod||"direct",paidAt:at.paidAt||at.createdAt},admin:{name:"Admin User",email:"admin@freshnest.com"}};Le(ct),Ce(!0)},dt=()=>{ue&&(window.open("","_blank").document.write(`
        <html>
          <head>
            <title>Salary Invoice - ${ue.staff.fullName}</title>
            <style>
              body { margin: 0; padding: 0; font-family: system-ui, sans-serif; }
              @media print { body { margin: 0; } }
            </style>
          </head>
          <body>
            <div id="invoice-root"></div>
            <script>
              // This would need React to be loaded in the print window
              // For now, we'll use a simpler approach
            <\/script>
          </body>
        </html>
      `),setTimeout(()=>{window.print()},100))},Rt=async()=>{try{m(!0);const Ge=await In.getStaffForSalary({search:t,status:a,page:c,limit:u});y(Ge.staff||[]),j(Ge.pagination||{current:1,pages:1,total:0,limit:u})}catch(Ge){e(Ge.message||"Failed to load staff")}finally{m(!1)}};T.useEffect(()=>{Rt()},[t,a,c]),T.useEffect(()=>{(async()=>{try{te(!0),fe("");const at=await In.getRecentSalaryPayments({limit:10});O(at?.payments||[])}catch(at){fe(at.message||"Failed to load recent salary payments")}finally{te(!1)}})()},[]);const ft=Ge=>{A({open:!0,staff:Ge}),P(U5()),F(Ge.salary?String(Ge.salary):""),ae(""),E("")},ut=()=>A({open:!1,staff:null}),_t=T.useMemo(()=>{const Ge=parseFloat(M||"0")||0,at=parseFloat(B||"0")||0;return Math.max(0,Ge-at)},[M,B]),Qe=async()=>{try{if(!S.staff)return;if(!k||!M)return e("Please select month and enter base salary");if((parseFloat(B||"0")||0)>0&&!Y.trim())return e("Please provide a reason for the deduction");q(!0)}catch(Ge){e(Ge.message||"Failed to process salary payment")}},rt=async Ge=>{try{$(!0),Q(_t),ee(S.staff),await In.paySalary(S.staff._id,{month:k,baseSalary:parseFloat(M),deductions:parseFloat(B||"0")||0,deductionReason:Y.trim(),paymentId:Ge.paymentResponse?.razorpay_payment_id,paymentMethod:"razorpay"}),s("Salary payment completed successfully! 🎉"),Z(Ge),q(!1),ut(),K(!0);const at={_id:Ge.paymentResponse?.razorpay_order_id||Date.now().toString(),month:k,baseSalary:parseFloat(M),deductions:parseFloat(B||"0")||0,deductionReason:Y.trim(),paidAmount:_t,paymentId:Ge.paymentResponse?.razorpay_payment_id,paymentMethod:"razorpay",paidAt:new Date().toISOString()};Nt(S.staff,at)}catch(at){e(at.message||"Failed to record salary payment")}finally{$(!1)}},Pt=Ge=>{Ge(Ge.message||"Payment failed"),q(!1)},xt=()=>({items:[{id:"salary-payment",name:`Salary Payment - ${S.staff?.fullName}`,price:_t,quantity:1,category:"salary"}],customer:{id:S.staff?._id||"staff",name:S.staff?.fullName||"Staff Member",email:S.staff?.email||"staff@company.com",phone:S.staff?.phone||"9999999999"},totalAmount:_t});return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Salary Management"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Pay staff salaries and record deductions with reasons"})]})}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-100 shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Salary Payments"}),n.jsx("button",{onClick:async()=>{try{te(!0);const Ge=await In.getRecentSalaryPayments({limit:10});O(Ge?.payments||[])}catch(Ge){fe(Ge.message||"Failed")}finally{te(!1)}},className:"px-3 py-2 text-sm rounded-xl border border-gray-300 hover:bg-gray-50",children:"Refresh"})]}),he&&n.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:he}),n.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-xl",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Employee"}),n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Email"}),n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Month"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Base"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Deduction"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Net Paid"}),n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Paid On"}),n.jsx("th",{className:"text-center text-xs font-semibold text-gray-500 px-4 py-3",children:"Actions"})]})}),n.jsx("tbody",{children:V?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"Loading..."})}):me.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"No recent salary payments"})}):me.map(Ge=>n.jsxs("tr",{className:"border-t border-gray-100",children:[n.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:Ge.staffName||"-"}),n.jsx("td",{className:"px-4 py-3 text-gray-700",children:Ge.staffEmail||"-"}),n.jsx("td",{className:"px-4 py-3 text-gray-700",children:Ge.month}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-blue-700",children:["₹",Number(Ge.baseSalary||0).toLocaleString()]}),n.jsxs("td",{className:`px-4 py-3 text-right font-semibold ${Number(Ge.deductions||0)>0?"text-red-700":"text-gray-900"}`,children:["₹",Number(Ge.deductions||0).toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-emerald-700",children:["₹",Number(Ge.paidAmount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:new Date(Ge.paidAt||Ge.createdAt).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("button",{onClick:()=>Nt({fullName:Ge.staffName,email:Ge.staffEmail,phone:""},Ge),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:[n.jsx(no,{className:"w-4 h-4 mr-1"}),"Invoice"]})})]},Ge._id))})]})})]}),n.jsx("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-100 shadow-md",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[n.jsxs("div",{className:"flex items-center flex-1 bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-xl px-4 py-3 focus-within:border-blue-400 transition-colors",children:[n.jsx(Rc,{className:"w-5 h-5 text-blue-600 mr-3"}),n.jsx("input",{value:t,onChange:Ge=>{d(1),r(Ge.target.value)},placeholder:"Search by name, email, employee ID...",className:"flex-1 bg-transparent outline-none text-gray-800 font-medium placeholder-gray-500"})]}),n.jsxs("div",{className:"flex items-center bg-gradient-to-r from-purple-50 to-purple-100 border-2 border-purple-200 rounded-xl px-4 py-3",children:[n.jsx(xf,{className:"w-5 h-5 text-purple-600 mr-3"}),n.jsxs("select",{value:a,onChange:Ge=>{d(1),i(Ge.target.value)},className:"bg-transparent text-gray-800 font-semibold outline-none",children:[n.jsx("option",{value:"",children:"All Staff"}),n.jsx("option",{value:"active",children:"Active Only"}),n.jsx("option",{value:"inactive",children:"Inactive Only"})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-2xl border-2 border-gray-100 overflow-hidden shadow-lg",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left text-sm font-bold text-white px-6 py-4",children:"Employee"}),n.jsx("th",{className:"text-left text-sm font-bold text-white px-6 py-4",children:"Email"}),n.jsx("th",{className:"text-left text-sm font-bold text-white px-6 py-4",children:"Employee ID"}),n.jsx("th",{className:"text-left text-sm font-bold text-white px-6 py-4",children:"Salary"}),n.jsx("th",{className:"text-left text-sm font-bold text-white px-6 py-4",children:"Status"}),n.jsx("th",{className:"text-right text-sm font-bold text-white px-6 py-4",children:"Action"})]})}),n.jsx("tbody",{children:f?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-500",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-emerald-600"}),n.jsx("span",{className:"font-medium",children:"Loading staff..."})]})})}):b.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500 font-medium",children:"No staff found"})}):b.map((Ge,at)=>n.jsxs("tr",{className:`border-t border-gray-100 hover:bg-gray-50 transition-colors ${at%2===0?"bg-white":"bg-gray-50/50"}`,children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"font-semibold text-gray-900 text-base",children:Ge.fullName})}),n.jsx("td",{className:"px-6 py-4 text-gray-700 font-medium",children:Ge.email}),n.jsx("td",{className:"px-6 py-4 text-gray-600 font-mono text-sm",children:Ge.employeeId||"-"}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-gray-900 font-bold text-lg",children:Ge.salary?`₹${Ge.salary.toLocaleString()}`:"—"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1.5 text-sm font-semibold rounded-full ${Ge.status==="active"?"bg-emerald-100 text-emerald-800 border border-emerald-200":"bg-gray-100 text-gray-600 border border-gray-200"}`,children:Ge.status})}),n.jsxs("td",{className:"px-6 py-4 text-right",children:[n.jsxs("button",{onClick:()=>ft(Ge),className:"inline-flex items-center px-4 py-2.5 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-200",children:[n.jsx(Fn,{className:"w-4 h-4 mr-2"})," Pay / Deduct"]}),n.jsx("button",{onClick:()=>qe(Ge),className:"ml-2 inline-flex items-center px-4 py-2.5 border border-gray-300 rounded-xl text-gray-700 font-semibold hover:bg-gray-50 transition-colors",children:"View Paid"})]})]},Ge._id))})]})}),x.pages>1&&n.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-100",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",x.current," of ",x.pages]}),n.jsxs("div",{className:"space-x-2",children:[n.jsx("button",{disabled:c<=1,onClick:()=>d(Ge=>Math.max(1,Ge-1)),className:"px-3 py-1.5 text-sm rounded-lg border border-gray-200 disabled:opacity-50",children:"Prev"}),n.jsx("button",{disabled:c>=x.pages,onClick:()=>d(Ge=>Math.min(x.pages,Ge+1)),className:"px-3 py-1.5 text-sm rounded-lg border border-gray-200 disabled:opacity-50",children:"Next"})]})]})]}),Be&&n.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-100 shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Paid Salary Details"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Be.fullName," • ",Be.email]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"month",value:ze,onChange:Ge=>et(Ge.target.value),className:"bg-emerald-50 border border-emerald-200 rounded-xl px-3 py-2 text-sm"}),n.jsx("button",{onClick:()=>qe(Be),className:"px-3 py-2 text-sm rounded-xl border border-gray-300 hover:bg-gray-50",children:"Refresh"}),n.jsx("button",{onClick:()=>{Ze(null),it([]),et("")},className:"px-3 py-2 text-sm rounded-xl border border-gray-300 hover:bg-gray-50",children:"Close"})]})]}),ne&&n.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-xl text-sm text-red-700",children:ne}),n.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-xl",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Month"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Base"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Deduction"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Net Paid"}),n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Paid On"}),n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Payment ID"}),n.jsx("th",{className:"text-center text-xs font-semibold text-gray-500 px-4 py-3",children:"Actions"})]})}),n.jsx("tbody",{children:Fe?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"Loading..."})}):(()=>{const Ge=st.filter(at=>ze?String(at.month||"").startsWith(ze):!0);return Ge.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No paid records"})}):Ge.map(at=>n.jsxs("tr",{className:"border-t border-gray-100",children:[n.jsx("td",{className:"px-4 py-3 text-gray-900 font-medium",children:at.month}),n.jsxs("td",{className:"px-4 py-3 text-right",children:["₹",Number(at.baseSalary||0).toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-right",children:["₹",Number(at.deductions||0).toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-emerald-700",children:["₹",Number(at.paidAmount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:new Date(at.paidAt||at.createdAt).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:at.paymentId||"-"}),n.jsx("td",{className:"px-4 py-3 text-center",children:n.jsxs("button",{onClick:()=>Nt(Be,at),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:[n.jsx(no,{className:"w-4 h-4 mr-1"}),"Invoice"]})})]},at._id))})()})]})})]}),S.open&&S.staff&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Pay Salary"}),n.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:S.staff.fullName}),n.jsx("p",{className:"text-emerald-200 text-xs",children:S.staff.email})]}),n.jsx("button",{onClick:ut,className:"text-white/80 hover:text-white p-1 rounded-lg hover:bg-white/10 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),n.jsxs("div",{className:"p-6 space-y-5",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Payment Month"}),n.jsxs("div",{className:"flex items-center bg-emerald-50 border-2 border-emerald-200 rounded-xl px-4 py-3 focus-within:border-emerald-400 transition-colors",children:[n.jsx(ua,{className:"w-5 h-5 text-emerald-600 mr-3"}),n.jsx("input",{value:k,onChange:Ge=>P(Ge.target.value),placeholder:"2025-01",className:"flex-1 bg-transparent outline-none text-gray-800 font-medium placeholder-gray-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Base Salary"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-600 font-bold",children:"₹"}),n.jsx("input",{value:M,onChange:Ge=>F(Ge.target.value),type:"number",min:"0",step:"0.01",className:"w-full bg-blue-50 border-2 border-blue-200 rounded-xl pl-10 pr-4 py-3 text-gray-800 font-semibold focus:border-blue-400 transition-colors"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Deduction Amount"}),n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx("span",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-600 font-bold",children:"₹"}),n.jsx("input",{value:B,onChange:Ge=>ae(Ge.target.value),type:"number",min:"0",step:"0.01",className:"w-full bg-orange-50 border-2 border-orange-200 rounded-l-xl pl-10 pr-4 py-3 text-gray-800 font-semibold focus:border-orange-400 transition-colors"})]}),n.jsxs("div",{className:"px-4 py-3 bg-orange-100 border-2 border-l-0 border-orange-200 rounded-r-xl text-orange-700 text-sm font-medium flex items-center",children:[n.jsx(R8,{className:"w-4 h-4 mr-1"})," Optional"]})]})]}),(parseFloat(B||"0")||0)>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Reason for Deduction"}),n.jsx("textarea",{value:Y,onChange:Ge=>E(Ge.target.value),rows:3,className:"w-full bg-red-50 border-2 border-red-200 rounded-xl px-4 py-3 text-gray-800 font-medium focus:border-red-400 transition-colors resize-none",placeholder:"Please provide a clear reason for the salary deduction..."})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl p-4 border-2 border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-gray-700 font-semibold",children:"Amount to Pay"}),n.jsxs("div",{className:"text-2xl font-bold text-emerald-600",children:["₹",_t.toLocaleString()]})]}),(parseFloat(B||"0")||0)>0&&n.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Base: ₹",parseFloat(M||"0").toLocaleString()," - Deduction: ₹",(parseFloat(B||"0")||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex space-x-3 pt-2",children:[n.jsx("button",{onClick:ut,className:"flex-1 px-4 py-3 rounded-xl border-2 border-gray-300 text-gray-700 font-semibold hover:bg-gray-50 hover:border-gray-400 transition-colors",children:"Cancel"}),n.jsxs("button",{disabled:I,onClick:Qe,className:"flex-1 inline-flex items-center justify-center px-4 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white font-bold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",children:[n.jsx(Ll,{className:"w-5 h-5 mr-2"}),I?"Processing...":"Confirm Payment"]})]})]})]})}),n.jsx(PN,{isOpen:R,onClose:()=>q(!1),orderData:xt(),totalAmount:_t,customerInfo:{name:S.staff?.fullName||"Staff Member",email:S.staff?.email||"staff@company.com",phone:S.staff?.phone||"+91 99999 99999",address:"Company Office"},onSuccess:rt,onError:Pt}),n.jsx(O4,{isOpen:ie,onClose:()=>K(!1),orderNumber:oe?.paymentResponse?.razorpay_order_id?.replace("order_",""),details:{date:new Date().toLocaleDateString(),method:"Razorpay",total:`₹${pe.toFixed(2)}`,email:se?.email||"—"},subtitle:`Salary payment for ${se?.fullName||"Staff"} — ${k}`,onViewInvoice:()=>{dt(),K(!1)}}),ve&&ue&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Salary Invoice"}),n.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:ue.staff.fullName}),n.jsx("p",{className:"text-emerald-200 text-xs",children:ue.salary.month})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:dt,className:"inline-flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-xl transition-colors",children:[n.jsx(no,{className:"w-4 h-4 mr-2"}),"Print / Save PDF"]}),n.jsx("button",{onClick:()=>{Ce(!1),Le(null)},className:"text-white/80 hover:text-white p-1 rounded-lg hover:bg-white/10 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n.jsx(ay,{...ue})})]})})]})};class qE{constructor(){this.subscribers=[],this.storageKey="freshnest_suppliers",this.useBackend=!0}initializeLocalData(){if(!localStorage.getItem(this.storageKey)){const t=[{id:1,name:"Green Valley Farms",email:"contact@greenvalley.com",phone:"+1-555-0123",status:"active",role:"supplier",contactPerson:"John Smith",address:"123 Farm Road, Green Valley, CA 90210",category:"Vegetables",paymentTerms:"Net 30",notes:"Reliable supplier for organic vegetables",totalOrders:156,totalSpent:45200,rating:4.8,lastOrderDate:"2024-01-15T10:00:00Z",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"Fresh Fruit Co.",email:"orders@freshfruit.com",phone:"+1-555-0124",status:"active",role:"supplier",contactPerson:"Sarah Johnson",address:"456 Orchard Lane, Fruit Valley, CA 90211",category:"Fruits",paymentTerms:"Net 15",notes:"Premium fruit supplier",totalOrders:89,totalSpent:32100,rating:4.5,lastOrderDate:"2024-01-18T14:30:00Z",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:3,name:"Dairy Dreams",email:"info@dairydreams.com",phone:"+1-555-0125",status:"active",role:"supplier",contactPerson:"Mike Wilson",address:"789 Milk Road, Dairy Town, CA 90212",category:"Dairy",paymentTerms:"Net 30",notes:"Fresh dairy products daily",totalOrders:203,totalSpent:67800,rating:4.9,lastOrderDate:"2024-01-19T09:15:00Z",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];localStorage.setItem(this.storageKey,JSON.stringify(t))}}getLocalSuppliers(){const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}saveLocalSuppliers(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}getNextId(){const e=this.getLocalSuppliers();return e.length>0?Math.max(...e.map(t=>t.id))+1:1}async apiRequest(e,t={}){return await Ut.apiRequest(e,t)}async createSupplier(e){if(this.useBackend)try{const t={fullName:e.name,email:e.email,phone:e.phone,role:"supplier",status:e.status||"active",address:e.address,username:e.email.split("@")[0]+"_supplier",password:e.password||"TempPass123!",supplierDetails:{contactPerson:e.contactPerson,category:e.category,paymentTerms:e.paymentTerms||"Net 30",notes:e.notes||"",totalOrders:0,totalSpent:0,rating:0,lastOrderDate:null}},r=await this.apiRequest(`${Rs}/api/users`,{method:"POST",body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to create supplier");return this.notifySubscribers(),a}catch(t){console.error("Backend create supplier error:",t),console.log("Falling back to local storage..."),this.useBackend=!1}try{const t=this.getLocalSuppliers();if(t.some(a=>a.email===e.email))throw new Error("A supplier with this email already exists");const r={id:this.getNextId(),name:e.name,email:e.email,phone:e.phone,status:e.status||"active",role:"supplier",contactPerson:e.contactPerson,address:e.address,category:e.category,paymentTerms:e.paymentTerms||"Net 30",notes:e.notes||"",totalOrders:0,totalSpent:0,rating:0,lastOrderDate:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return t.push(r),this.saveLocalSuppliers(t),this.notifySubscribers(),{success:!0,user:r}}catch(t){throw console.error("Local create supplier error:",t),t}}async getAllSuppliers(e={}){if(this.useBackend)try{const t=new URLSearchParams({role:"supplier",...e}),r=await this.apiRequest(`${Rs}/api/users?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch suppliers");return a}catch(t){console.error("Backend get suppliers error:",t),console.log("Falling back to local storage..."),this.useBackend=!1}try{let r=[...this.getLocalSuppliers()];e.status&&(r=r.filter(f=>f.status===e.status)),e.category&&(r=r.filter(f=>f.category===e.category));const a=parseInt(e.page)||1,i=parseInt(e.limit)||10,c=(a-1)*i,d=c+i;return{success:!0,users:r.slice(c,d),pagination:{page:a,limit:i,total:r.length,pages:Math.ceil(r.length/i)}}}catch(t){throw console.error("Local get suppliers error:",t),t}}async getSupplierById(e){try{const t=await this.apiRequest(`${Rs}/api/users/${e}`),r=await t.json();if(!t.ok){if(t.status===403||t.status===401){const a=await Ut.apiRequest(`${Rs}/api/auth/profile`),i=await a.json();if(!a.ok)throw new Error(i.error||"Failed to fetch profile");return{user:i.user}}throw new Error(r.error||"Failed to fetch supplier")}return r}catch(t){console.error("Get supplier error:",t);try{const r=await Ut.apiRequest(`${Rs}/api/auth/profile`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch profile");return{user:a.user}}catch{throw t}}}async updateSupplier(e,t){if(this.useBackend)try{const r={fullName:t.name,email:t.email,phone:t.phone,status:t.status,address:t.address,supplierDetails:{contactPerson:t.contactPerson,category:t.category,paymentTerms:t.paymentTerms,notes:t.notes}},a=await this.apiRequest(`${Rs}/api/users/${e}`,{method:"PUT",body:JSON.stringify(r)}),i=await a.json();if(!a.ok)throw new Error(i.error||"Failed to update supplier");return this.notifySubscribers(),i}catch(r){console.error("Backend update supplier error:",r),console.log("Falling back to local storage..."),this.useBackend=!1}try{const r=this.getLocalSuppliers(),a=r.findIndex(i=>String(i.id??i._id)===String(e));if(a===-1)throw new Error("Supplier not found");return r[a]={...r[a],name:t.name,email:t.email,phone:t.phone,status:t.status,contactPerson:t.contactPerson,address:t.address,category:t.category,paymentTerms:t.paymentTerms,notes:t.notes,updatedAt:new Date().toISOString()},this.saveLocalSuppliers(r),this.notifySubscribers(),{success:!0,user:r[a]}}catch(r){throw console.error("Local update supplier error:",r),r}}async deleteSupplier(e,t=!1){if(this.useBackend)try{const r=`${Rs}/api/users/${e}${t?"?permanent=true":""}`,a=await this.apiRequest(r,{method:"DELETE"});if(!a.ok){const i=await a.json();throw new Error(i.error||"Failed to delete supplier")}return this.notifySubscribers(),!0}catch(r){console.error("Backend delete supplier error:",r),console.log("Falling back to local storage..."),this.useBackend=!1}try{const r=this.getLocalSuppliers(),a=r.findIndex(i=>String(i.id??i._id)===String(e));if(a===-1)throw new Error("Supplier not found");return r.splice(a,1),this.saveLocalSuppliers(r),this.notifySubscribers(),!0}catch(r){throw console.error("Local delete supplier error:",r),r}}async toggleSupplierStatus(e){if(this.useBackend)try{const t=await this.apiRequest(`${Rs}/api/users/${e}/toggle-status`,{method:"PATCH"}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to toggle supplier status");return this.notifySubscribers(),r}catch(t){console.error("Backend toggle supplier status error:",t),console.log("Falling back to local storage..."),this.useBackend=!1}try{const t=this.getLocalSuppliers(),r=t.findIndex(c=>String(c.id??c._id)===String(e));if(r===-1)throw new Error("Supplier not found");const i=t[r].status==="active"?"inactive":"active";return t[r].status=i,t[r].updatedAt=new Date().toISOString(),this.saveLocalSuppliers(t),this.notifySubscribers(),{success:!0,status:i,user:t[r]}}catch(t){throw console.error("Local toggle supplier status error:",t),t}}async searchSuppliers(e,t={}){if(this.useBackend)try{const r={role:"supplier",search:e,...t},a=new URLSearchParams(r),i=await this.apiRequest(`${Rs}/api/users/search?${a}`),c=await i.json();if(!i.ok)throw new Error(c.error||"Failed to search suppliers");return c}catch(r){console.error("Backend search suppliers error:",r),console.log("Falling back to local storage..."),this.useBackend=!1}try{const r=this.getLocalSuppliers(),a=e.toLowerCase();let i=r.filter(c=>c.name.toLowerCase().includes(a)||c.email.toLowerCase().includes(a)||c.contactPerson.toLowerCase().includes(a)||c.category.toLowerCase().includes(a));return t.category&&(i=i.filter(c=>c.category===t.category)),t.status&&(i=i.filter(c=>c.status===t.status)),{success:!0,users:i}}catch(r){throw console.error("Local search suppliers error:",r),r}}async listByCategory(e,t="active"){try{return((await this.getAllSuppliers({category:e,status:t,limit:200})).users||[]).map(i=>this.transformUserToSupplier(i))}catch(r){return console.error("listByCategory failed:",r),[]}}async getSupplierStats(){try{const e=await this.apiRequest(`${Rs}/api/suppliers/stats`),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch supplier statistics");return t}catch(e){throw console.error("Get supplier stats error:",e),e}}async getSuppliersByCategory(e){try{const t={role:"supplier",category:e};return await this.getAllSuppliers(t)}catch(t){throw console.error("Get suppliers by category error:",t),t}}async getActiveSuppliers(){try{const e={role:"supplier",status:"active"};return await this.getAllSuppliers(e)}catch(e){throw console.error("Get active suppliers error:",e),e}}async updateSupplierRating(e,t){try{const r=await this.apiRequest(`${Rs}/api/suppliers/${e}/rating`,{method:"PATCH",body:JSON.stringify({rating:t})}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to update supplier rating");return this.notifySubscribers(),a}catch(r){throw console.error("Update supplier rating error:",r),r}}async recordSupplierOrder(e,t){try{const r=await this.apiRequest(`${Rs}/api/suppliers/${e}/orders`,{method:"POST",body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to record supplier order");return this.notifySubscribers(),a}catch(r){throw console.error("Record supplier order error:",r),r}}async sendOnboardingEmail({supplierId:e,email:t,supplierName:r}){const a={};t&&(a.email=t),r&&(a.supplierName=r);const i=await this.apiRequest(`${Rs}/api/users/${e}/send-onboarding-email`,{method:"POST",body:JSON.stringify(a)}),c=await i.json();if(!i.ok)throw new Error(c.error||"Failed to send onboarding email");return c}async exportSuppliers(e="json"){if(this.useBackend)try{const t=await this.apiRequest(`${Rs}/api/suppliers/export?format=${e}`);if(!t.ok){const r=await t.json();throw new Error(r.error||"Failed to export suppliers")}if(e==="json"){const r=await t.json(),a=JSON.stringify(r,null,2),i="data:application/json;charset=utf-8,"+encodeURIComponent(a),c=`suppliers_${new Date().toISOString().split("T")[0]}.json`,d=document.createElement("a");d.setAttribute("href",i),d.setAttribute("download",c),d.click()}else if(e==="csv"){const r=await t.blob(),a=window.URL.createObjectURL(r),i=`suppliers_${new Date().toISOString().split("T")[0]}.csv`,c=document.createElement("a");c.setAttribute("href",a),c.setAttribute("download",i),c.click(),window.URL.revokeObjectURL(a)}return!0}catch(t){console.error("Backend export suppliers error:",t),console.log("Falling back to local storage..."),this.useBackend=!1}try{const t=this.getLocalSuppliers(),r=JSON.stringify(t,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(r),i=`suppliers_${new Date().toISOString().split("T")[0]}.json`,c=document.createElement("a");return c.setAttribute("href",a),c.setAttribute("download",i),c.click(),!0}catch(t){throw console.error("Local export suppliers error:",t),t}}subscribe(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter(t=>t!==e)}}notifySubscribers(e=null){this.subscribers.forEach(t=>{try{t(e)}catch(r){console.error("Error notifying subscriber:",r)}})}transformUserToSupplier(e){return{id:e._id||e.id,name:e.fullName||e.name,email:e.email,phone:e.phone,status:e.status,role:e.role,createdAt:e.createdAt,updatedAt:e.updatedAt,contactPerson:e.supplierDetails?.contactPerson||"",address:e.address||e.supplierDetails?.address||"",category:e.supplierDetails?.category||"Other",brands:Array.isArray(e.supplierDetails?.brands)?e.supplierDetails.brands:[],paymentTerms:e.supplierDetails?.paymentTerms||"Net 30",notes:e.supplierDetails?.notes||"",totalOrders:e.supplierDetails?.totalOrders||0,totalSpent:e.supplierDetails?.totalSpent||0,rating:e.supplierDetails?.rating||0,lastOrderDate:e.supplierDetails?.lastOrderDate||null}}transformSupplierToUser(e){return{fullName:e.name,email:e.email,phone:e.phone,role:"supplier",status:e.status||"active",address:e.address,supplierDetails:{contactPerson:e.contactPerson,category:e.category,paymentTerms:e.paymentTerms,notes:e.notes,totalOrders:e.totalOrders||0,totalSpent:e.totalSpent||0,rating:e.rating||0,lastOrderDate:e.lastOrderDate}}}}const qa=new qE,D4=({isOpen:s,onClose:e,onSupplierCreated:t,editingSupplier:r=null})=>{const{success:a,error:i}=cr(),[c,d]=T.useState(!1),[u,f]=T.useState({name:"",contactPerson:"",email:"",phone:"",address:"",category:"Biscuits Pack",status:"active",paymentTerms:"Net 30",notes:""}),[m,b]=T.useState({}),y=["Biscuits Pack","Noodles Pack","Chips Pack","Chocolate Pack","Juice Pack"],x=["Net 15","Net 30","Net 45","Net 60","COD","Prepaid"];T.useEffect(()=>{f(r?{name:r.name||"",contactPerson:r.contactPerson||"",email:r.email||"",phone:r.phone||"",address:r.address||"",category:r.category||"Biscuits Pack",status:r.status||"active",paymentTerms:r.paymentTerms||"Net 30",notes:r.notes||""}:{name:"",contactPerson:"",email:"",phone:"",address:"",category:"Biscuits Pack",status:"active",paymentTerms:"Net 30",notes:""}),b({})},[r,s]);const j=P=>{const{name:M,value:F}=P.target;f(B=>({...B,[M]:F})),m[M]&&b(B=>({...B,[M]:""}))},S=()=>{const P={};return u.name.trim()||(P.name="Supplier name is required"),u.contactPerson.trim()||(P.contactPerson="Contact person is required"),u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(P.email="Please enter a valid email address"):P.email="Email is required",u.phone.trim()||(P.phone="Phone number is required"),u.address.trim()||(P.address="Address is required"),["Biscuits Pack","Noodles Pack","Chips Pack","Chocolate Pack","Juice Pack"].includes(u.category)||(P.category="Invalid category selected"),r||((!u.password||u.password.length<6)&&(P.password="Password must be at least 6 characters"),(!u.confirmPassword||u.password!==u.confirmPassword)&&(P.confirmPassword="Passwords do not match")),b(P),Object.keys(P).length===0},A=async P=>{if(P.preventDefault(),!!S()){d(!0);try{let M;r?(M=await qa.updateSupplier(r.id||r._id,u),a("Supplier updated successfully!")):(M=await qa.createSupplier(u),a("Supplier added successfully!")),t&&t(M),e()}catch(M){console.error("Error saving supplier:",M),i(M.message||"An error occurred while saving the supplier")}finally{d(!1)}}},k=()=>{c||e()};return s?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r?"Edit Supplier":"Add New Supplier"}),n.jsx("p",{className:"text-gray-600 mt-1",children:r?"Update supplier information":"Enter supplier details to add them to your network"})]}),n.jsx("button",{onClick:k,disabled:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:n.jsx(Jr,{className:"w-6 h-6 text-gray-500"})})]}),n.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Kn,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Basic Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),n.jsx("input",{type:"text",name:"name",value:u.name,onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter supplier name",disabled:c}),m.name&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person *"}),n.jsx("input",{type:"text",name:"contactPerson",value:u.contactPerson,onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.contactPerson?"border-red-500":"border-gray-300"}`,placeholder:"Enter contact person name",disabled:c}),m.contactPerson&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.contactPerson})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),n.jsx("input",{type:"password",name:"password",value:u.password||"",onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.password?"border-red-500":"border-gray-300"}`,placeholder:"Set a password for supplier login",disabled:c}),m.password&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.password})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),n.jsx("input",{type:"password",name:"confirmPassword",value:u.confirmPassword||"",onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Confirm the password",disabled:c}),m.confirmPassword&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.confirmPassword})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Mc,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Contact Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:u.email,onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address",disabled:c}),m.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number",disabled:c}),m.phone&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(zf,{className:"w-4 h-4 inline mr-1"}),"Address *"]}),n.jsx("textarea",{name:"address",value:u.address,onChange:j,rows:3,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none ${m.address?"border-red-500":"border-gray-300"}`,placeholder:"Enter complete address",disabled:c}),m.address&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.address})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(AN,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Business Information"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category*"}),n.jsx("select",{name:"category",value:u.category,onChange:j,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors ${m.category?"border-red-500":"border-gray-300"}`,disabled:c,children:y.map(P=>n.jsx("option",{value:P,children:P},P))}),m.category&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{name:"status",value:u.status,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",disabled:c,children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms"}),n.jsx("select",{name:"paymentTerms",value:u.paymentTerms,onChange:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",disabled:c,children:x.map(P=>n.jsx("option",{value:P,children:P},P))})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Sd,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Additional Information"]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),n.jsx("textarea",{name:"notes",value:u.notes,onChange:j,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors resize-none",placeholder:"Enter any additional notes about this supplier...",disabled:c})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:k,disabled:c,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),n.jsx("span",{children:"Saving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(kN,{className:"w-4 h-4"}),n.jsx("span",{children:r?"Update Supplier":"Add Supplier"})]})})]})]})]})}):null},HE=({onAddSupplier:s,refreshTrigger:e})=>{const{success:t,error:r}=cr(),[a,i]=T.useState([]),[c,d]=T.useState([]),[u,f]=T.useState(!0),[m,b]=T.useState(""),[y,x]=T.useState("all"),[j,S]=T.useState("active"),[A,k]=T.useState(!1),[P,M]=T.useState(null),[F,B]=T.useState(null),ae=["all","Biscuits Pack","Noodles Pack","Chips Pack","Chocolate Pack","Juice Pack"],Y=T.useCallback(async()=>{try{f(!0);const ee=await qa.getAllSuppliers({status:j!=="all"?j:void 0}),pe=ee.users?ee.users.map(Q=>qa.transformUserToSupplier(Q)):[];i(pe)}catch(ee){console.error("Error loading suppliers:",ee),r("Failed to load suppliers")}finally{f(!1)}},[r,j]),E=T.useCallback(async()=>{try{let ee=[...a];if(m){const pe={};y!=="all"&&(pe.category=y),j!=="all"&&(pe.status=j);const Q=await qa.searchSuppliers(m,pe);ee=Q.users?Q.users.map(me=>qa.transformUserToSupplier(me)):[]}else y!=="all"&&(ee=ee.filter(pe=>pe.category===y)),j!=="all"&&(ee=ee.filter(pe=>pe.status===j));d(ee)}catch(ee){console.error("Error filtering suppliers:",ee);let pe=[...a];y!=="all"&&(pe=pe.filter(Q=>Q.category===y)),j!=="all"&&(pe=pe.filter(Q=>Q.status===j)),d(pe)}},[a,m,y,j]);T.useEffect(()=>(Y(),qa.subscribe(()=>{Y()})),[e,Y]),T.useEffect(()=>{E()},[E]);const I=ee=>{M(ee),k(!0),B(null)},$=async ee=>{if(window.confirm(`Are you sure you want to delete ${ee.name}?`))try{const pe=ee.id||ee._id;await qa.deleteSupplier(pe),t("Supplier deleted successfully"),i(Q=>Q.filter(me=>(me.id||me._id)!==pe)),d(Q=>Q.filter(me=>(me.id||me._id)!==pe))}catch(pe){console.error("Error deleting supplier:",pe),r("Failed to delete supplier")}B(null)},R=async ee=>{try{const pe=await qa.toggleSupplierStatus(ee.id||ee._id);t(`Supplier ${pe.status==="active"?"activated":"deactivated"} successfully`),Y()}catch(pe){console.error("Error toggling supplier status:",pe),r("Failed to update supplier status")}B(null)},q=async()=>{try{await qa.exportSuppliers("json"),t("Suppliers data exported successfully")}catch(ee){console.error("Error exporting suppliers:",ee),r("Failed to export suppliers data")}},ie=()=>{k(!1),M(null),Y()},K=ee=>{const pe="px-2 py-1 rounded-full text-xs font-medium";return ee==="active"?`${pe} bg-green-100 text-green-800`:`${pe} bg-red-100 text-red-800`},oe=ee=>({"Biscuits Pack":"bg-amber-100 text-amber-800","Noodles Pack":"bg-blue-100 text-blue-800","Chips Pack":"bg-yellow-100 text-yellow-800","Chocolate Pack":"bg-purple-100 text-purple-800","Juice Pack":"bg-green-100 text-green-800"})[ee]||"bg-gray-100 text-gray-800",Z=ee=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ee),se=ee=>ee?new Date(ee).toLocaleDateString():"Never";return u?n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading suppliers..."})]})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Supplier Directory"}),n.jsxs("p",{className:"text-gray-600 text-sm",children:[c.length," of ",a.length," suppliers"]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:q,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(no,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Wa,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]}),n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search suppliers by name, contact, email, or category...",value:m,onChange:ee=>b(ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:y,onChange:ee=>x(ee.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:ae.map(ee=>n.jsx("option",{value:ee,children:ee==="all"?"All Categories":ee},ee))}),n.jsx(xf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]}),n.jsxs("div",{className:"relative",children:[n.jsxs("select",{value:j,onChange:ee=>S(ee.target.value),className:"appearance-none bg-white border border-gray-300 rounded-lg px-4 py-3 pr-8 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]}),n.jsx(xf,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 pointer-events-none"})]})]})]}),c.length===0?n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center",children:[n.jsx(Cd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:m||y!=="all"||j!=="all"?"No suppliers found":"No suppliers yet"}),n.jsx("p",{className:"text-gray-500 mb-6",children:m||y!=="all"||j!=="all"?"Try adjusting your search or filters":"Add your first supplier to get started"}),!m&&y==="all"&&j==="all"&&n.jsx("button",{onClick:s,className:"bg-emerald-600 text-white px-6 py-3 rounded-lg hover:bg-emerald-700 transition-colors",children:"Add First Supplier"})]}):n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:c.map(ee=>n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:ee.name}),n.jsx("p",{className:"text-gray-600 text-sm",children:ee.contactPerson})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:K(ee.status),children:ee.status}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>B(F===ee.id?null:ee.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(D8,{className:"w-4 h-4 text-gray-500"})}),F===ee.id&&n.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[n.jsxs("button",{onClick:()=>I(ee),className:"w-full flex items-center space-x-2 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:[n.jsx(P8,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:"Edit Supplier"})]}),n.jsx("button",{onClick:()=>R(ee),className:"w-full flex items-center space-x-2 px-4 py-3 text-left hover:bg-gray-50 transition-colors",children:ee.status==="active"?n.jsxs(n.Fragment,{children:[n.jsx(B8,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:"Deactivate"})]}):n.jsxs(n.Fragment,{children:[n.jsx(z8,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{children:"Activate"})]})}),n.jsxs("button",{onClick:()=>$(ee),className:"w-full flex items-center space-x-2 px-4 py-3 text-left hover:bg-gray-50 transition-colors text-red-600",children:[n.jsx(gp,{className:"w-4 h-4"}),n.jsx("span",{children:"Delete"})]})]})]})]})]}),n.jsx("div",{className:"mb-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe(ee.category)}`,children:ee.category})}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Mc,{className:"w-4 h-4"}),n.jsx("span",{className:"truncate",children:ee.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Uf,{className:"w-4 h-4"}),n.jsx("span",{children:ee.phone})]}),n.jsxs("div",{className:"flex items-start space-x-2 text-sm text-gray-600",children:[n.jsx(zf,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),n.jsx("span",{className:"line-clamp-2",children:ee.address})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-1 text-sm text-gray-600 mb-1",children:[n.jsx(Cd,{className:"w-4 h-4"}),n.jsx("span",{children:"Orders"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:ee.totalOrders||0})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-1 text-sm text-gray-600 mb-1",children:[n.jsx(Fn,{className:"w-4 h-4"}),n.jsx("span",{children:"Spent"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:Z(ee.totalSpent||0)})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[n.jsx(ua,{className:"w-4 h-4"}),n.jsx("span",{children:"Last Order:"})]}),n.jsx("span",{className:"text-gray-900",children:se(ee.lastOrderDate)})]}),ee.rating>0&&n.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-gray-600",children:[n.jsx(W0,{className:"w-4 h-4"}),n.jsx("span",{children:"Rating:"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"text-gray-900",children:ee.rating.toFixed(1)}),n.jsx("div",{className:"flex",children:[...Array(5)].map((pe,Q)=>n.jsx(W0,{className:`w-3 h-3 ${Q<Math.floor(ee.rating)?"text-yellow-400 fill-current":"text-gray-300"}`},Q))})]})]})]})]},ee.id||ee._id))}),n.jsx(D4,{isOpen:A,onClose:()=>{k(!1),M(null)},onSupplierCreated:ie,editingSupplier:P}),F&&n.jsx("div",{className:"fixed inset-0 z-0",onClick:()=>B(null)})]})};class WE{constructor(){this.refreshInterval=null,this.isRefreshing=!1}startAutoRefresh(){this.stopAutoRefresh(),this.refreshInterval=setInterval(()=>{this.checkAndRefreshToken()},300*1e3),this.checkAndRefreshToken()}stopAutoRefresh(){this.refreshInterval&&(clearInterval(this.refreshInterval),this.refreshInterval=null)}async checkAndRefreshToken(){if(!this.isRefreshing)try{this.isRefreshing=!0;const e=localStorage.getItem("freshnest_token_expiry");if(!e)return;const t=parseInt(e)-Date.now(),r=120*1e3;t<=r&&(console.log("Token expiring soon, refreshing..."),await Ut.refreshAccessToken(),console.log("Token refreshed successfully"))}catch(e){console.error("Token refresh failed:",e)}finally{this.isRefreshing=!1}}async refreshToken(){try{return await Ut.refreshAccessToken(),!0}catch(e){return console.error("Manual token refresh failed:",e),!1}}isAuthenticated(){return Ut.isAuthenticated()}getCurrentUser(){return Ut.getUser()}}const Do=new WE;class VE{constructor(){this.storageKey="freshnest_announcements",this.listeners=[]}getAnnouncements(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error loading announcements:",e),[]}}getActiveAnnouncements(e="all"){const t=this.getAnnouncements(),r=new Date;return t.filter(a=>!a.isActive||a.expiresAt&&new Date(a.expiresAt)<r?!1:a.targetAudience==="all"||a.targetAudience===e)}saveAnnouncements(e){try{return localStorage.setItem(this.storageKey,JSON.stringify(e)),this.notifyListeners(),!0}catch(t){return console.error("Error saving announcements:",t),!1}}addAnnouncement(e){const t=this.getAnnouncements(),r={...e,id:Date.now(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return t.unshift(r),this.saveAnnouncements(t)}updateAnnouncement(e,t){const r=this.getAnnouncements(),a=r.findIndex(i=>i.id===e);return a!==-1?(r[a]={...r[a],...t,updatedAt:new Date().toISOString()},this.saveAnnouncements(r)):!1}deleteAnnouncement(e){const r=this.getAnnouncements().filter(a=>a.id!==e);return this.saveAnnouncements(r)}toggleAnnouncementStatus(e){const r=this.getAnnouncements().find(a=>a.id===e);return r?this.updateAnnouncement(e,{isActive:!r.isActive}):!1}subscribe(e){return this.listeners.push(e),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notifyListeners(){this.listeners.forEach(e=>{try{e(this.getAnnouncements())}catch(t){console.error("Error notifying announcement listener:",t)}})}getAnnouncementsByPriority(e){return this.getActiveAnnouncements().filter(r=>r.priority===e)}getUrgentAnnouncements(e="all"){return this.getAnnouncementsByPriority("urgent").filter(t=>t.targetAudience==="all"||t.targetAudience===e)}markAsRead(e,t){const r=`freshnest_announcement_read_${t}`;try{const a=JSON.parse(localStorage.getItem(r)||"[]");a.includes(e)||(a.push(e),localStorage.setItem(r,JSON.stringify(a)))}catch(a){console.error("Error marking announcement as read:",a)}}isAnnouncementRead(e,t){const r=`freshnest_announcement_read_${t}`;try{return JSON.parse(localStorage.getItem(r)||"[]").includes(e)}catch(a){return console.error("Error checking announcement read status:",a),!1}}getUnreadCount(e="all",t=null){return t?this.getActiveAnnouncements(e).filter(a=>!this.isAnnouncementRead(a.id,t)).length:0}}const so=new VE;class $E{getAuthHeaders(){const e=localStorage.getItem("freshnest_access_token")||localStorage.getItem("token");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}}async applyLeave(e){try{const t=await fetch(`${Rs}/api/leave/apply`,{method:"POST",headers:this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok){const r=await t.json();throw new Error(r.message||r.error||"Failed to apply for leave")}return await t.json()}catch(t){throw this.handleError(t)}}async getMyLeaves(e={}){try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit);const r=await fetch(`${Rs}/api/leave/my-leaves?${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const a=await r.json();throw new Error(a.message||a.error||"Failed to fetch leave applications")}return await r.json()}catch(t){throw this.handleError(t)}}async cancelLeave(e){try{const t=await fetch(`${Rs}/api/leave/${e}/cancel`,{method:"DELETE",headers:this.getAuthHeaders()});if(!t.ok){const r=await t.json();throw new Error(r.message||r.error||"Failed to cancel leave application")}return await t.json()}catch(t){throw this.handleError(t)}}async getAllLeaves(e={}){try{const t=new URLSearchParams;e.status&&t.append("status",e.status),e.employeeId&&t.append("employeeId",e.employeeId),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate);const r=await fetch(`${Rs}/api/leave/all?${t}`,{method:"GET",headers:this.getAuthHeaders()});if(!r.ok){const a=await r.json();throw new Error(a.message||a.error||"Failed to fetch leave applications")}return await r.json()}catch(t){throw this.handleError(t)}}async reviewLeave(e,t){try{const r=await fetch(`${Rs}/api/leave/${e}/review`,{method:"PUT",headers:this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok){const a=await r.json();throw new Error(a.message||a.error||"Failed to review leave application")}return await r.json()}catch(r){throw this.handleError(r)}}async getLeaveStats(){try{const e=await fetch(`${Rs}/api/leave/stats`,{method:"GET",headers:this.getAuthHeaders()});if(!e.ok){const t=await e.json();throw new Error(t.message||t.error||"Failed to fetch leave statistics")}return await e.json()}catch(e){throw this.handleError(e)}}handleError(e){return e instanceof TypeError&&e.message.includes("fetch")?new Error("Network error. Please check your connection."):e.message?new Error(e.message):new Error("An unexpected error occurred")}getLeaveTypeLabel(e){return{sick:"Sick Leave",casual:"Casual Leave",annual:"Annual Leave"}[e]||e}getStatusColor(e){return{pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"}formatDateRange(e,t){const r=new Date(e).toLocaleDateString(),a=new Date(t).toLocaleDateString();return r===a?r:`${r} - ${a}`}calculateLeaveDays(e,t,r=!1){const a=new Date(e),i=new Date(t),c=Math.abs(i-a),d=Math.ceil(c/(1e3*60*60*24))+1;return r?.5:d}checkDateOverlap(e,t,r){const a=new Date(e),i=new Date(t);return r.some(c=>{if(c.status==="rejected")return!1;const d=new Date(c.startDate),u=new Date(c.endDate);return a<=u&&i>=d})}calculateRemainingBalance(e,t,r){const a={...e};return a[t]=Math.max(0,a[t]-r),a}}const cn=new $E,cd="http://localhost:3001";class GE{async apiRequest(e,t={}){return await Ut.apiRequest(e,t)}async createProduct(e){const t=await this.apiRequest(`${cd}/api/products`,{method:"POST",body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to create product");return r}async list(e={}){const t=new URLSearchParams(e),r=await this.apiRequest(`${cd}/api/products?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch products");return a}async publicList(e={}){const t=new URLSearchParams(e),r=await this.apiRequest(`${cd}/api/products/public?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch products");return a}async importCSV(e){const t=new FormData;t.append("file",e);const r=await this.apiRequest(`${cd}/api/products/import-csv`,{method:"POST",body:t,headers:{}}),a=await r.json();if(!r.ok)throw new Error(a.error||"CSV import failed");return a}async updateProduct(e,t){const r=await this.apiRequest(`${cd}/api/products/${e}`,{method:"PUT",body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to update product");return a}async deleteProduct(e,t=!1){const r=await this.apiRequest(`${cd}/api/products/${e}${t?"?permanent=true":""}`,{method:"DELETE"}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to delete product");return a}async sendLowStockAlert(e,{supplierId:t}={}){const r=await this.apiRequest(`${cd}/api/products/${e}/alerts/low-stock`,{method:"POST",body:JSON.stringify(t?{supplierId:t}:{})}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to send low stock alert");return a}}const Yn=new GE,YE=Object.freeze(Object.defineProperty({__proto__:null,default:Yn},Symbol.toStringTag,{value:"Module"})),I4=[{category:"Biscuits Pack",icon:"🍪",brands:["Britannia","Sunfeast","Parle"],synonyms:["biscuit","biscuits","cookie","cookies"]},{category:"Noodles Pack",icon:"🍜",brands:["Maggi","Top Ramen","Yippee!"],synonyms:["noodle","noodles","instant"]},{category:"Chips Pack",icon:"🍟",brands:["Lays","Bingo!","Haldiram’s"],synonyms:["chips","namkeen","snack"]},{category:"Chocolate / Candy Pack",icon:"🍫",brands:["Nestlé (KitKat, Munch)","Cadbury","Amul"],synonyms:["chocolate","candy","sweet","confectionery","kitkat","munch","nestle","nestlé"]},{category:"Juice / Tetra Pack",icon:"🧃",brands:["Real","Tropicana","Frooti / Appy"],synonyms:["juice","tetra","box","frooti","appy"]}],iy=I4.map(s=>({value:s.category,label:`${s.icon} ${s.category}`}));function df(s){const e=I4.find(t=>t.category===s);return e?e.brands:[]}function jc(s){if(!s)return{expired:!1,expiringSoon:!1,within30:!1,daysLeft:null};const e=new Date,t=new Date(s);if(isNaN(t.getTime()))return{expired:!1,expiringSoon:!1,within30:!1,daysLeft:null};const r=t.getTime()-e.getTime(),a=Math.ceil(r/(1440*60*1e3)),i=t<e,c=!i&&a<=5,d=!i&&!c&&t<new Date(e.getTime()+720*60*60*1e3);return{expired:i,expiringSoon:c,within30:d,daysLeft:a}}function KE({onPick:s,selected:e}){return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:iy.map(t=>{const r=e===t.value,a=df(t.value);return n.jsxs("button",{type:"button",onClick:()=>s(t.value),className:`w-full text-left p-3 rounded-lg border transition ${r?"border-emerald-600 bg-emerald-50":"border-gray-200 hover:border-emerald-500 hover:bg-emerald-50"}`,children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"mr-2","aria-hidden":!0,children:t.label.split(" ")[0]}),n.jsx("span",{className:"font-medium",children:t.label})]}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.map(i=>n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:i},i))})]},t.value)})})}const XE=`name,sku,category,price,costPrice,stock,unit,status,brand,tags
Organic Lettuce,LETT-001,Vegetables,2.99,1.2,45,unit,active,FreshFarm,leafy green
Organic Apples,APPL-ORG,Fruits,4.99,2.5,5,unit,active,FruitCo,organic,seasonal`;function JE(){const{success:s,error:e}=cr(),[t,r]=T.useState([]),[a,i]=T.useState(!1),[c,d]=T.useState(null),[u,f]=T.useState(null),[m,b]=T.useState([]),[y,x]=T.useState({name:"",sku:"",category:"",price:"",costPrice:"",stock:"",unit:"pack",status:"active",brand:"",description:"",tags:"",supplierId:"",expiryDate:""}),[j,S]=T.useState({}),[A,k]=T.useState({}),P=E=>{f(E),x({name:E.name||"",sku:E.sku||"",category:E.category||"",price:E.price!=null?String(E.price):"",costPrice:E.costPrice!=null?String(E.costPrice):"",stock:E.stock!=null?String(E.stock):"",unit:E.unit||"pack",status:E.status||"active",brand:E.brand||"",description:E.description||"",tags:Array.isArray(E.tags)?E.tags.join(", "):E.tags||"",supplierId:E.supplierId||"",expiryDate:E.expiryDate?new Date(E.expiryDate).toISOString().split("T")[0]:""})},M=async()=>{try{i(!0);const E=await Yn.list({page:1,limit:10,status:"active"});r(E.data.items.filter(I=>I.status==="active"))}catch(E){console.error(E)}finally{i(!1)}};T.useEffect(()=>{M()},[]),T.useEffect(()=>{(async()=>{if(y.category)try{const E=await qa.listByCategory(y.category,"active");b(E)}catch{b([])}else b([])})()},[y.category]);const F=()=>{const E={};if(y.name.trim()||(E.name="Product name is required"),y.sku.trim()||(E.sku="SKU is required"),y.category||(E.category="Please choose a category"),(y.price===""||isNaN(Number(y.price))||Number(y.price)<=0)&&(E.price="Enter a valid price > 0"),y.costPrice!==""&&(isNaN(Number(y.costPrice))||Number(y.costPrice)<0)&&(E.costPrice="Cost price cannot be negative"),y.stock!==""&&(isNaN(Number(y.stock))||Number(y.stock)<0||!Number.isInteger(Number(y.stock)))&&(E.stock="Stock must be a non-negative integer"),y.unit||(E.unit="Unit is required"),y.brand||(E.brand="Brand is required"),y.supplierId||(E.supplierId="Supplier is required"),y.expiryDate){const $=new Date(y.expiryDate);isNaN($.getTime())&&(E.expiryDate="Invalid date")}const I=df(y.category);return y.category&&I.length&&y.brand&&!I.includes(y.brand)&&(E.brand="Please select a valid brand for the chosen category"),S(E),Object.keys(E).length===0},B=async E=>{if(E.preventDefault(),!!F())try{const I={...y,price:Number(y.price),costPrice:y.costPrice?Number(y.costPrice):0,stock:y.stock?Number(y.stock):0,tags:y.tags?y.tags.split(",").map(R=>R.trim()):[],...y.expiryDate?{expiryDate:new Date(y.expiryDate).toISOString()}:{}};if(I.supplierId){const R=m.find(q=>String(q.id||q._id)===String(I.supplierId));if(!R)return e("Selected supplier not found");if(R.category!==I.category)return e("Supplier category must match product category")}const $=df(I.category);if($.length&&!$.includes(I.brand))return e("Please select a valid brand for the chosen category");if(u)await Yn.updateProduct(u._id,I),s("Product updated successfully"),f(null);else{if(!I.supplierId)return e("Please select a supplier");await Yn.createProduct(I),s("Product added successfully")}x({name:"",sku:"",category:"",price:"",costPrice:"",stock:"",unit:"pack",status:"active",brand:"",description:"",tags:"",supplierId:"",expiryDate:""}),await M()}catch(I){e(I.message||"Failed to save product")}},ae=async()=>{if(!c)return e("Please choose a CSV file");try{i(!0);const E=await Yn.importCSV(c);s(`Import complete: ${E.data.created} created, ${E.data.updated} updated, ${E.data.failed} failed`),d(null),await M()}catch(E){e(E.message||"CSV import failed")}finally{i(!1)}},Y=async E=>{if(window.confirm(`Delete ${E.name}?`))try{await Yn.deleteProduct(E._id),s("Product deleted"),await M()}catch(I){e(I.message||"Failed to delete")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Product"}),n.jsxs("form",{onSubmit:B,className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{className:`border rounded p-2 w-full ${j.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter product name",value:y.name,onChange:E=>{x({...y,name:E.target.value}),j.name&&S({...j,name:""})}}),j.name&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU *"}),n.jsx("input",{className:`border rounded p-2 w-full ${j.sku?"border-red-500":"border-gray-300"}`,placeholder:"Enter SKU",value:y.sku,onChange:E=>{x({...y,sku:E.target.value}),j.sku&&S({...j,sku:""})}}),j.sku&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.sku})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category *"}),n.jsxs("select",{className:`border rounded p-2 w-full ${j.category?"border-red-500":"border-gray-300"}`,value:y.category,onChange:async E=>{const I=E.target.value;x({...y,category:I,brand:"",supplierId:""}),j.category&&S({...j,category:""});try{const $=await qa.listByCategory(I,"active");b($)}catch{b([])}},children:[n.jsx("option",{value:"",disabled:!0,children:"Select Category"}),iy.map(E=>n.jsx("option",{value:E.value,children:E.label},E.value))]}),j.category&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.category})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),n.jsx("input",{className:`border rounded p-2 w-full ${j.price?"border-red-500":"border-gray-300"}`,type:"number",min:"0",step:"0.01",placeholder:"0.00",value:y.price,onChange:E=>{x({...y,price:E.target.value}),j.price&&S({...j,price:""})}}),j.price&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.price})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost Price"}),n.jsx("input",{className:`border rounded p-2 w-full ${j.costPrice?"border-red-500":"border-gray-300"}`,type:"number",min:"0",step:"0.01",placeholder:"0.00",value:y.costPrice,onChange:E=>{x({...y,costPrice:E.target.value}),j.costPrice&&S({...j,costPrice:""})}}),j.costPrice&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.costPrice})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),n.jsx("input",{className:`border rounded p-2 w-full ${j.stock?"border-red-500":"border-gray-300"}`,type:"number",min:"0",step:"1",placeholder:"0",value:y.stock,onChange:E=>{x({...y,stock:E.target.value}),j.stock&&S({...j,stock:""})}}),j.stock&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.stock})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit *"}),n.jsx("select",{className:`border rounded p-2 w-full ${j.unit?"border-red-500":"border-gray-300"}`,value:y.unit,onChange:E=>{x({...y,unit:E.target.value}),j.unit&&S({...j,unit:""})},children:["unit","kg","g","lb","litre","ml","pack","box","dozen","bundle"].map(E=>n.jsx("option",{value:E,children:E},E))}),j.unit&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.unit})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{className:"border rounded p-2 w-full",value:y.status,onChange:E=>x({...y,status:E.target.value}),children:["active","inactive"].map(E=>n.jsx("option",{value:E,children:E},E))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand *"}),n.jsxs("select",{className:`border rounded p-2 w-full ${j.brand?"border-red-500":"border-gray-300"}`,disabled:!y.category,value:y.brand,onChange:E=>{x({...y,brand:E.target.value}),j.brand&&S({...j,brand:""})},children:[n.jsx("option",{value:"",disabled:!0,children:y.category?"Select Brand":"Select category first"}),df(y.category).map(E=>n.jsx("option",{value:E,children:E},E))]}),j.brand&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.brand})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier *"}),n.jsxs("select",{className:`border rounded p-2 w-full ${j.supplierId?"border-red-500":"border-gray-300"}`,disabled:!y.category,value:y.supplierId,onChange:E=>{x({...y,supplierId:E.target.value}),j.supplierId&&S({...j,supplierId:""})},children:[n.jsx("option",{value:"",disabled:!0,children:y.category?"Select Supplier":"Select category first"}),m.map(E=>n.jsx("option",{value:E.id||E._id,children:E.name},E.id||E._id))]}),j.supplierId&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.supplierId})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),n.jsx("input",{type:"date",className:`border rounded p-2 w-full ${j.expiryDate?"border-red-500":"border-gray-300"}`,value:y.expiryDate,onChange:E=>{x({...y,expiryDate:E.target.value}),j.expiryDate&&S({...j,expiryDate:""})}}),j.expiryDate&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:j.expiryDate})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),n.jsx("input",{className:"border rounded p-2 w-full",placeholder:"Comma separated",value:y.tags,onChange:E=>x({...y,tags:E.target.value})})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("textarea",{className:"border rounded p-2 w-full",placeholder:"Short description...",value:y.description,onChange:E=>x({...y,description:E.target.value})})]}),n.jsxs("div",{className:"md:col-span-3 flex gap-3",children:[n.jsxs("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[n.jsx(yf,{})," ",u?"Update Product":"Add Product"]}),u&&n.jsx("button",{type:"button",onClick:()=>{f(null),x({name:"",sku:"",category:"",price:"",costPrice:"",stock:"",unit:"unit",status:"active",brand:"",description:"",tags:""})},className:"px-4 py-2 rounded border border-gray-300",children:"Cancel"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Products from CSV"}),n.jsx("button",{onClick:()=>{navigator.clipboard.writeText(XE),s("Sample CSV copied to clipboard")},className:"text-sm text-emerald-700 underline",children:"Copy sample header"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-start md:items-center",children:[n.jsx("input",{type:"file",accept:".csv",onChange:E=>d(E.target.files?.[0]||null)}),n.jsxs("button",{onClick:ae,className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center gap-2",children:[n.jsx(U8,{})," Import CSV"]})]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Required columns: name, sku, category, price. Optional: costPrice, stock, unit, status, brand, tags, description"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Category to View Products"})}),n.jsx(KE,{selected:y.category,onPick:async E=>{x({...y,category:E}),i(!0);try{const I=await Yn.list({page:1,limit:100,status:"active",category:E});r((I.data.items||[]).filter($=>$.status==="active"))}finally{i(!1)}}}),n.jsx("div",{className:"mt-4",children:a?n.jsx("p",{children:"Loading..."}):t.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"No products found for the selected category."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Name"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Brand"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Price"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Unit"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Available Stock"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Supplier"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Expiry"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Action"})]})}),n.jsx("tbody",{children:t.map((E,I)=>{const $=Number(E.price||0).toFixed(2),R=E.status==="active"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700",q=E.status==="active"?"Active":"Inactive",ie=typeof E.stock=="number"&&E.stock<=5,K=m.filter(oe=>oe.category===E.category&&(!E.brand||Array.isArray(oe.brands)&&oe.brands.includes(E.brand)));return n.jsxs("tr",{className:`border-b last:border-0 ${ie?"bg-red-50/50":""}`,children:[n.jsx("td",{className:"py-3 px-4 text-gray-900 font-medium",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{children:E.name}),ie&&n.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700 border border-red-200",children:"Low stock"})]})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:E.brand}),n.jsxs("td",{className:"py-3 px-4 text-gray-600",children:["$",$]}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:E.unit||"pack"}),n.jsx("td",{className:`py-3 px-4 font-semibold ${ie?"text-red-700":"text-gray-900"}`,children:E.stock!=null?E.stock:"-"}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:E.supplierName||E.supplierId||"-"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R}`,children:q})}),n.jsx("td",{className:"py-3 px-4",children:E.expiryDate?n.jsx("div",{className:"flex items-center gap-2",children:(()=>{const{expired:oe,expiringSoon:Z,within30:se,daysLeft:ee}=jc(E.expiryDate),pe=oe||Z?"text-red-600":se?"text-yellow-600":"text-gray-700";return n.jsxs(n.Fragment,{children:[n.jsx("span",{className:`text-xs font-medium ${pe}`,children:new Date(E.expiryDate).toLocaleDateString()}),oe&&n.jsx(Dn,{className:"w-4 h-4 text-red-500"}),!oe&&Z&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"w-4 h-4 text-red-500"}),n.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full bg-red-100 text-red-700 border border-red-200",children:ee<=0?"Expires today":"Expiring soon"})]}),!oe&&se&&n.jsx(Dn,{className:"w-4 h-4 text-yellow-500"})]})})()}):n.jsx("span",{className:"text-xs text-gray-400",children:"—"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>P(E),className:"text-blue-600 hover:underline text-xs",children:"Edit"}),n.jsx("button",{onClick:()=>Y(E),className:"text-red-600 hover:underline text-xs",children:"Delete"}),ie&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{className:"border border-gray-300 rounded text-xs py-1 px-1",value:A[E._id]||"",onChange:oe=>k({...A,[E._id]:oe.target.value}),children:[n.jsx("option",{value:"",children:"All suppliers"}),K.map(oe=>{const Z=oe.brands&&oe.brands.length?`${oe.name} (${oe.brands.join(", ")})`:oe.name;return n.jsx("option",{value:oe.id||oe._id,children:Z},oe.id||oe._id)})]}),n.jsx("button",{onClick:async()=>{try{const oe=A[E._id];await Yn.sendLowStockAlert(E._id,oe?{supplierId:oe}:void 0),s("Alert sent")}catch(oe){e(oe.message||"Failed to send alert")}},className:"text-emerald-700 hover:underline text-xs",title:"Send low stock alert",children:"Send alert"})]})]})})]},E._id||I)})})]})})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hf(s){return s+.5|0}const Ec=(s,e,t)=>Math.max(Math.min(s,t),e);function Qh(s){return Ec(Hf(s*2.55),0,255)}function Tc(s){return Ec(Hf(s*255),0,255)}function Nl(s){return Ec(Hf(s/2.55)/100,0,1)}function q5(s){return Ec(Hf(s*100),0,100)}const ji={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_1=[..."0123456789ABCDEF"],ZE=s=>_1[s&15],QE=s=>_1[(s&240)>>4]+_1[s&15],d0=s=>(s&240)>>4===(s&15),eP=s=>d0(s.r)&&d0(s.g)&&d0(s.b)&&d0(s.a);function tP(s){var e=s.length,t;return s[0]==="#"&&(e===4||e===5?t={r:255&ji[s[1]]*17,g:255&ji[s[2]]*17,b:255&ji[s[3]]*17,a:e===5?ji[s[4]]*17:255}:(e===7||e===9)&&(t={r:ji[s[1]]<<4|ji[s[2]],g:ji[s[3]]<<4|ji[s[4]],b:ji[s[5]]<<4|ji[s[6]],a:e===9?ji[s[7]]<<4|ji[s[8]]:255})),t}const sP=(s,e)=>s<255?e(s):"";function rP(s){var e=eP(s)?ZE:QE;return s?"#"+e(s.r)+e(s.g)+e(s.b)+sP(s.a,e):void 0}const nP=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function F4(s,e,t){const r=e*Math.min(t,1-t),a=(i,c=(i+s/30)%12)=>t-r*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function aP(s,e,t){const r=(a,i=(a+s/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function iP(s,e,t){const r=F4(s,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)r[a]*=1-e-t,r[a]+=e;return r}function oP(s,e,t,r,a){return s===a?(e-t)/r+(e<t?6:0):e===a?(t-s)/r+2:(s-e)/r+4}function oy(s){const t=s.r/255,r=s.g/255,a=s.b/255,i=Math.max(t,r,a),c=Math.min(t,r,a),d=(i+c)/2;let u,f,m;return i!==c&&(m=i-c,f=d>.5?m/(2-i-c):m/(i+c),u=oP(t,r,a,m,i),u=u*60+.5),[u|0,f||0,d]}function ly(s,e,t,r){return(Array.isArray(e)?s(e[0],e[1],e[2]):s(e,t,r)).map(Tc)}function cy(s,e,t){return ly(F4,s,e,t)}function lP(s,e,t){return ly(iP,s,e,t)}function cP(s,e,t){return ly(aP,s,e,t)}function B4(s){return(s%360+360)%360}function dP(s){const e=nP.exec(s);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Qh(+e[5]):Tc(+e[5]));const a=B4(+e[2]),i=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?r=lP(a,i,c):e[1]==="hsv"?r=cP(a,i,c):r=cy(a,i,c),{r:r[0],g:r[1],b:r[2],a:t}}function uP(s,e){var t=oy(s);t[0]=B4(t[0]+e),t=cy(t),s.r=t[0],s.g=t[1],s.b=t[2]}function hP(s){if(!s)return;const e=oy(s),t=e[0],r=q5(e[1]),a=q5(e[2]);return s.a<255?`hsla(${t}, ${r}%, ${a}%, ${Nl(s.a)})`:`hsl(${t}, ${r}%, ${a}%)`}const H5={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},W5={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function fP(){const s={},e=Object.keys(W5),t=Object.keys(H5);let r,a,i,c,d;for(r=0;r<e.length;r++){for(c=d=e[r],a=0;a<t.length;a++)i=t[a],d=d.replace(i,H5[i]);i=parseInt(W5[c],16),s[d]=[i>>16&255,i>>8&255,i&255]}return s}let u0;function mP(s){u0||(u0=fP(),u0.transparent=[0,0,0,0]);const e=u0[s.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const pP=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function gP(s){const e=pP.exec(s);let t=255,r,a,i;if(e){if(e[7]!==r){const c=+e[7];t=e[8]?Qh(c):Ec(c*255,0,255)}return r=+e[1],a=+e[3],i=+e[5],r=255&(e[2]?Qh(r):Ec(r,0,255)),a=255&(e[4]?Qh(a):Ec(a,0,255)),i=255&(e[6]?Qh(i):Ec(i,0,255)),{r,g:a,b:i,a:t}}}function xP(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${Nl(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Ex=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,wu=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function yP(s,e,t){const r=wu(Nl(s.r)),a=wu(Nl(s.g)),i=wu(Nl(s.b));return{r:Tc(Ex(r+t*(wu(Nl(e.r))-r))),g:Tc(Ex(a+t*(wu(Nl(e.g))-a))),b:Tc(Ex(i+t*(wu(Nl(e.b))-i))),a:s.a+t*(e.a-s.a)}}function h0(s,e,t){if(s){let r=oy(s);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=cy(r),s.r=r[0],s.g=r[1],s.b=r[2]}}function z4(s,e){return s&&Object.assign(e||{},s)}function V5(s){var e={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(e={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(e.a=Tc(s[3]))):(e=z4(s,{r:0,g:0,b:0,a:1}),e.a=Tc(e.a)),e}function bP(s){return s.charAt(0)==="r"?gP(s):dP(s)}class _f{constructor(e){if(e instanceof _f)return e;const t=typeof e;let r;t==="object"?r=V5(e):t==="string"&&(r=tP(e)||mP(e)||bP(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=z4(this._rgb);return e&&(e.a=Nl(e.a)),e}set rgb(e){this._rgb=V5(e)}rgbString(){return this._valid?xP(this._rgb):void 0}hexString(){return this._valid?rP(this._rgb):void 0}hslString(){return this._valid?hP(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,a=e.rgb;let i;const c=t===i?.5:t,d=2*c-1,u=r.a-a.a,f=((d*u===-1?d:(d+u)/(1+d*u))+1)/2;i=1-f,r.r=255&f*r.r+i*a.r+.5,r.g=255&f*r.g+i*a.g+.5,r.b=255&f*r.b+i*a.b+.5,r.a=c*r.a+(1-c)*a.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=yP(this._rgb,e._rgb,t)),this}clone(){return new _f(this.rgb)}alpha(e){return this._rgb.a=Tc(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Hf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return h0(this._rgb,2,e),this}darken(e){return h0(this._rgb,2,-e),this}saturate(e){return h0(this._rgb,1,e),this}desaturate(e){return h0(this._rgb,1,-e),this}rotate(e){return uP(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function yl(){}const vP=(()=>{let s=0;return()=>s++})();function qs(s){return s==null}function Zr(s){if(Array.isArray&&Array.isArray(s))return!0;const e=Object.prototype.toString.call(s);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ss(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Zn(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function To(s,e){return Zn(s)?s:e}function us(s,e){return typeof s>"u"?e:s}const wP=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100:+s/e,U4=(s,e)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*e:+s;function or(s,e,t){if(s&&typeof s.call=="function")return s.apply(t,e)}function Gs(s,e,t,r){let a,i,c;if(Zr(s))for(i=s.length,a=0;a<i;a++)e.call(t,s[a],a);else if(Ss(s))for(c=Object.keys(s),i=c.length,a=0;a<i;a++)e.call(t,s[c[a]],c[a])}function J0(s,e){let t,r,a,i;if(!s||!e||s.length!==e.length)return!1;for(t=0,r=s.length;t<r;++t)if(a=s[t],i=e[t],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Z0(s){if(Zr(s))return s.map(Z0);if(Ss(s)){const e=Object.create(null),t=Object.keys(s),r=t.length;let a=0;for(;a<r;++a)e[t[a]]=Z0(s[t[a]]);return e}return s}function q4(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function jP(s,e,t,r){if(!q4(s))return;const a=e[s],i=t[s];Ss(a)&&Ss(i)?kf(a,i,r):e[s]=Z0(i)}function kf(s,e,t){const r=Zr(e)?e:[e],a=r.length;if(!Ss(s))return s;t=t||{};const i=t.merger||jP;let c;for(let d=0;d<a;++d){if(c=r[d],!Ss(c))continue;const u=Object.keys(c);for(let f=0,m=u.length;f<m;++f)i(u[f],s,c,t)}return s}function uf(s,e){return kf(s,e,{merger:NP})}function NP(s,e,t){if(!q4(s))return;const r=e[s],a=t[s];Ss(r)&&Ss(a)?uf(r,a):Object.prototype.hasOwnProperty.call(e,s)||(e[s]=Z0(a))}const $5={"":s=>s,x:s=>s.x,y:s=>s.y};function SP(s){const e=s.split("."),t=[];let r="";for(const a of e)r+=a,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function _P(s){const e=SP(s);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Td(s,e){return($5[e]||($5[e]=_P(e)))(s)}function dy(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Af=s=>typeof s<"u",Dc=s=>typeof s=="function",G5=(s,e)=>{if(s.size!==e.size)return!1;for(const t of s)if(!e.has(t))return!1;return!0};function kP(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Ks=Math.PI,_r=2*Ks,AP=_r+Ks,Q0=Number.POSITIVE_INFINITY,CP=Ks/180,un=Ks/2,dd=Ks/4,Y5=Ks*2/3,H4=Math.log10,Bo=Math.sign;function hf(s,e,t){return Math.abs(s-e)<t}function K5(s){const e=Math.round(s);s=hf(s,e,s/1e3)?e:s;const t=Math.pow(10,Math.floor(H4(s))),r=s/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function LP(s){const e=[],t=Math.sqrt(s);let r;for(r=1;r<t;r++)s%r===0&&(e.push(r),e.push(s/r));return t===(t|0)&&e.push(t),e.sort((a,i)=>a-i).pop(),e}function EP(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function Cf(s){return!EP(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function PP(s,e){const t=Math.round(s);return t-e<=s&&t+e>=s}function TP(s,e,t){let r,a,i;for(r=0,a=s.length;r<a;r++)i=s[r][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function kl(s){return s*(Ks/180)}function MP(s){return s*(180/Ks)}function X5(s){if(!Zn(s))return;let e=1,t=0;for(;Math.round(s*e)/e!==s;)e*=10,t++;return t}function W4(s,e){const t=e.x-s.x,r=e.y-s.y,a=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i<-.5*Ks&&(i+=_r),{angle:i,distance:a}}function k1(s,e){return Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))}function RP(s,e){return(s-e+AP)%_r-Ks}function Ha(s){return(s%_r+_r)%_r}function Lf(s,e,t,r){const a=Ha(s),i=Ha(e),c=Ha(t),d=Ha(i-a),u=Ha(c-a),f=Ha(a-i),m=Ha(a-c);return a===i||a===c||r&&i===c||d>u&&f<m}function Xn(s,e,t){return Math.max(e,Math.min(t,s))}function OP(s){return Xn(s,-32768,32767)}function Al(s,e,t,r=1e-6){return s>=Math.min(e,t)-r&&s<=Math.max(e,t)+r}function uy(s,e,t){t=t||(c=>s[c]<e);let r=s.length-1,a=0,i;for(;r-a>1;)i=a+r>>1,t(i)?a=i:r=i;return{lo:a,hi:r}}const jd=(s,e,t,r)=>uy(s,t,r?a=>{const i=s[a][e];return i<t||i===t&&s[a+1][e]===t}:a=>s[a][e]<t),DP=(s,e,t)=>uy(s,t,r=>s[r][e]>=t);function IP(s,e,t){let r=0,a=s.length;for(;r<a&&s[r]<e;)r++;for(;a>r&&s[a-1]>t;)a--;return r>0||a<s.length?s.slice(r,a):s}const V4=["push","pop","shift","splice","unshift"];function FP(s,e){if(s._chartjs){s._chartjs.listeners.push(e);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),V4.forEach(t=>{const r="_onData"+dy(t),a=s[t];Object.defineProperty(s,t,{configurable:!0,enumerable:!1,value(...i){const c=a.apply(this,i);return s._chartjs.listeners.forEach(d=>{typeof d[r]=="function"&&d[r](...i)}),c}})})}function J5(s,e){const t=s._chartjs;if(!t)return;const r=t.listeners,a=r.indexOf(e);a!==-1&&r.splice(a,1),!(r.length>0)&&(V4.forEach(i=>{delete s[i]}),delete s._chartjs)}function $4(s){const e=new Set(s);return e.size===s.length?s:Array.from(e)}const G4=function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame}();function Y4(s,e){let t=[],r=!1;return function(...a){t=a,r||(r=!0,G4.call(window,()=>{r=!1,s.apply(e,t)}))}}function BP(s,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(s,e,r)):s.apply(this,r),e}}const hy=s=>s==="start"?"left":s==="end"?"right":"center",Gn=(s,e,t)=>s==="start"?e:s==="end"?t:(e+t)/2,zP=(s,e,t,r)=>s===(r?"left":"right")?t:s==="center"?(e+t)/2:e;function UP(s,e,t){const r=e.length;let a=0,i=r;if(s._sorted){const{iScale:c,vScale:d,_parsed:u}=s,f=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null,m=c.axis,{min:b,max:y,minDefined:x,maxDefined:j}=c.getUserBounds();if(x){if(a=Math.min(jd(u,m,b).lo,t?r:jd(e,m,c.getPixelForValue(b)).lo),f){const S=u.slice(0,a+1).reverse().findIndex(A=>!qs(A[d.axis]));a-=Math.max(0,S)}a=Xn(a,0,r-1)}if(j){let S=Math.max(jd(u,c.axis,y,!0).hi+1,t?0:jd(e,m,c.getPixelForValue(y),!0).hi+1);if(f){const A=u.slice(S-1).findIndex(k=>!qs(k[d.axis]));S+=Math.max(0,A)}i=Xn(S,a,r)-a}else i=r-a}return{start:a,count:i}}function qP(s){const{xScale:e,yScale:t,_scaleRanges:r}=s,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return s._scaleRanges=a,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,a),i}const f0=s=>s===0||s===1,Z5=(s,e,t)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-e)*_r/t)),Q5=(s,e,t)=>Math.pow(2,-10*s)*Math.sin((s-e)*_r/t)+1,ff={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*un)+1,easeOutSine:s=>Math.sin(s*un),easeInOutSine:s=>-.5*(Math.cos(Ks*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>f0(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>f0(s)?s:Z5(s,.075,.3),easeOutElastic:s=>f0(s)?s:Q5(s,.075,.3),easeInOutElastic(s){return f0(s)?s:s<.5?.5*Z5(s*2,.1125,.45):.5+.5*Q5(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let e=1.70158;return(s/=.5)<1?.5*(s*s*(((e*=1.525)+1)*s-e)):.5*((s-=2)*s*(((e*=1.525)+1)*s+e)+2)},easeInBounce:s=>1-ff.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?ff.easeInBounce(s*2)*.5:ff.easeOutBounce(s*2-1)*.5+.5};function fy(s){if(s&&typeof s=="object"){const e=s.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ew(s){return fy(s)?s:new _f(s)}function Px(s){return fy(s)?s:new _f(s).saturate(.5).darken(.1).hexString()}const HP=["x","y","borderWidth","radius","tension"],WP=["color","borderColor","backgroundColor"];function VP(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),s.set("animations",{colors:{type:"color",properties:WP},numbers:{type:"number",properties:HP}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function $P(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tw=new Map;function GP(s,e){e=e||{};const t=s+JSON.stringify(e);let r=tw.get(t);return r||(r=new Intl.NumberFormat(s,e),tw.set(t,r)),r}function my(s,e,t){return GP(e,t).format(s)}const YP={values(s){return Zr(s)?s:""+s},numeric(s,e,t){if(s===0)return"0";const r=this.chart.options.locale;let a,i=s;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),i=KP(s,t)}const c=H4(Math.abs(i)),d=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),u={notation:a,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(u,this.options.ticks.format),my(s,r,u)}};function KP(s,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&s!==Math.floor(s)&&(t=s-Math.floor(s)),t}var K4={formatters:YP};function XP(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:K4.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Md=Object.create(null),A1=Object.create(null);function mf(s,e){if(!e)return s;const t=e.split(".");for(let r=0,a=t.length;r<a;++r){const i=t[r];s=s[i]||(s[i]=Object.create(null))}return s}function Tx(s,e,t){return typeof e=="string"?kf(mf(s,e),t):kf(mf(s,""),e)}class JP{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,a)=>Px(a.backgroundColor),this.hoverBorderColor=(r,a)=>Px(a.borderColor),this.hoverColor=(r,a)=>Px(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Tx(this,e,t)}get(e){return mf(this,e)}describe(e,t){return Tx(A1,e,t)}override(e,t){return Tx(Md,e,t)}route(e,t,r,a){const i=mf(this,e),c=mf(this,r),d="_"+t;Object.defineProperties(i,{[d]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[d],f=c[a];return Ss(u)?Object.assign({},f,u):us(u,f)},set(u){this[d]=u}}})}apply(e){e.forEach(t=>t(this))}}var Vr=new JP({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[VP,$P,XP]);function ZP(s){return!s||qs(s.size)||qs(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function sw(s,e,t,r,a){let i=e[a];return i||(i=e[a]=s.measureText(a).width,t.push(a)),i>r&&(r=i),r}function ud(s,e,t){const r=s.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*r)/r+a}function rw(s,e){!e&&!s||(e=e||s.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,s.width,s.height),e.restore())}function C1(s,e,t,r){X4(s,e,t,r,null)}function X4(s,e,t,r,a){let i,c,d,u,f,m,b,y;const x=e.pointStyle,j=e.rotation,S=e.radius;let A=(j||0)*CP;if(x&&typeof x=="object"&&(i=x.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){s.save(),s.translate(t,r),s.rotate(A),s.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),s.restore();return}if(!(isNaN(S)||S<=0)){switch(s.beginPath(),x){default:a?s.ellipse(t,r,a/2,S,0,0,_r):s.arc(t,r,S,0,_r),s.closePath();break;case"triangle":m=a?a/2:S,s.moveTo(t+Math.sin(A)*m,r-Math.cos(A)*S),A+=Y5,s.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*S),A+=Y5,s.lineTo(t+Math.sin(A)*m,r-Math.cos(A)*S),s.closePath();break;case"rectRounded":f=S*.516,u=S-f,c=Math.cos(A+dd)*u,b=Math.cos(A+dd)*(a?a/2-f:u),d=Math.sin(A+dd)*u,y=Math.sin(A+dd)*(a?a/2-f:u),s.arc(t-b,r-d,f,A-Ks,A-un),s.arc(t+y,r-c,f,A-un,A),s.arc(t+b,r+d,f,A,A+un),s.arc(t-y,r+c,f,A+un,A+Ks),s.closePath();break;case"rect":if(!j){u=Math.SQRT1_2*S,m=a?a/2:u,s.rect(t-m,r-u,2*m,2*u);break}A+=dd;case"rectRot":b=Math.cos(A)*(a?a/2:S),c=Math.cos(A)*S,d=Math.sin(A)*S,y=Math.sin(A)*(a?a/2:S),s.moveTo(t-b,r-d),s.lineTo(t+y,r-c),s.lineTo(t+b,r+d),s.lineTo(t-y,r+c),s.closePath();break;case"crossRot":A+=dd;case"cross":b=Math.cos(A)*(a?a/2:S),c=Math.cos(A)*S,d=Math.sin(A)*S,y=Math.sin(A)*(a?a/2:S),s.moveTo(t-b,r-d),s.lineTo(t+b,r+d),s.moveTo(t+y,r-c),s.lineTo(t-y,r+c);break;case"star":b=Math.cos(A)*(a?a/2:S),c=Math.cos(A)*S,d=Math.sin(A)*S,y=Math.sin(A)*(a?a/2:S),s.moveTo(t-b,r-d),s.lineTo(t+b,r+d),s.moveTo(t+y,r-c),s.lineTo(t-y,r+c),A+=dd,b=Math.cos(A)*(a?a/2:S),c=Math.cos(A)*S,d=Math.sin(A)*S,y=Math.sin(A)*(a?a/2:S),s.moveTo(t-b,r-d),s.lineTo(t+b,r+d),s.moveTo(t+y,r-c),s.lineTo(t-y,r+c);break;case"line":c=a?a/2:Math.cos(A)*S,d=Math.sin(A)*S,s.moveTo(t-c,r-d),s.lineTo(t+c,r+d);break;case"dash":s.moveTo(t,r),s.lineTo(t+Math.cos(A)*(a?a/2:S),r+Math.sin(A)*S);break;case!1:s.closePath();break}s.fill(),e.borderWidth>0&&s.stroke()}}function Ef(s,e,t){return t=t||.5,!e||s&&s.x>e.left-t&&s.x<e.right+t&&s.y>e.top-t&&s.y<e.bottom+t}function vp(s,e){s.save(),s.beginPath(),s.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),s.clip()}function wp(s){s.restore()}function QP(s,e,t,r,a){if(!e)return s.lineTo(t.x,t.y);if(a==="middle"){const i=(e.x+t.x)/2;s.lineTo(i,e.y),s.lineTo(i,t.y)}else a==="after"!=!!r?s.lineTo(e.x,t.y):s.lineTo(t.x,e.y);s.lineTo(t.x,t.y)}function eT(s,e,t,r){if(!e)return s.lineTo(t.x,t.y);s.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function tT(s,e){e.translation&&s.translate(e.translation[0],e.translation[1]),qs(e.rotation)||s.rotate(e.rotation),e.color&&(s.fillStyle=e.color),e.textAlign&&(s.textAlign=e.textAlign),e.textBaseline&&(s.textBaseline=e.textBaseline)}function sT(s,e,t,r,a){if(a.strikethrough||a.underline){const i=s.measureText(r),c=e-i.actualBoundingBoxLeft,d=e+i.actualBoundingBoxRight,u=t-i.actualBoundingBoxAscent,f=t+i.actualBoundingBoxDescent,m=a.strikethrough?(u+f)/2:f;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=a.decorationWidth||2,s.moveTo(c,m),s.lineTo(d,m),s.stroke()}}function rT(s,e){const t=s.fillStyle;s.fillStyle=e.color,s.fillRect(e.left,e.top,e.width,e.height),s.fillStyle=t}function Pf(s,e,t,r,a,i={}){const c=Zr(e)?e:[e],d=i.strokeWidth>0&&i.strokeColor!=="";let u,f;for(s.save(),s.font=a.string,tT(s,i),u=0;u<c.length;++u)f=c[u],i.backdrop&&rT(s,i.backdrop),d&&(i.strokeColor&&(s.strokeStyle=i.strokeColor),qs(i.strokeWidth)||(s.lineWidth=i.strokeWidth),s.strokeText(f,t,r,i.maxWidth)),s.fillText(f,t,r,i.maxWidth),sT(s,t,r,f,i),r+=Number(a.lineHeight);s.restore()}function ep(s,e){const{x:t,y:r,w:a,h:i,radius:c}=e;s.arc(t+c.topLeft,r+c.topLeft,c.topLeft,1.5*Ks,Ks,!0),s.lineTo(t,r+i-c.bottomLeft),s.arc(t+c.bottomLeft,r+i-c.bottomLeft,c.bottomLeft,Ks,un,!0),s.lineTo(t+a-c.bottomRight,r+i),s.arc(t+a-c.bottomRight,r+i-c.bottomRight,c.bottomRight,un,0,!0),s.lineTo(t+a,r+c.topRight),s.arc(t+a-c.topRight,r+c.topRight,c.topRight,0,-un,!0),s.lineTo(t+c.topLeft,r)}const nT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,aT=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function iT(s,e){const t=(""+s).match(nT);if(!t||t[1]==="normal")return e*1.2;switch(s=+t[2],t[3]){case"px":return s;case"%":s/=100;break}return e*s}const oT=s=>+s||0;function py(s,e){const t={},r=Ss(e),a=r?Object.keys(e):e,i=Ss(s)?r?c=>us(s[c],s[e[c]]):c=>s[c]:()=>s;for(const c of a)t[c]=oT(i(c));return t}function J4(s){return py(s,{top:"y",right:"x",bottom:"y",left:"x"})}function Mu(s){return py(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Ci(s){const e=J4(s);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Jn(s,e){s=s||{},e=e||Vr.font;let t=us(s.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=us(s.style,e.style);r&&!(""+r).match(aT)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const a={family:us(s.family,e.family),lineHeight:iT(us(s.lineHeight,e.lineHeight),t),size:t,style:r,weight:us(s.weight,e.weight),string:""};return a.string=ZP(a),a}function m0(s,e,t,r){let a,i,c;for(a=0,i=s.length;a<i;++a)if(c=s[a],c!==void 0&&c!==void 0)return c}function lT(s,e,t){const{min:r,max:a}=s,i=U4(e,(a-r)/2),c=(d,u)=>t&&d===0?0:d+u;return{min:c(r,-Math.abs(i)),max:c(a,i)}}function Id(s,e){return Object.assign(Object.create(s),e)}function gy(s,e=[""],t,r,a=()=>s[0]){const i=t||s;typeof r>"u"&&(r=t3("_fallback",s));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:i,_fallback:r,_getTarget:a,override:d=>gy([d,...s],e,i,r)};return new Proxy(c,{deleteProperty(d,u){return delete d[u],delete d._keys,delete s[0][u],!0},get(d,u){return Q4(d,u,()=>gT(u,e,s,d))},getOwnPropertyDescriptor(d,u){return Reflect.getOwnPropertyDescriptor(d._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(d,u){return aw(d).includes(u)},ownKeys(d){return aw(d)},set(d,u,f){const m=d._storage||(d._storage=a());return d[u]=m[u]=f,delete d._keys,!0}})}function Fu(s,e,t,r){const a={_cacheable:!1,_proxy:s,_context:e,_subProxy:t,_stack:new Set,_descriptors:Z4(s,r),setContext:i=>Fu(s,i,t,r),override:i=>Fu(s.override(i),e,t,r)};return new Proxy(a,{deleteProperty(i,c){return delete i[c],delete s[c],!0},get(i,c,d){return Q4(i,c,()=>dT(i,c,d))},getOwnPropertyDescriptor(i,c){return i._descriptors.allKeys?Reflect.has(s,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,c)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(i,c){return Reflect.has(s,c)},ownKeys(){return Reflect.ownKeys(s)},set(i,c,d){return s[c]=d,delete i[c],!0}})}function Z4(s,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:a=e.allKeys}=s;return{allKeys:a,scriptable:t,indexable:r,isScriptable:Dc(t)?t:()=>t,isIndexable:Dc(r)?r:()=>r}}const cT=(s,e)=>s?s+dy(e):e,xy=(s,e)=>Ss(e)&&s!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Q4(s,e,t){if(Object.prototype.hasOwnProperty.call(s,e)||e==="constructor")return s[e];const r=t();return s[e]=r,r}function dT(s,e,t){const{_proxy:r,_context:a,_subProxy:i,_descriptors:c}=s;let d=r[e];return Dc(d)&&c.isScriptable(e)&&(d=uT(e,d,s,t)),Zr(d)&&d.length&&(d=hT(e,d,s,c.isIndexable)),xy(e,d)&&(d=Fu(d,a,i&&i[e],c)),d}function uT(s,e,t,r){const{_proxy:a,_context:i,_subProxy:c,_stack:d}=t;if(d.has(s))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+s);d.add(s);let u=e(i,c||r);return d.delete(s),xy(s,u)&&(u=yy(a._scopes,a,s,u)),u}function hT(s,e,t,r){const{_proxy:a,_context:i,_subProxy:c,_descriptors:d}=t;if(typeof i.index<"u"&&r(s))return e[i.index%e.length];if(Ss(e[0])){const u=e,f=a._scopes.filter(m=>m!==u);e=[];for(const m of u){const b=yy(f,a,s,m);e.push(Fu(b,i,c&&c[s],d))}}return e}function e3(s,e,t){return Dc(s)?s(e,t):s}const fT=(s,e)=>s===!0?e:typeof s=="string"?Td(e,s):void 0;function mT(s,e,t,r,a){for(const i of e){const c=fT(t,i);if(c){s.add(c);const d=e3(c._fallback,t,a);if(typeof d<"u"&&d!==t&&d!==r)return d}else if(c===!1&&typeof r<"u"&&t!==r)return null}return!1}function yy(s,e,t,r){const a=e._rootScopes,i=e3(e._fallback,t,r),c=[...s,...a],d=new Set;d.add(r);let u=nw(d,c,t,i||t,r);return u===null||typeof i<"u"&&i!==t&&(u=nw(d,c,i,u,r),u===null)?!1:gy(Array.from(d),[""],a,i,()=>pT(e,t,r))}function nw(s,e,t,r,a){for(;t;)t=mT(s,e,t,r,a);return t}function pT(s,e,t){const r=s._getTarget();e in r||(r[e]={});const a=r[e];return Zr(a)&&Ss(t)?t:a||{}}function gT(s,e,t,r){let a;for(const i of e)if(a=t3(cT(i,s),t),typeof a<"u")return xy(s,a)?yy(t,r,s,a):a}function t3(s,e){for(const t of e){if(!t)continue;const r=t[s];if(typeof r<"u")return r}}function aw(s){let e=s._keys;return e||(e=s._keys=xT(s._scopes)),e}function xT(s){const e=new Set;for(const t of s)for(const r of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(r);return Array.from(e)}const yT=Number.EPSILON||1e-14,Bu=(s,e)=>e<s.length&&!s[e].skip&&s[e],s3=s=>s==="x"?"y":"x";function bT(s,e,t,r){const a=s.skip?e:s,i=e,c=t.skip?e:t,d=k1(i,a),u=k1(c,i);let f=d/(d+u),m=u/(d+u);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const b=r*f,y=r*m;return{previous:{x:i.x-b*(c.x-a.x),y:i.y-b*(c.y-a.y)},next:{x:i.x+y*(c.x-a.x),y:i.y+y*(c.y-a.y)}}}function vT(s,e,t){const r=s.length;let a,i,c,d,u,f=Bu(s,0);for(let m=0;m<r-1;++m)if(u=f,f=Bu(s,m+1),!(!u||!f)){if(hf(e[m],0,yT)){t[m]=t[m+1]=0;continue}a=t[m]/e[m],i=t[m+1]/e[m],d=Math.pow(a,2)+Math.pow(i,2),!(d<=9)&&(c=3/Math.sqrt(d),t[m]=a*c*e[m],t[m+1]=i*c*e[m])}}function wT(s,e,t="x"){const r=s3(t),a=s.length;let i,c,d,u=Bu(s,0);for(let f=0;f<a;++f){if(c=d,d=u,u=Bu(s,f+1),!d)continue;const m=d[t],b=d[r];c&&(i=(m-c[t])/3,d[`cp1${t}`]=m-i,d[`cp1${r}`]=b-i*e[f]),u&&(i=(u[t]-m)/3,d[`cp2${t}`]=m+i,d[`cp2${r}`]=b+i*e[f])}}function jT(s,e="x"){const t=s3(e),r=s.length,a=Array(r).fill(0),i=Array(r);let c,d,u,f=Bu(s,0);for(c=0;c<r;++c)if(d=u,u=f,f=Bu(s,c+1),!!u){if(f){const m=f[e]-u[e];a[c]=m!==0?(f[t]-u[t])/m:0}i[c]=d?f?Bo(a[c-1])!==Bo(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}vT(s,a,i),wT(s,i,e)}function p0(s,e,t){return Math.max(Math.min(s,t),e)}function NT(s,e){let t,r,a,i,c,d=Ef(s[0],e);for(t=0,r=s.length;t<r;++t)c=i,i=d,d=t<r-1&&Ef(s[t+1],e),i&&(a=s[t],c&&(a.cp1x=p0(a.cp1x,e.left,e.right),a.cp1y=p0(a.cp1y,e.top,e.bottom)),d&&(a.cp2x=p0(a.cp2x,e.left,e.right),a.cp2y=p0(a.cp2y,e.top,e.bottom)))}function ST(s,e,t,r,a){let i,c,d,u;if(e.spanGaps&&(s=s.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")jT(s,a);else{let f=r?s[s.length-1]:s[0];for(i=0,c=s.length;i<c;++i)d=s[i],u=bT(f,d,s[Math.min(i+1,c-(r?0:1))%c],e.tension),d.cp1x=u.previous.x,d.cp1y=u.previous.y,d.cp2x=u.next.x,d.cp2y=u.next.y,f=d}e.capBezierPoints&&NT(s,t)}function by(){return typeof window<"u"&&typeof document<"u"}function vy(s){let e=s.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function tp(s,e,t){let r;return typeof s=="string"?(r=parseInt(s,10),s.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=s,r}const jp=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function _T(s,e){return jp(s).getPropertyValue(e)}const kT=["top","right","bottom","left"];function Ad(s,e,t){const r={};t=t?"-"+t:"";for(let a=0;a<4;a++){const i=kT[a];r[i]=parseFloat(s[e+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const AT=(s,e,t)=>(s>0||e>0)&&(!t||!t.shadowRoot);function CT(s,e){const t=s.touches,r=t&&t.length?t[0]:s,{offsetX:a,offsetY:i}=r;let c=!1,d,u;if(AT(a,i,s.target))d=a,u=i;else{const f=e.getBoundingClientRect();d=r.clientX-f.left,u=r.clientY-f.top,c=!0}return{x:d,y:u,box:c}}function xd(s,e){if("native"in s)return s;const{canvas:t,currentDevicePixelRatio:r}=e,a=jp(t),i=a.boxSizing==="border-box",c=Ad(a,"padding"),d=Ad(a,"border","width"),{x:u,y:f,box:m}=CT(s,t),b=c.left+(m&&d.left),y=c.top+(m&&d.top);let{width:x,height:j}=e;return i&&(x-=c.width+d.width,j-=c.height+d.height),{x:Math.round((u-b)/x*t.width/r),y:Math.round((f-y)/j*t.height/r)}}function LT(s,e,t){let r,a;if(e===void 0||t===void 0){const i=s&&vy(s);if(!i)e=s.clientWidth,t=s.clientHeight;else{const c=i.getBoundingClientRect(),d=jp(i),u=Ad(d,"border","width"),f=Ad(d,"padding");e=c.width-f.width-u.width,t=c.height-f.height-u.height,r=tp(d.maxWidth,i,"clientWidth"),a=tp(d.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:r||Q0,maxHeight:a||Q0}}const g0=s=>Math.round(s*10)/10;function ET(s,e,t,r){const a=jp(s),i=Ad(a,"margin"),c=tp(a.maxWidth,s,"clientWidth")||Q0,d=tp(a.maxHeight,s,"clientHeight")||Q0,u=LT(s,e,t);let{width:f,height:m}=u;if(a.boxSizing==="content-box"){const y=Ad(a,"border","width"),x=Ad(a,"padding");f-=x.width+y.width,m-=x.height+y.height}return f=Math.max(0,f-i.width),m=Math.max(0,r?f/r:m-i.height),f=g0(Math.min(f,c,u.maxWidth)),m=g0(Math.min(m,d,u.maxHeight)),f&&!m&&(m=g0(f/2)),(e!==void 0||t!==void 0)&&r&&u.height&&m>u.height&&(m=u.height,f=g0(Math.floor(m*r))),{width:f,height:m}}function iw(s,e,t){const r=e||1,a=Math.floor(s.height*r),i=Math.floor(s.width*r);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const c=s.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${s.height}px`,c.style.width=`${s.width}px`),s.currentDevicePixelRatio!==r||c.height!==a||c.width!==i?(s.currentDevicePixelRatio=r,c.height=a,c.width=i,s.ctx.setTransform(r,0,0,r,0,0),!0):!1}const PT=function(){let s=!1;try{const e={get passive(){return s=!0,!1}};by()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return s}();function ow(s,e){const t=_T(s,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function yd(s,e,t,r){return{x:s.x+t*(e.x-s.x),y:s.y+t*(e.y-s.y)}}function TT(s,e,t,r){return{x:s.x+t*(e.x-s.x),y:r==="middle"?t<.5?s.y:e.y:r==="after"?t<1?s.y:e.y:t>0?e.y:s.y}}function MT(s,e,t,r){const a={x:s.cp2x,y:s.cp2y},i={x:e.cp1x,y:e.cp1y},c=yd(s,a,t),d=yd(a,i,t),u=yd(i,e,t),f=yd(c,d,t),m=yd(d,u,t);return yd(f,m,t)}const RT=function(s,e){return{x(t){return s+s+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},OT=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,e){return s+e},leftForLtr(s,e){return s}}};function Ru(s,e,t){return s?RT(e,t):OT()}function r3(s,e){let t,r;(e==="ltr"||e==="rtl")&&(t=s.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),s.prevTextDirection=r)}function n3(s,e){e!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",e[0],e[1]))}function a3(s){return s==="angle"?{between:Lf,compare:RP,normalize:Ha}:{between:Al,compare:(e,t)=>e-t,normalize:e=>e}}function lw({start:s,end:e,count:t,loop:r,style:a}){return{start:s%t,end:e%t,loop:r&&(e-s+1)%t===0,style:a}}function DT(s,e,t){const{property:r,start:a,end:i}=t,{between:c,normalize:d}=a3(r),u=e.length;let{start:f,end:m,loop:b}=s,y,x;if(b){for(f+=u,m+=u,y=0,x=u;y<x&&c(d(e[f%u][r]),a,i);++y)f--,m--;f%=u,m%=u}return m<f&&(m+=u),{start:f,end:m,loop:b,style:s.style}}function i3(s,e,t){if(!t)return[s];const{property:r,start:a,end:i}=t,c=e.length,{compare:d,between:u,normalize:f}=a3(r),{start:m,end:b,loop:y,style:x}=DT(s,e,t),j=[];let S=!1,A=null,k,P,M;const F=()=>u(a,M,k)&&d(a,M)!==0,B=()=>d(i,k)===0||u(i,M,k),ae=()=>S||F(),Y=()=>!S||B();for(let E=m,I=m;E<=b;++E)P=e[E%c],!P.skip&&(k=f(P[r]),k!==M&&(S=u(k,a,i),A===null&&ae()&&(A=d(k,a)===0?E:I),A!==null&&Y()&&(j.push(lw({start:A,end:E,loop:y,count:c,style:x})),A=null),I=E,M=k));return A!==null&&j.push(lw({start:A,end:b,loop:y,count:c,style:x})),j}function o3(s,e){const t=[],r=s.segments;for(let a=0;a<r.length;a++){const i=i3(r[a],s.points,e);i.length&&t.push(...i)}return t}function IT(s,e,t,r){let a=0,i=e-1;if(t&&!r)for(;a<e&&!s[a].skip;)a++;for(;a<e&&s[a].skip;)a++;for(a%=e,t&&(i+=a);i>a&&s[i%e].skip;)i--;return i%=e,{start:a,end:i}}function FT(s,e,t,r){const a=s.length,i=[];let c=e,d=s[e],u;for(u=e+1;u<=t;++u){const f=s[u%a];f.skip||f.stop?d.skip||(r=!1,i.push({start:e%a,end:(u-1)%a,loop:r}),e=c=f.stop?u:null):(c=u,d.skip&&(e=u)),d=f}return c!==null&&i.push({start:e%a,end:c%a,loop:r}),i}function BT(s,e){const t=s.points,r=s.options.spanGaps,a=t.length;if(!a)return[];const i=!!s._loop,{start:c,end:d}=IT(t,a,i,r);if(r===!0)return cw(s,[{start:c,end:d,loop:i}],t,e);const u=d<c?d+a:d,f=!!s._fullLoop&&c===0&&d===a-1;return cw(s,FT(t,c,u,f),t,e)}function cw(s,e,t,r){return!r||!r.setContext||!t?e:zT(s,e,t,r)}function zT(s,e,t,r){const a=s._chart.getContext(),i=dw(s.options),{_datasetIndex:c,options:{spanGaps:d}}=s,u=t.length,f=[];let m=i,b=e[0].start,y=b;function x(j,S,A,k){const P=d?-1:1;if(j!==S){for(j+=u;t[j%u].skip;)j-=P;for(;t[S%u].skip;)S+=P;j%u!==S%u&&(f.push({start:j%u,end:S%u,loop:A,style:k}),m=k,b=S%u)}}for(const j of e){b=d?b:j.start;let S=t[b%u],A;for(y=b+1;y<=j.end;y++){const k=t[y%u];A=dw(r.setContext(Id(a,{type:"segment",p0:S,p1:k,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:c}))),UT(A,m)&&x(b,y-1,j.loop,m),S=k,m=A}b<y-1&&x(b,y-1,j.loop,m)}return f}function dw(s){return{backgroundColor:s.backgroundColor,borderCapStyle:s.borderCapStyle,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderJoinStyle:s.borderJoinStyle,borderWidth:s.borderWidth,borderColor:s.borderColor}}function UT(s,e){if(!e)return!1;const t=[],r=function(a,i){return fy(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(s,r)!==JSON.stringify(e,r)}function x0(s,e,t){return s.options.clip?s[t]:e[t]}function qT(s,e){const{xScale:t,yScale:r}=s;return t&&r?{left:x0(t,e,"left"),right:x0(t,e,"right"),top:x0(r,e,"top"),bottom:x0(r,e,"bottom")}:e}function l3(s,e){const t=e._clip;if(t.disabled)return!1;const r=qT(e,s.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?s.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?s.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class HT{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,a){const i=t.listeners[a],c=t.duration;i.forEach(d=>d({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(r-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=G4.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,a)=>{if(!r.running||!r.items.length)return;const i=r.items;let c=i.length-1,d=!1,u;for(;c>=0;--c)u=i[c],u._active?(u._total>r.duration&&(r.duration=u._total),u.tick(e),d=!0):(i[c]=i[i.length-1],i.pop());d&&(a.draw(),this._notify(a,r,e,"progress")),i.length||(r.running=!1,this._notify(a,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,a)=>Math.max(r,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let a=r.length-1;for(;a>=0;--a)r[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vl=new HT;const uw="transparent",WT={boolean(s,e,t){return t>.5?e:s},color(s,e,t){const r=ew(s||uw),a=r.valid&&ew(e||uw);return a&&a.valid?a.mix(r,t).hexString():e},number(s,e,t){return s+(e-s)*t}};class VT{constructor(e,t,r,a){const i=t[r];a=m0([e.to,a,i,e.from]);const c=m0([e.from,i,a]);this._active=!0,this._fn=e.fn||WT[e.type||typeof c],this._easing=ff[e.easing]||ff.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const a=this._target[this._prop],i=r-this._start,c=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=m0([e.to,t,a,e.from]),this._from=m0([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,a=this._prop,i=this._from,c=this._loop,d=this._to;let u;if(this._active=i!==d&&(c||t<r),!this._active){this._target[a]=d,this._notify(!0);return}if(t<0){this._target[a]=i;return}u=t/r%2,u=c&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[a]=this._fn(i,d,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let a=0;a<r.length;a++)r[a][t]()}}class c3{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ss(e))return;const t=Object.keys(Vr.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Ss(i))return;const c={};for(const d of t)c[d]=i[d];(Zr(i.properties)&&i.properties||[a]).forEach(d=>{(d===a||!r.has(d))&&r.set(d,c)})})}_animateOptions(e,t){const r=t.options,a=GT(e,r);if(!a)return[];const i=this._createAnimations(a,r);return r.$shared&&$T(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){const r=this._properties,a=[],i=e.$animations||(e.$animations={}),c=Object.keys(t),d=Date.now();let u;for(u=c.length-1;u>=0;--u){const f=c[u];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(e,t));continue}const m=t[f];let b=i[f];const y=r.get(f);if(b)if(y&&b.active()){b.update(y,m,d);continue}else b.cancel();if(!y||!y.duration){e[f]=m;continue}i[f]=b=new VT(y,e,f,m),a.push(b)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return vl.add(this._chart,r),!0}}function $T(s,e){const t=[],r=Object.keys(e);for(let a=0;a<r.length;a++){const i=s[r[a]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function GT(s,e){if(!e)return;let t=s.options;if(!t){s.options=e;return}return t.$shared&&(s.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function hw(s,e){const t=s&&s.options||{},r=t.reverse,a=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:r?i:a,end:r?a:i}}function YT(s,e,t){if(t===!1)return!1;const r=hw(s,t),a=hw(e,t);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function KT(s){let e,t,r,a;return Ss(s)?(e=s.top,t=s.right,r=s.bottom,a=s.left):e=t=r=a=s,{top:e,right:t,bottom:r,left:a,disabled:s===!1}}function d3(s,e){const t=[],r=s._getSortedDatasetMetas(e);let a,i;for(a=0,i=r.length;a<i;++a)t.push(r[a].index);return t}function fw(s,e,t,r={}){const a=s.keys,i=r.mode==="single";let c,d,u,f;if(e===null)return;let m=!1;for(c=0,d=a.length;c<d;++c){if(u=+a[c],u===t){if(m=!0,r.all)continue;break}f=s.values[u],Zn(f)&&(i||e===0||Bo(e)===Bo(f))&&(e+=f)}return!m&&!r.all?0:e}function XT(s,e){const{iScale:t,vScale:r}=e,a=t.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",c=Object.keys(s),d=new Array(c.length);let u,f,m;for(u=0,f=c.length;u<f;++u)m=c[u],d[u]={[a]:m,[i]:s[m]};return d}function Mx(s,e){const t=s&&s.options.stacked;return t||t===void 0&&e.stack!==void 0}function JT(s,e,t){return`${s.id}.${e.id}.${t.stack||t.type}`}function ZT(s){const{min:e,max:t,minDefined:r,maxDefined:a}=s.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function QT(s,e,t){const r=s[e]||(s[e]={});return r[t]||(r[t]={})}function mw(s,e,t,r){for(const a of e.getMatchingVisibleMetas(r).reverse()){const i=s[a.index];if(t&&i>0||!t&&i<0)return a.index}return null}function pw(s,e){const{chart:t,_cachedMeta:r}=s,a=t._stacks||(t._stacks={}),{iScale:i,vScale:c,index:d}=r,u=i.axis,f=c.axis,m=JT(i,c,r),b=e.length;let y;for(let x=0;x<b;++x){const j=e[x],{[u]:S,[f]:A}=j,k=j._stacks||(j._stacks={});y=k[f]=QT(a,m,S),y[d]=A,y._top=mw(y,c,!0,r.type),y._bottom=mw(y,c,!1,r.type);const P=y._visualValues||(y._visualValues={});P[d]=A}}function Rx(s,e){const t=s.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function eM(s,e){return Id(s,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function tM(s,e,t){return Id(s,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function $h(s,e){const t=s.controller.index,r=s.vScale&&s.vScale.axis;if(r){e=e||s._parsed;for(const a of e){const i=a._stacks;if(!i||i[r]===void 0||i[r][t]===void 0)return;delete i[r][t],i[r]._visualValues!==void 0&&i[r]._visualValues[t]!==void 0&&delete i[r]._visualValues[t]}}}const Ox=s=>s==="reset"||s==="none",gw=(s,e)=>e?s:Object.assign({},s),sM=(s,e,t)=>s&&!e.hidden&&e._stacked&&{keys:d3(t,!0),values:null};class Np{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Mx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&$h(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),a=(b,y,x,j)=>b==="x"?y:b==="r"?j:x,i=t.xAxisID=us(r.xAxisID,Rx(e,"x")),c=t.yAxisID=us(r.yAxisID,Rx(e,"y")),d=t.rAxisID=us(r.rAxisID,Rx(e,"r")),u=t.indexAxis,f=t.iAxisID=a(u,i,c,d),m=t.vAxisID=a(u,c,i,d);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(d),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&J5(this._data,this),e._stacked&&$h(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Ss(t)){const a=this._cachedMeta;this._data=XT(t,a)}else if(r!==t){if(r){J5(r,this);const a=this._cachedMeta;$h(a),a._parsed=[]}t&&Object.isExtensible(t)&&FP(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let a=!1;this._dataCheck();const i=t._stacked;t._stacked=Mx(t.vScale,t),t.stack!==r.stack&&(a=!0,$h(t),t.stack=r.stack),this._resyncElements(e),(a||i!==t._stacked)&&(pw(this,t._parsed),t._stacked=Mx(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:a}=this,{iScale:i,_stacked:c}=r,d=i.axis;let u=e===0&&t===a.length?!0:r._sorted,f=e>0&&r._parsed[e-1],m,b,y;if(this._parsing===!1)r._parsed=a,r._sorted=!0,y=a;else{Zr(a[e])?y=this.parseArrayData(r,a,e,t):Ss(a[e])?y=this.parseObjectData(r,a,e,t):y=this.parsePrimitiveData(r,a,e,t);const x=()=>b[d]===null||f&&b[d]<f[d];for(m=0;m<t;++m)r._parsed[m+e]=b=y[m],u&&(x()&&(u=!1),f=b);r._sorted=u}c&&pw(this,y)}parsePrimitiveData(e,t,r,a){const{iScale:i,vScale:c}=e,d=i.axis,u=c.axis,f=i.getLabels(),m=i===c,b=new Array(a);let y,x,j;for(y=0,x=a;y<x;++y)j=y+r,b[y]={[d]:m||i.parse(f[j],j),[u]:c.parse(t[j],j)};return b}parseArrayData(e,t,r,a){const{xScale:i,yScale:c}=e,d=new Array(a);let u,f,m,b;for(u=0,f=a;u<f;++u)m=u+r,b=t[m],d[u]={x:i.parse(b[0],m),y:c.parse(b[1],m)};return d}parseObjectData(e,t,r,a){const{xScale:i,yScale:c}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,f=new Array(a);let m,b,y,x;for(m=0,b=a;m<b;++m)y=m+r,x=t[y],f[m]={x:i.parse(Td(x,d),y),y:c.parse(Td(x,u),y)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const a=this.chart,i=this._cachedMeta,c=t[e.axis],d={keys:d3(a,!0),values:t._stacks[e.axis]._visualValues};return fw(d,c,i.index,{mode:r})}updateRangeFromParsed(e,t,r,a){const i=r[t.axis];let c=i===null?NaN:i;const d=a&&r._stacks[t.axis];a&&d&&(a.values=d,c=fw(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const r=this._cachedMeta,a=r._parsed,i=r._sorted&&e===r.iScale,c=a.length,d=this._getOtherScale(e),u=sM(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=ZT(d);let y,x;function j(){x=a[y];const S=x[d.axis];return!Zn(x[e.axis])||m>S||b<S}for(y=0;y<c&&!(!j()&&(this.updateRangeFromParsed(f,e,x,u),i));++y);if(i){for(y=c-1;y>=0;--y)if(!j()){this.updateRangeFromParsed(f,e,x,u);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let a,i,c;for(a=0,i=t.length;a<i;++a)c=t[a][e.axis],Zn(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,a=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=KT(us(this.options.clip,YT(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,a=r.data||[],i=t.chartArea,c=[],d=this._drawStart||0,u=this._drawCount||a.length-d,f=this.options.drawActiveElementsOnTop;let m;for(r.dataset&&r.dataset.draw(e,i,d,u),m=d;m<d+u;++m){const b=a[m];b.hidden||(b.active&&f?c.push(b):b.draw(e,i))}for(m=0;m<c.length;++m)c[m].draw(e,i)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];i=c.$context||(c.$context=tM(this.getContext(),e,c)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=eM(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const a=t==="active",i=this._cachedDataOpts,c=e+"-"+t,d=i[c],u=this.enableOptionSharing&&Af(r);if(d)return gw(d,u);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),b=a?[`${e}Hover`,"hover",e,""]:[e,""],y=f.getOptionScopes(this.getDataset(),m),x=Object.keys(Vr.elements[e]),j=()=>this.getContext(r,a,t),S=f.resolveNamedOptions(y,x,j,b);return S.$shared&&(S.$shared=u,i[c]=Object.freeze(gw(S,u))),S}_resolveAnimations(e,t,r){const a=this.chart,i=this._cachedDataOpts,c=`animation-${t}`,d=i[c];if(d)return d;let u;if(a.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,t),y=m.getOptionScopes(this.getDataset(),b);u=m.createResolver(y,this.getContext(e,r,t))}const f=new c3(a,u&&u.animations);return u&&u._cacheable&&(i[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Ox(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),a=this._sharedOptions,i=this.getSharedOptions(r),c=this.includeOptions(t,i)||i!==a;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:c}}updateElement(e,t,r,a){Ox(a)?Object.assign(e,r):this._resolveAnimations(t,a).update(e,r)}updateSharedOptions(e,t,r){e&&!Ox(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,a){e.active=a;const i=this.getStyle(t,a);this._resolveAnimations(t,r,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[d,u,f]of this._syncList)this[d](u,f);this._syncList=[];const a=r.length,i=t.length,c=Math.min(i,a);c&&this.parse(0,c),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,t,r=!0){const a=this._cachedMeta,i=a.data,c=e+t;let d;const u=f=>{for(f.length+=t,d=f.length-1;d>=c;d--)f[d]=f[d-t]};for(u(i),d=e;d<c;++d)i[d]=new this.dataElementType;this._parsing&&u(a._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,a){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const a=r._parsed.splice(e,t);r._stacked&&$h(r,a)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,a]=e;this[t](r,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function rM(s,e){if(!s._cache.$bar){const t=s.getMatchingVisibleMetas(e);let r=[];for(let a=0,i=t.length;a<i;a++)r=r.concat(t[a].controller.getAllParsedValues(s));s._cache.$bar=$4(r.sort((a,i)=>a-i))}return s._cache.$bar}function nM(s){const e=s.iScale,t=rM(e,s.type);let r=e._length,a,i,c,d;const u=()=>{c===32767||c===-32768||(Af(d)&&(r=Math.min(r,Math.abs(c-d)||r)),d=c)};for(a=0,i=t.length;a<i;++a)c=e.getPixelForValue(t[a]),u();for(d=void 0,a=0,i=e.ticks.length;a<i;++a)c=e.getPixelForTick(a),u();return r}function aM(s,e,t,r){const a=t.barThickness;let i,c;return qs(a)?(i=e.min*t.categoryPercentage,c=t.barPercentage):(i=a*r,c=1),{chunk:i/r,ratio:c,start:e.pixels[s]-i/2}}function iM(s,e,t,r){const a=e.pixels,i=a[s];let c=s>0?a[s-1]:null,d=s<a.length-1?a[s+1]:null;const u=t.categoryPercentage;c===null&&(c=i-(d===null?e.end-e.start:d-i)),d===null&&(d=i+i-c);const f=i-(i-Math.min(c,d))/2*u;return{chunk:Math.abs(d-c)/2*u/r,ratio:t.barPercentage,start:f}}function oM(s,e,t,r){const a=t.parse(s[0],r),i=t.parse(s[1],r),c=Math.min(a,i),d=Math.max(a,i);let u=c,f=d;Math.abs(c)>Math.abs(d)&&(u=d,f=c),e[t.axis]=f,e._custom={barStart:u,barEnd:f,start:a,end:i,min:c,max:d}}function u3(s,e,t,r){return Zr(s)?oM(s,e,t,r):e[t.axis]=t.parse(s,r),e}function xw(s,e,t,r){const a=s.iScale,i=s.vScale,c=a.getLabels(),d=a===i,u=[];let f,m,b,y;for(f=t,m=t+r;f<m;++f)y=e[f],b={},b[a.axis]=d||a.parse(c[f],f),u.push(u3(y,b,i,f));return u}function Dx(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function lM(s,e,t){return s!==0?Bo(s):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function cM(s){let e,t,r,a,i;return s.horizontal?(e=s.base>s.x,t="left",r="right"):(e=s.base<s.y,t="bottom",r="top"),e?(a="end",i="start"):(a="start",i="end"),{start:t,end:r,reverse:e,top:a,bottom:i}}function dM(s,e,t,r){let a=e.borderSkipped;const i={};if(!a){s.borderSkipped=i;return}if(a===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:d,reverse:u,top:f,bottom:m}=cM(s);a==="middle"&&t&&(s.enableBorderRadius=!0,(t._top||0)===r?a=f:(t._bottom||0)===r?a=m:(i[yw(m,c,d,u)]=!0,a=f)),i[yw(a,c,d,u)]=!0,s.borderSkipped=i}function yw(s,e,t,r){return r?(s=uM(s,e,t),s=bw(s,t,e)):s=bw(s,e,t),s}function uM(s,e,t){return s===e?t:s===t?e:s}function bw(s,e,t){return s==="start"?e:s==="end"?t:s}function hM(s,{inflateAmount:e},t){s.inflateAmount=e==="auto"?t===1?.33:0:e}class fM extends Np{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,a){return xw(e,t,r,a)}parseArrayData(e,t,r,a){return xw(e,t,r,a)}parseObjectData(e,t,r,a){const{iScale:i,vScale:c}=e,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,f=i.axis==="x"?d:u,m=c.axis==="x"?d:u,b=[];let y,x,j,S;for(y=r,x=r+a;y<x;++y)S=t[y],j={},j[i.axis]=i.parse(Td(S,f),y),b.push(u3(Td(S,m),j,c,y));return b}updateRangeFromParsed(e,t,r,a){super.updateRangeFromParsed(e,t,r,a);const i=r._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:a}=t,i=this.getParsed(e),c=i._custom,d=Dx(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,a){const i=a==="reset",{index:c,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),f=d.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:y}=this._getSharedOptions(t,a);for(let x=t;x<t+r;x++){const j=this.getParsed(x),S=i||qs(j[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(x),A=this._calculateBarIndexPixels(x,m),k=(j._stacks||{})[d.axis],P={horizontal:f,base:S.base,enableBorderRadius:!k||Dx(j._custom)||c===k._top||c===k._bottom,x:f?S.head:A.center,y:f?A.center:S.head,height:f?A.size:Math.abs(S.size),width:f?Math.abs(S.size):A.size};y&&(P.options=b||this.resolveDataElementOptions(x,e[x].active?"active":a));const M=P.options||e[x].options;dM(P,M,k,c),hM(P,M,m.ratio),this.updateElement(e[x],x,P,a)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,a=r.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=r.options.stacked,c=[],d=this._cachedMeta.controller.getParsed(t),u=d&&d[r.axis],f=m=>{const b=m._parsed.find(x=>x[r.axis]===u),y=b&&b[m.vScale.axis];if(qs(y)||isNaN(y))return!0};for(const m of a)if(!(t!==void 0&&f(m))&&((i===!1||c.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[us(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const a=this._getStacks(e,r),i=t!==void 0?a.indexOf(t):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,a=[];let i,c;for(i=0,c=t.data.length;i<c;++i)a.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const d=e.barThickness;return{min:d||nM(t),pixels:a,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:d?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:a},options:{base:i,minBarLength:c}}=this,d=i||0,u=this.getParsed(e),f=u._custom,m=Dx(f);let b=u[t.axis],y=0,x=r?this.applyStack(t,u,r):b,j,S;x!==b&&(y=x-b,x=b),m&&(b=f.barStart,x=f.barEnd-f.barStart,b!==0&&Bo(b)!==Bo(f.barEnd)&&(y=0),y+=b);const A=!qs(i)&&!m?i:y;let k=t.getPixelForValue(A);if(this.chart.getDataVisibility(e)?j=t.getPixelForValue(y+x):j=k,S=j-k,Math.abs(S)<c){S=lM(S,t,d)*c,b===d&&(k-=S/2);const P=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),F=Math.min(P,M),B=Math.max(P,M);k=Math.max(Math.min(k,B),F),j=k+S,r&&!m&&(u._stacks[t.axis]._visualValues[a]=t.getValueForPixel(j)-t.getValueForPixel(k))}if(k===t.getPixelForValue(d)){const P=Bo(S)*t.getLineWidthForValue(d)/2;k+=P,S-=P}return{size:S,base:k,head:j,center:j+S/2}}_calculateBarIndexPixels(e,t){const r=t.scale,a=this.options,i=a.skipNull,c=us(a.maxBarThickness,1/0);let d,u;const f=this._getAxisCount();if(t.grouped){const m=i?this._getStackCount(e):t.stackCount,b=a.barThickness==="flex"?iM(e,t,a,m*f):aM(e,t,a,m*f),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(us(y,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+x;d=b.start+b.chunk*j+b.chunk/2,u=Math.min(c,b.chunk*b.ratio)}else d=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(c,t.min*t.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,a=r.length;let i=0;for(;i<a;++i)this.getParsed(i)[t.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}function mM(s,e,t){let r=1,a=1,i=0,c=0;if(e<_r){const d=s,u=d+e,f=Math.cos(d),m=Math.sin(d),b=Math.cos(u),y=Math.sin(u),x=(M,F,B)=>Lf(M,d,u,!0)?1:Math.max(F,F*t,B,B*t),j=(M,F,B)=>Lf(M,d,u,!0)?-1:Math.min(F,F*t,B,B*t),S=x(0,f,b),A=x(un,m,y),k=j(Ks,f,b),P=j(Ks+un,m,y);r=(S-k)/2,a=(A-P)/2,i=-(S+k)/2,c=-(A+P)/2}return{ratioX:r,ratioY:a,offsetX:i,offsetY:c}}class pM extends Np{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:a}}=e.legend.options;return t.labels.map((i,c)=>{const u=e.getDatasetMeta(0).controller.getStyle(c);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:a,lineWidth:u.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=r;else{let i=u=>+r[u];if(Ss(r[e])){const{key:u="value"}=this._parsing;i=f=>+Td(r[f],u)}let c,d;for(c=e,d=e+t;c<d;++c)a._parsed[c]=i(c)}}_getRotation(){return kl(this.options.rotation-90)}_getCircumference(){return kl(this.options.circumference)}_getRotationExtents(){let e=_r,t=-_r;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const a=this.chart.getDatasetMeta(r).controller,i=a._getRotation(),c=a._getCircumference();e=Math.min(e,i),t=Math.max(t,i+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,a=this._cachedMeta,i=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,d=Math.max((Math.min(r.width,r.height)-c)/2,0),u=Math.min(wP(this.options.cutout,d),1),f=this._getRingWeight(this.index),{circumference:m,rotation:b}=this._getRotationExtents(),{ratioX:y,ratioY:x,offsetX:j,offsetY:S}=mM(b,m,u),A=(r.width-c)/y,k=(r.height-c)/x,P=Math.max(Math.min(A,k)/2,0),M=U4(this.options.radius,P),F=Math.max(M*u,0),B=(M-F)/this._getVisibleDatasetWeightTotal();this.offsetX=j*M,this.offsetY=S*M,a.total=this.calculateTotal(),this.outerRadius=M-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*f,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const r=this.options,a=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/_r)}updateElements(e,t,r,a){const i=a==="reset",c=this.chart,d=c.chartArea,f=c.options.animation,m=(d.left+d.right)/2,b=(d.top+d.bottom)/2,y=i&&f.animateScale,x=y?0:this.innerRadius,j=y?0:this.outerRadius,{sharedOptions:S,includeOptions:A}=this._getSharedOptions(t,a);let k=this._getRotation(),P;for(P=0;P<t;++P)k+=this._circumference(P,i);for(P=t;P<t+r;++P){const M=this._circumference(P,i),F=e[P],B={x:m+this.offsetX,y:b+this.offsetY,startAngle:k,endAngle:k+M,circumference:M,outerRadius:j,innerRadius:x};A&&(B.options=S||this.resolveDataElementOptions(P,F.active?"active":a)),k+=M,this.updateElement(F,P,B,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,a;for(a=0;a<t.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?_r*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,a=r.data.labels||[],i=my(t._parsed[e],r.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const r=this.chart;let a,i,c,d,u;if(!e){for(a=0,i=r.data.datasets.length;a<i;++a)if(r.isDatasetVisible(a)){c=r.getDatasetMeta(a),e=c.data,d=c.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)u=d.resolveDataElementOptions(a),u.borderAlign!=="inner"&&(t=Math.max(t,u.borderWidth||0,u.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,a=e.length;r<a;++r){const i=this.resolveDataElementOptions(r);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(us(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class gM extends Np{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:a=[],_dataset:i}=t,c=this.chart._animationsDisabled;let{start:d,count:u}=UP(t,a,c);this._drawStart=d,this._drawCount=u,qP(t)&&(d=0,u=a.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=a;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:f},e),this.updateElements(a,d,u,e)}updateElements(e,t,r,a){const i=a==="reset",{iScale:c,vScale:d,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(t,a),y=c.axis,x=d.axis,{spanGaps:j,segment:S}=this.options,A=Cf(j)?j:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||i||a==="none",P=t+r,M=e.length;let F=t>0&&this.getParsed(t-1);for(let B=0;B<M;++B){const ae=e[B],Y=k?ae:{};if(B<t||B>=P){Y.skip=!0;continue}const E=this.getParsed(B),I=qs(E[x]),$=Y[y]=c.getPixelForValue(E[y],B),R=Y[x]=i||I?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,E,u):E[x],B);Y.skip=isNaN($)||isNaN(R)||I,Y.stop=B>0&&Math.abs(E[y]-F[y])>A,S&&(Y.parsed=E,Y.raw=f.data[B]),b&&(Y.options=m||this.resolveDataElementOptions(B,ae.active?"active":a)),k||this.updateElement(ae,B,Y,a),F=E}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return r;const i=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,i,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function hd(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wy{static override(e){Object.assign(wy.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return hd()}parse(){return hd()}format(){return hd()}add(){return hd()}diff(){return hd()}startOf(){return hd()}endOf(){return hd()}}var xM={_date:wy};function yM(s,e,t,r){const{controller:a,data:i,_sorted:c}=s,d=a._cachedMeta.iScale,u=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(d&&e===d.axis&&e!=="r"&&c&&i.length){const f=d._reversePixels?DP:jd;if(r){if(a._sharedOptions){const m=i[0],b=typeof m.getRange=="function"&&m.getRange(e);if(b){const y=f(i,e,t-b),x=f(i,e,t+b);return{lo:y.lo,hi:x.hi}}}}else{const m=f(i,e,t);if(u){const{vScale:b}=a._cachedMeta,{_parsed:y}=s,x=y.slice(0,m.lo+1).reverse().findIndex(S=>!qs(S[b.axis]));m.lo-=Math.max(0,x);const j=y.slice(m.hi).findIndex(S=>!qs(S[b.axis]));m.hi+=Math.max(0,j)}return m}}return{lo:0,hi:i.length-1}}function Sp(s,e,t,r,a){const i=s.getSortedVisibleDatasetMetas(),c=t[e];for(let d=0,u=i.length;d<u;++d){const{index:f,data:m}=i[d],{lo:b,hi:y}=yM(i[d],e,c,a);for(let x=b;x<=y;++x){const j=m[x];j.skip||r(j,f,x)}}}function bM(s){const e=s.indexOf("x")!==-1,t=s.indexOf("y")!==-1;return function(r,a){const i=e?Math.abs(r.x-a.x):0,c=t?Math.abs(r.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(c,2))}}function Ix(s,e,t,r,a){const i=[];return!a&&!s.isPointInArea(e)||Sp(s,t,e,function(d,u,f){!a&&!Ef(d,s.chartArea,0)||d.inRange(e.x,e.y,r)&&i.push({element:d,datasetIndex:u,index:f})},!0),i}function vM(s,e,t,r){let a=[];function i(c,d,u){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],r),{angle:b}=W4(c,{x:e.x,y:e.y});Lf(b,f,m)&&a.push({element:c,datasetIndex:d,index:u})}return Sp(s,t,e,i),a}function wM(s,e,t,r,a,i){let c=[];const d=bM(t);let u=Number.POSITIVE_INFINITY;function f(m,b,y){const x=m.inRange(e.x,e.y,a);if(r&&!x)return;const j=m.getCenterPoint(a);if(!(!!i||s.isPointInArea(j))&&!x)return;const A=d(e,j);A<u?(c=[{element:m,datasetIndex:b,index:y}],u=A):A===u&&c.push({element:m,datasetIndex:b,index:y})}return Sp(s,t,e,f),c}function Fx(s,e,t,r,a,i){return!i&&!s.isPointInArea(e)?[]:t==="r"&&!r?vM(s,e,t,a):wM(s,e,t,r,a,i)}function vw(s,e,t,r,a){const i=[],c=t==="x"?"inXRange":"inYRange";let d=!1;return Sp(s,t,e,(u,f,m)=>{u[c]&&u[c](e[t],a)&&(i.push({element:u,datasetIndex:f,index:m}),d=d||u.inRange(e.x,e.y,a))}),r&&!d?[]:i}var jM={modes:{index(s,e,t,r){const a=xd(e,s),i=t.axis||"x",c=t.includeInvisible||!1,d=t.intersect?Ix(s,a,i,r,c):Fx(s,a,i,!1,r,c),u=[];return d.length?(s.getSortedVisibleDatasetMetas().forEach(f=>{const m=d[0].index,b=f.data[m];b&&!b.skip&&u.push({element:b,datasetIndex:f.index,index:m})}),u):[]},dataset(s,e,t,r){const a=xd(e,s),i=t.axis||"xy",c=t.includeInvisible||!1;let d=t.intersect?Ix(s,a,i,r,c):Fx(s,a,i,!1,r,c);if(d.length>0){const u=d[0].datasetIndex,f=s.getDatasetMeta(u).data;d=[];for(let m=0;m<f.length;++m)d.push({element:f[m],datasetIndex:u,index:m})}return d},point(s,e,t,r){const a=xd(e,s),i=t.axis||"xy",c=t.includeInvisible||!1;return Ix(s,a,i,r,c)},nearest(s,e,t,r){const a=xd(e,s),i=t.axis||"xy",c=t.includeInvisible||!1;return Fx(s,a,i,t.intersect,r,c)},x(s,e,t,r){const a=xd(e,s);return vw(s,a,"x",t.intersect,r)},y(s,e,t,r){const a=xd(e,s);return vw(s,a,"y",t.intersect,r)}}};const h3=["left","top","right","bottom"];function Gh(s,e){return s.filter(t=>t.pos===e)}function ww(s,e){return s.filter(t=>h3.indexOf(t.pos)===-1&&t.box.axis===e)}function Yh(s,e){return s.sort((t,r)=>{const a=e?r:t,i=e?t:r;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function NM(s){const e=[];let t,r,a,i,c,d;for(t=0,r=(s||[]).length;t<r;++t)a=s[t],{position:i,options:{stack:c,stackWeight:d=1}}=a,e.push({index:t,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&i+c,stackWeight:d});return e}function SM(s){const e={};for(const t of s){const{stack:r,pos:a,stackWeight:i}=t;if(!r||!h3.includes(a))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=i}return e}function _M(s,e){const t=SM(s),{vBoxMaxWidth:r,hBoxMaxHeight:a}=e;let i,c,d;for(i=0,c=s.length;i<c;++i){d=s[i];const{fullSize:u}=d.box,f=t[d.stack],m=f&&d.stackWeight/f.weight;d.horizontal?(d.width=m?m*r:u&&e.availableWidth,d.height=a):(d.width=r,d.height=m?m*a:u&&e.availableHeight)}return t}function kM(s){const e=NM(s),t=Yh(e.filter(f=>f.box.fullSize),!0),r=Yh(Gh(e,"left"),!0),a=Yh(Gh(e,"right")),i=Yh(Gh(e,"top"),!0),c=Yh(Gh(e,"bottom")),d=ww(e,"x"),u=ww(e,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:a.concat(u).concat(c).concat(d),chartArea:Gh(e,"chartArea"),vertical:r.concat(a).concat(u),horizontal:i.concat(c).concat(d)}}function jw(s,e,t,r){return Math.max(s[t],e[t])+Math.max(s[r],e[r])}function f3(s,e){s.top=Math.max(s.top,e.top),s.left=Math.max(s.left,e.left),s.bottom=Math.max(s.bottom,e.bottom),s.right=Math.max(s.right,e.right)}function AM(s,e,t,r){const{pos:a,box:i}=t,c=s.maxPadding;if(!Ss(a)){t.size&&(s[a]-=t.size);const b=r[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?i.height:i.width),t.size=b.size/b.count,s[a]+=t.size}i.getPadding&&f3(c,i.getPadding());const d=Math.max(0,e.outerWidth-jw(c,s,"left","right")),u=Math.max(0,e.outerHeight-jw(c,s,"top","bottom")),f=d!==s.w,m=u!==s.h;return s.w=d,s.h=u,t.horizontal?{same:f,other:m}:{same:m,other:f}}function CM(s){const e=s.maxPadding;function t(r){const a=Math.max(e[r]-s[r],0);return s[r]+=a,a}s.y+=t("top"),s.x+=t("left"),t("right"),t("bottom")}function LM(s,e){const t=e.maxPadding;function r(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{i[c]=Math.max(e[c],t[c])}),i}return r(s?["left","right"]:["top","bottom"])}function ef(s,e,t,r){const a=[];let i,c,d,u,f,m;for(i=0,c=s.length,f=0;i<c;++i){d=s[i],u=d.box,u.update(d.width||e.w,d.height||e.h,LM(d.horizontal,e));const{same:b,other:y}=AM(e,t,d,r);f|=b&&a.length,m=m||y,u.fullSize||a.push(d)}return f&&ef(a,e,t,r)||m}function y0(s,e,t,r,a){s.top=t,s.left=e,s.right=e+r,s.bottom=t+a,s.width=r,s.height=a}function Nw(s,e,t,r){const a=t.padding;let{x:i,y:c}=e;for(const d of s){const u=d.box,f=r[d.stack]||{placed:0,weight:1},m=d.stackWeight/f.weight||1;if(d.horizontal){const b=e.w*m,y=f.size||u.height;Af(f.start)&&(c=f.start),u.fullSize?y0(u,a.left,c,t.outerWidth-a.right-a.left,y):y0(u,e.left+f.placed,c,b,y),f.start=c,f.placed+=b,c=u.bottom}else{const b=e.h*m,y=f.size||u.width;Af(f.start)&&(i=f.start),u.fullSize?y0(u,i,a.top,y,t.outerHeight-a.bottom-a.top):y0(u,i,e.top+f.placed,y,b),f.start=i,f.placed+=b,i=u.right}}e.x=i,e.y=c}var Si={addBox(s,e){s.boxes||(s.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},s.boxes.push(e)},removeBox(s,e){const t=s.boxes?s.boxes.indexOf(e):-1;t!==-1&&s.boxes.splice(t,1)},configure(s,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(s,e,t,r){if(!s)return;const a=Ci(s.options.layout.padding),i=Math.max(e-a.width,0),c=Math.max(t-a.height,0),d=kM(s.boxes),u=d.vertical,f=d.horizontal;Gs(s.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const m=u.reduce((S,A)=>A.box.options&&A.box.options.display===!1?S:S+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:i,availableHeight:c,vBoxMaxWidth:i/2/m,hBoxMaxHeight:c/2}),y=Object.assign({},a);f3(y,Ci(r));const x=Object.assign({maxPadding:y,w:i,h:c,x:a.left,y:a.top},a),j=_M(u.concat(f),b);ef(d.fullSize,x,b,j),ef(u,x,b,j),ef(f,x,b,j)&&ef(u,x,b,j),CM(x),Nw(d.leftAndTop,x,b,j),x.x+=x.w,x.y+=x.h,Nw(d.rightAndBottom,x,b,j),s.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Gs(d.chartArea,S=>{const A=S.box;Object.assign(A,s.chartArea),A.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class m3{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,a){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):r)}}isAttached(e){return!0}updateConfig(e){}}class EM extends m3{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const D0="$chartjs",PM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sw=s=>s===null||s==="";function TM(s,e){const t=s.style,r=s.getAttribute("height"),a=s.getAttribute("width");if(s[D0]={initial:{height:r,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Sw(a)){const i=ow(s,"width");i!==void 0&&(s.width=i)}if(Sw(r))if(s.style.height==="")s.height=s.width/(e||2);else{const i=ow(s,"height");i!==void 0&&(s.height=i)}return s}const p3=PT?{passive:!0}:!1;function MM(s,e,t){s&&s.addEventListener(e,t,p3)}function RM(s,e,t){s&&s.canvas&&s.canvas.removeEventListener(e,t,p3)}function OM(s,e){const t=PM[s.type]||s.type,{x:r,y:a}=xd(s,e);return{type:t,chart:e,native:s,x:r!==void 0?r:null,y:a!==void 0?a:null}}function sp(s,e){for(const t of s)if(t===e||t.contains(e))return!0}function DM(s,e,t){const r=s.canvas,a=new MutationObserver(i=>{let c=!1;for(const d of i)c=c||sp(d.addedNodes,r),c=c&&!sp(d.removedNodes,r);c&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function IM(s,e,t){const r=s.canvas,a=new MutationObserver(i=>{let c=!1;for(const d of i)c=c||sp(d.removedNodes,r),c=c&&!sp(d.addedNodes,r);c&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const Tf=new Map;let _w=0;function g3(){const s=window.devicePixelRatio;s!==_w&&(_w=s,Tf.forEach((e,t)=>{t.currentDevicePixelRatio!==s&&e()}))}function FM(s,e){Tf.size||window.addEventListener("resize",g3),Tf.set(s,e)}function BM(s){Tf.delete(s),Tf.size||window.removeEventListener("resize",g3)}function zM(s,e,t){const r=s.canvas,a=r&&vy(r);if(!a)return;const i=Y4((d,u)=>{const f=a.clientWidth;t(d,u),f<a.clientWidth&&t()},window),c=new ResizeObserver(d=>{const u=d[0],f=u.contentRect.width,m=u.contentRect.height;f===0&&m===0||i(f,m)});return c.observe(a),FM(s,i),c}function Bx(s,e,t){t&&t.disconnect(),e==="resize"&&BM(s)}function UM(s,e,t){const r=s.canvas,a=Y4(i=>{s.ctx!==null&&t(OM(i,s))},s);return MM(r,e,a),a}class qM extends m3{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(TM(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[D0])return!1;const r=t[D0].initial;["height","width"].forEach(i=>{const c=r[i];qs(c)?t.removeAttribute(i):t.setAttribute(i,c)});const a=r.style||{};return Object.keys(a).forEach(i=>{t.style[i]=a[i]}),t.width=t.width,delete t[D0],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),c={attach:DM,detach:IM,resize:zM}[t]||UM;a[t]=c(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),a=r[t];if(!a)return;({attach:Bx,detach:Bx,resize:Bx}[t]||RM)(e,t,a),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,a){return ET(e,t,r,a)}isAttached(e){const t=e&&vy(e);return!!(t&&t.isConnected)}}function HM(s){return!by()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?EM:qM}class Rl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Cf(this.x)&&Cf(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const a={};return e.forEach(i=>{a[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),a}}function WM(s,e){const t=s.options.ticks,r=VM(s),a=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?GM(e):[],c=i.length,d=i[0],u=i[c-1],f=[];if(c>a)return YM(e,f,i,c/a),f;const m=$M(i,e,a);if(c>0){let b,y;const x=c>1?Math.round((u-d)/(c-1)):null;for(b0(e,f,m,qs(x)?0:d-x,d),b=0,y=c-1;b<y;b++)b0(e,f,m,i[b],i[b+1]);return b0(e,f,m,u,qs(x)?e.length:u+x),f}return b0(e,f,m),f}function VM(s){const e=s.options.offset,t=s._tickSize(),r=s._length/t+(e?0:1),a=s._maxLength/t;return Math.floor(Math.min(r,a))}function $M(s,e,t){const r=KM(s),a=e.length/t;if(!r)return Math.max(a,1);const i=LP(r);for(let c=0,d=i.length-1;c<d;c++){const u=i[c];if(u>a)return u}return Math.max(a,1)}function GM(s){const e=[];let t,r;for(t=0,r=s.length;t<r;t++)s[t].major&&e.push(t);return e}function YM(s,e,t,r){let a=0,i=t[0],c;for(r=Math.ceil(r),c=0;c<s.length;c++)c===i&&(e.push(s[c]),a++,i=t[a*r])}function b0(s,e,t,r,a){const i=us(r,0),c=Math.min(us(a,s.length),s.length);let d=0,u,f,m;for(t=Math.ceil(t),a&&(u=a-r,t=u/Math.floor(u/t)),m=i;m<0;)d++,m=Math.round(i+d*t);for(f=Math.max(i,0);f<c;f++)f===m&&(e.push(s[f]),d++,m=Math.round(i+d*t))}function KM(s){const e=s.length;let t,r;if(e<2)return!1;for(r=s[0],t=1;t<e;++t)if(s[t]-s[t-1]!==r)return!1;return r}const XM=s=>s==="left"?"right":s==="right"?"left":s,kw=(s,e,t)=>e==="top"||e==="left"?s[e]+t:s[e]-t,Aw=(s,e)=>Math.min(e||s,s);function Cw(s,e){const t=[],r=s.length/e,a=s.length;let i=0;for(;i<a;i+=r)t.push(s[Math.floor(i)]);return t}function JM(s,e,t){const r=s.ticks.length,a=Math.min(e,r-1),i=s._startPixel,c=s._endPixel,d=1e-6;let u=s.getPixelForTick(a),f;if(!(t&&(r===1?f=Math.max(u-i,c-u):e===0?f=(s.getPixelForTick(1)-u)/2:f=(u-s.getPixelForTick(a-1))/2,u+=a<e?f:-f,u<i-d||u>c+d)))return u}function ZM(s,e){Gs(s,t=>{const r=t.gc,a=r.length/2;let i;if(a>e){for(i=0;i<a;++i)delete t.data[r[i]];r.splice(0,a)}})}function Kh(s){return s.drawTicks?s.tickLength:0}function Lw(s,e){if(!s.display)return 0;const t=Jn(s.font,e),r=Ci(s.padding);return(Zr(s.text)?s.text.length:1)*t.lineHeight+r.height}function QM(s,e){return Id(s,{scale:e,type:"scale"})}function eR(s,e,t){return Id(s,{tick:t,index:e,type:"tick"})}function tR(s,e,t){let r=hy(s);return(t&&e!=="right"||!t&&e==="right")&&(r=XM(r)),r}function sR(s,e,t,r){const{top:a,left:i,bottom:c,right:d,chart:u}=s,{chartArea:f,scales:m}=u;let b=0,y,x,j;const S=c-a,A=d-i;if(s.isHorizontal()){if(x=Gn(r,i,d),Ss(t)){const k=Object.keys(t)[0],P=t[k];j=m[k].getPixelForValue(P)+S-e}else t==="center"?j=(f.bottom+f.top)/2+S-e:j=kw(s,t,e);y=d-i}else{if(Ss(t)){const k=Object.keys(t)[0],P=t[k];x=m[k].getPixelForValue(P)-A+e}else t==="center"?x=(f.left+f.right)/2-A+e:x=kw(s,t,e);j=Gn(r,c,a),b=t==="left"?-un:un}return{titleX:x,titleY:j,maxWidth:y,rotation:b}}class Yu extends Rl{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:a}=this;return e=To(e,Number.POSITIVE_INFINITY),t=To(t,Number.NEGATIVE_INFINITY),r=To(r,Number.POSITIVE_INFINITY),a=To(a,Number.NEGATIVE_INFINITY),{min:To(e,r),max:To(t,a),minDefined:Zn(e),maxDefined:Zn(t)}}getMinMax(e){let{min:t,max:r,minDefined:a,maxDefined:i}=this.getUserBounds(),c;if(a&&i)return{min:t,max:r};const d=this.getMatchingVisibleMetas();for(let u=0,f=d.length;u<f;++u)c=d[u].controller.getMinMax(this,e),a||(t=Math.min(t,c.min)),i||(r=Math.max(r,c.max));return t=i&&t>r?r:t,r=a&&t>r?t:r,{min:To(t,To(r,t)),max:To(r,To(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){or(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:a,grace:i,ticks:c}=this.options,d=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lT(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=d<this.ticks.length;this._convertTicksToLabels(u?Cw(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=WM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){or(this.options.afterUpdate,[this])}beforeSetDimensions(){or(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){or(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),or(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){or(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,a,i;for(r=0,a=e.length;r<a;r++)i=e[r],i.label=or(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){or(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){or(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Aw(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,i=t.maxRotation;let c=a,d,u,f;if(!this._isVisible()||!t.display||a>=i||r<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),b=m.widest.width,y=m.highest.height,x=Xn(this.chart.width-b,0,this.maxWidth);d=e.offset?this.maxWidth/r:x/(r-1),b+6>d&&(d=x/(r-(e.offset?.5:1)),u=this.maxHeight-Kh(e.grid)-t.padding-Lw(e.title,this.chart.options.font),f=Math.sqrt(b*b+y*y),c=MP(Math.min(Math.asin(Xn((m.highest.height+6)/d,-1,1)),Math.asin(Xn(u/f,-1,1))-Math.asin(Xn(y/f,-1,1)))),c=Math.max(a,Math.min(i,c))),this.labelRotation=c}afterCalculateLabelRotation(){or(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){or(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:a,grid:i}}=this,c=this._isVisible(),d=this.isHorizontal();if(c){const u=Lw(a,t.options.font);if(d?(e.width=this.maxWidth,e.height=Kh(i)+u):(e.height=this.maxHeight,e.width=Kh(i)+u),r.display&&this.ticks.length){const{first:f,last:m,widest:b,highest:y}=this._getLabelSizes(),x=r.padding*2,j=kl(this.labelRotation),S=Math.cos(j),A=Math.sin(j);if(d){const k=r.mirror?0:A*b.width+S*y.height;e.height=Math.min(this.maxHeight,e.height+k+x)}else{const k=r.mirror?0:S*b.width+A*y.height;e.width=Math.min(this.maxWidth,e.width+k+x)}this._calculatePadding(f,m,A,S)}}this._handleMargins(),d?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,a){const{ticks:{align:i,padding:c},position:d}=this.options,u=this.labelRotation!==0,f=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,x=0;u?f?(y=a*e.width,x=r*t.height):(y=r*e.height,x=a*t.width):i==="start"?x=t.width:i==="end"?y=e.width:i!=="inner"&&(y=e.width/2,x=t.width/2),this.paddingLeft=Math.max((y-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let m=t.height/2,b=e.height/2;i==="start"?(m=0,b=e.height):i==="end"&&(m=t.height,b=0),this.paddingTop=m+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){or(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)qs(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Cw(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:a,_longestTextCache:i}=this,c=[],d=[],u=Math.floor(t/Aw(t,r));let f=0,m=0,b,y,x,j,S,A,k,P,M,F,B;for(b=0;b<t;b+=u){if(j=e[b].label,S=this._resolveTickFontOptions(b),a.font=A=S.string,k=i[A]=i[A]||{data:{},gc:[]},P=S.lineHeight,M=F=0,!qs(j)&&!Zr(j))M=sw(a,k.data,k.gc,M,j),F=P;else if(Zr(j))for(y=0,x=j.length;y<x;++y)B=j[y],!qs(B)&&!Zr(B)&&(M=sw(a,k.data,k.gc,M,B),F+=P);c.push(M),d.push(F),f=Math.max(M,f),m=Math.max(F,m)}ZM(i,t);const ae=c.indexOf(f),Y=d.indexOf(m),E=I=>({width:c[I]||0,height:d[I]||0});return{first:E(0),last:E(t-1),widest:E(ae),highest:E(Y),widths:c,heights:d}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return OP(this._alignToPixels?ud(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=eR(this.getContext(),e,r))}return this.$context||(this.$context=QM(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=kl(this.labelRotation),r=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),i=this._getLabelSizes(),c=e.autoSkipPadding||0,d=i?i.widest.width+c:0,u=i?i.highest.height+c:0;return this.isHorizontal()?u*r>d*a?d/r:u/a:u*a<d*r?u/r:d/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,a=this.options,{grid:i,position:c,border:d}=a,u=i.offset,f=this.isHorizontal(),b=this.ticks.length+(u?1:0),y=Kh(i),x=[],j=d.setContext(this.getContext()),S=j.display?j.width:0,A=S/2,k=function(Z){return ud(r,Z,S)};let P,M,F,B,ae,Y,E,I,$,R,q,ie;if(c==="top")P=k(this.bottom),Y=this.bottom-y,I=P-A,R=k(e.top)+A,ie=e.bottom;else if(c==="bottom")P=k(this.top),R=e.top,ie=k(e.bottom)-A,Y=P+A,I=this.top+y;else if(c==="left")P=k(this.right),ae=this.right-y,E=P-A,$=k(e.left)+A,q=e.right;else if(c==="right")P=k(this.left),$=e.left,q=k(e.right)-A,ae=P+A,E=this.left+y;else if(t==="x"){if(c==="center")P=k((e.top+e.bottom)/2+.5);else if(Ss(c)){const Z=Object.keys(c)[0],se=c[Z];P=k(this.chart.scales[Z].getPixelForValue(se))}R=e.top,ie=e.bottom,Y=P+A,I=Y+y}else if(t==="y"){if(c==="center")P=k((e.left+e.right)/2);else if(Ss(c)){const Z=Object.keys(c)[0],se=c[Z];P=k(this.chart.scales[Z].getPixelForValue(se))}ae=P-A,E=ae-y,$=e.left,q=e.right}const K=us(a.ticks.maxTicksLimit,b),oe=Math.max(1,Math.ceil(b/K));for(M=0;M<b;M+=oe){const Z=this.getContext(M),se=i.setContext(Z),ee=d.setContext(Z),pe=se.lineWidth,Q=se.color,me=ee.dash||[],O=ee.dashOffset,V=se.tickWidth,te=se.tickColor,he=se.tickBorderDash||[],fe=se.tickBorderDashOffset;F=JM(this,M,u),F!==void 0&&(B=ud(r,F,pe),f?ae=E=$=q=B:Y=I=R=ie=B,x.push({tx1:ae,ty1:Y,tx2:E,ty2:I,x1:$,y1:R,x2:q,y2:ie,width:pe,color:Q,borderDash:me,borderDashOffset:O,tickWidth:V,tickColor:te,tickBorderDash:he,tickBorderDashOffset:fe}))}return this._ticksLength=b,this._borderValue=P,x}_computeLabelItems(e){const t=this.axis,r=this.options,{position:a,ticks:i}=r,c=this.isHorizontal(),d=this.ticks,{align:u,crossAlign:f,padding:m,mirror:b}=i,y=Kh(r.grid),x=y+m,j=b?-m:x,S=-kl(this.labelRotation),A=[];let k,P,M,F,B,ae,Y,E,I,$,R,q,ie="middle";if(a==="top")ae=this.bottom-j,Y=this._getXAxisLabelAlignment();else if(a==="bottom")ae=this.top+j,Y=this._getXAxisLabelAlignment();else if(a==="left"){const oe=this._getYAxisLabelAlignment(y);Y=oe.textAlign,B=oe.x}else if(a==="right"){const oe=this._getYAxisLabelAlignment(y);Y=oe.textAlign,B=oe.x}else if(t==="x"){if(a==="center")ae=(e.top+e.bottom)/2+x;else if(Ss(a)){const oe=Object.keys(a)[0],Z=a[oe];ae=this.chart.scales[oe].getPixelForValue(Z)+x}Y=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")B=(e.left+e.right)/2-x;else if(Ss(a)){const oe=Object.keys(a)[0],Z=a[oe];B=this.chart.scales[oe].getPixelForValue(Z)}Y=this._getYAxisLabelAlignment(y).textAlign}t==="y"&&(u==="start"?ie="top":u==="end"&&(ie="bottom"));const K=this._getLabelSizes();for(k=0,P=d.length;k<P;++k){M=d[k],F=M.label;const oe=i.setContext(this.getContext(k));E=this.getPixelForTick(k)+i.labelOffset,I=this._resolveTickFontOptions(k),$=I.lineHeight,R=Zr(F)?F.length:1;const Z=R/2,se=oe.color,ee=oe.textStrokeColor,pe=oe.textStrokeWidth;let Q=Y;c?(B=E,Y==="inner"&&(k===P-1?Q=this.options.reverse?"left":"right":k===0?Q=this.options.reverse?"right":"left":Q="center"),a==="top"?f==="near"||S!==0?q=-R*$+$/2:f==="center"?q=-K.highest.height/2-Z*$+$:q=-K.highest.height+$/2:f==="near"||S!==0?q=$/2:f==="center"?q=K.highest.height/2-Z*$:q=K.highest.height-R*$,b&&(q*=-1),S!==0&&!oe.showLabelBackdrop&&(B+=$/2*Math.sin(S))):(ae=E,q=(1-R)*$/2);let me;if(oe.showLabelBackdrop){const O=Ci(oe.backdropPadding),V=K.heights[k],te=K.widths[k];let he=q-O.top,fe=0-O.left;switch(ie){case"middle":he-=V/2;break;case"bottom":he-=V;break}switch(Y){case"center":fe-=te/2;break;case"right":fe-=te;break;case"inner":k===P-1?fe-=te:k>0&&(fe-=te/2);break}me={left:fe,top:he,width:te+O.width,height:V+O.height,color:oe.backdropColor}}A.push({label:F,font:I,textOffset:q,options:{rotation:S,color:se,strokeColor:ee,strokeWidth:pe,textAlign:Q,textBaseline:ie,translation:[B,ae],backdrop:me}})}return A}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-kl(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:a,padding:i}}=this.options,c=this._getLabelSizes(),d=e+i,u=c.widest.width;let f,m;return t==="left"?a?(m=this.right+i,r==="near"?f="left":r==="center"?(f="center",m+=u/2):(f="right",m+=u)):(m=this.right-d,r==="near"?f="right":r==="center"?(f="center",m-=u/2):(f="left",m=this.left)):t==="right"?a?(m=this.left+i,r==="near"?f="right":r==="center"?(f="center",m-=u/2):(f="left",m-=u)):(m=this.left+d,r==="near"?f="left":r==="center"?(f="center",m+=u/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:a,width:i,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,a,i,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,c;const d=(u,f,m)=>{!m.width||!m.color||(r.save(),r.lineWidth=m.width,r.strokeStyle=m.color,r.setLineDash(m.borderDash||[]),r.lineDashOffset=m.borderDashOffset,r.beginPath(),r.moveTo(u.x,u.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(i=0,c=a.length;i<c;++i){const u=a[i];t.drawOnChartArea&&d({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&d({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:a}}=this,i=r.setContext(this.getContext()),c=r.display?i.width:0;if(!c)return;const d=a.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,m,b,y;this.isHorizontal()?(f=ud(e,this.left,c)-c/2,m=ud(e,this.right,d)+d/2,b=y=u):(b=ud(e,this.top,c)-c/2,y=ud(e,this.bottom,d)+d/2,f=m=u),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(f,b),t.lineTo(m,y),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,a=this._computeLabelArea();a&&vp(r,a);const i=this.getLabelItems(e);for(const c of i){const d=c.options,u=c.font,f=c.label,m=c.textOffset;Pf(r,f,0,m,u,d)}a&&wp(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:a}}=this;if(!r.display)return;const i=Jn(r.font),c=Ci(r.padding),d=r.align;let u=i.lineHeight/2;t==="bottom"||t==="center"||Ss(t)?(u+=c.bottom,Zr(r.text)&&(u+=i.lineHeight*(r.text.length-1))):u+=c.top;const{titleX:f,titleY:m,maxWidth:b,rotation:y}=sR(this,u,t,d);Pf(e,r.text,0,0,i,{color:r.color,maxWidth:b,rotation:y,textAlign:tR(d,t,a),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=us(e.grid&&e.grid.z,-1),a=us(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Yu.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",a=[];let i,c;for(i=0,c=t.length;i<c;++i){const d=t[i];d[r]===this.id&&(!e||d.type===e)&&a.push(d)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Jn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class v0{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;aR(t)&&(r=this.register(t));const a=this.items,i=e.id,c=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,rR(e,c,r),this.override&&Vr.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,a=this.scope;r in t&&delete t[r],a&&r in Vr[a]&&(delete Vr[a][r],this.override&&delete Md[r])}}function rR(s,e,t){const r=kf(Object.create(null),[t?Vr.get(t):{},Vr.get(e),s.defaults]);Vr.set(e,r),s.defaultRoutes&&nR(e,s.defaultRoutes),s.descriptors&&Vr.describe(e,s.descriptors)}function nR(s,e){Object.keys(e).forEach(t=>{const r=t.split("."),a=r.pop(),i=[s].concat(r).join("."),c=e[t].split("."),d=c.pop(),u=c.join(".");Vr.route(i,a,u,d)})}function aR(s){return"id"in s&&"defaults"in s}class iR{constructor(){this.controllers=new v0(Np,"datasets",!0),this.elements=new v0(Rl,"elements"),this.plugins=new v0(Object,"plugins"),this.scales=new v0(Yu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(a=>{const i=r||this._getRegistryForType(a);r||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Gs(a,c=>{const d=r||this._getRegistryForType(c);this._exec(e,d,c)})})}_exec(e,t,r){const a=dy(e);or(r["before"+a],[],r),t[e](r),or(r["after"+a],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return a}}var Oo=new iR;class oR{constructor(){this._init=[]}notify(e,t,r,a){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(i,e,t,r);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,t,r,a){a=a||{};for(const i of e){const c=i.plugin,d=c[r],u=[t,a,i.options];if(or(d,u,c)===!1&&a.cancelable)return!1}return!0}invalidate(){qs(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,a=us(r.options&&r.options.plugins,{}),i=lR(r);return a===!1&&!t?[]:dR(e,i,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,a=(i,c)=>i.filter(d=>!c.some(u=>d.plugin.id===u.plugin.id));this._notify(a(t,r),e,"stop"),this._notify(a(r,t),e,"start")}}function lR(s){const e={},t=[],r=Object.keys(Oo.plugins.items);for(let i=0;i<r.length;i++)t.push(Oo.getPlugin(r[i]));const a=s.plugins||[];for(let i=0;i<a.length;i++){const c=a[i];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function cR(s,e){return!e&&s===!1?null:s===!0?{}:s}function dR(s,{plugins:e,localIds:t},r,a){const i=[],c=s.getContext();for(const d of e){const u=d.id,f=cR(r[u],a);f!==null&&i.push({plugin:d,options:uR(s.config,{plugin:d,local:t[u]},f,c)})}return i}function uR(s,{plugin:e,local:t},r,a){const i=s.pluginScopeKeys(e),c=s.getOptionScopes(r,i);return t&&e.defaults&&c.push(e.defaults),s.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function L1(s,e){const t=Vr.datasets[s]||{};return((e.datasets||{})[s]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function hR(s,e){let t=s;return s==="_index_"?t=e:s==="_value_"&&(t=e==="x"?"y":"x"),t}function fR(s,e){return s===e?"_index_":"_value_"}function Ew(s){if(s==="x"||s==="y"||s==="r")return s}function mR(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function E1(s,...e){if(Ew(s))return s;for(const t of e){const r=t.axis||mR(t.position)||s.length>1&&Ew(s[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Pw(s,e,t){if(t[e+"AxisID"]===s)return{axis:e}}function pR(s,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===s||r.yAxisID===s);if(t.length)return Pw(s,"x",t[0])||Pw(s,"y",t[0])}return{}}function gR(s,e){const t=Md[s.type]||{scales:{}},r=e.scales||{},a=L1(s.type,e),i=Object.create(null);return Object.keys(r).forEach(c=>{const d=r[c];if(!Ss(d))return console.error(`Invalid scale configuration for scale: ${c}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const u=E1(c,d,pR(c,s),Vr.scales[d.type]),f=fR(u,a),m=t.scales||{};i[c]=uf(Object.create(null),[{axis:u},d,m[u],m[f]])}),s.data.datasets.forEach(c=>{const d=c.type||s.type,u=c.indexAxis||L1(d,e),m=(Md[d]||{}).scales||{};Object.keys(m).forEach(b=>{const y=hR(b,u),x=c[y+"AxisID"]||y;i[x]=i[x]||Object.create(null),uf(i[x],[{axis:y},r[x],m[b]])})}),Object.keys(i).forEach(c=>{const d=i[c];uf(d,[Vr.scales[d.type],Vr.scale])}),i}function x3(s){const e=s.options||(s.options={});e.plugins=us(e.plugins,{}),e.scales=gR(s,e)}function y3(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function xR(s){return s=s||{},s.data=y3(s.data),x3(s),s}const Tw=new Map,b3=new Set;function w0(s,e){let t=Tw.get(s);return t||(t=e(),Tw.set(s,t),b3.add(t)),t}const Xh=(s,e,t)=>{const r=Td(e,t);r!==void 0&&s.add(r)};class yR{constructor(e){this._config=xR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=y3(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),x3(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return w0(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return w0(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return w0(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return w0(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let a=r.get(e);return(!a||t)&&(a=new Map,r.set(e,a)),a}getOptionScopes(e,t,r){const{options:a,type:i}=this,c=this._cachedScopes(e,r),d=c.get(t);if(d)return d;const u=new Set;t.forEach(m=>{e&&(u.add(e),m.forEach(b=>Xh(u,e,b))),m.forEach(b=>Xh(u,a,b)),m.forEach(b=>Xh(u,Md[i]||{},b)),m.forEach(b=>Xh(u,Vr,b)),m.forEach(b=>Xh(u,A1,b))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),b3.has(t)&&c.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Md[t]||{},Vr.datasets[t]||{},{type:t},Vr,A1]}resolveNamedOptions(e,t,r,a=[""]){const i={$shared:!0},{resolver:c,subPrefixes:d}=Mw(this._resolverCache,e,a);let u=c;if(vR(c,t)){i.$shared=!1,r=Dc(r)?r():r;const f=this.createResolver(e,r,d);u=Fu(c,r,f)}for(const f of t)i[f]=u[f];return i}createResolver(e,t,r=[""],a){const{resolver:i}=Mw(this._resolverCache,e,r);return Ss(t)?Fu(i,t,void 0,a):i}}function Mw(s,e,t){let r=s.get(e);r||(r=new Map,s.set(e,r));const a=t.join();let i=r.get(a);return i||(i={resolver:gy(e,t),subPrefixes:t.filter(d=>!d.toLowerCase().includes("hover"))},r.set(a,i)),i}const bR=s=>Ss(s)&&Object.getOwnPropertyNames(s).some(e=>Dc(s[e]));function vR(s,e){const{isScriptable:t,isIndexable:r}=Z4(s);for(const a of e){const i=t(a),c=r(a),d=(c||i)&&s[a];if(i&&(Dc(d)||bR(d))||c&&Zr(d))return!0}return!1}var wR="4.5.0";const jR=["top","bottom","left","right","chartArea"];function Rw(s,e){return s==="top"||s==="bottom"||jR.indexOf(s)===-1&&e==="x"}function Ow(s,e){return function(t,r){return t[s]===r[s]?t[e]-r[e]:t[s]-r[s]}}function Dw(s){const e=s.chart,t=e.options.animation;e.notifyPlugins("afterRender"),or(t&&t.onComplete,[s],e)}function NR(s){const e=s.chart,t=e.options.animation;or(t&&t.onProgress,[s],e)}function v3(s){return by()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const I0={},Iw=s=>{const e=v3(s);return Object.values(I0).filter(t=>t.canvas===e).pop()};function SR(s,e,t){const r=Object.keys(s);for(const a of r){const i=+a;if(i>=e){const c=s[a];delete s[a],(t>0||i>e)&&(s[i+t]=c)}}}function _R(s,e,t,r){return!t||s.type==="mouseout"?null:r?e:s}let Wf=class{static defaults=Vr;static instances=I0;static overrides=Md;static registry=Oo;static version=wR;static getChart=Iw;static register(...e){Oo.add(...e),Fw()}static unregister(...e){Oo.remove(...e),Fw()}constructor(e,t){const r=this.config=new yR(t),a=v3(e),i=Iw(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||HM(a)),this.platform.updateConfig(r);const d=this.platform.acquireContext(a,c.aspectRatio),u=d&&d.canvas,f=u&&u.height,m=u&&u.width;if(this.id=vP(),this.ctx=d,this.canvas=u,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new oR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=BP(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],I0[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}vl.listen(this,"complete",Dw),vl.listen(this,"progress",NR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:a,_aspectRatio:i}=this;return qs(e)?t&&i?i:a?r/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Oo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rw(this.canvas,this.ctx),this}stop(){return vl.stop(this),this}resize(e,t){vl.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,a=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,t,i),d=r.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,iw(this,d,!0)&&(this.notifyPlugins("resize",{size:c}),or(r.onResize,[this,c],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Gs(t,(r,a)=>{r.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,a=Object.keys(r).reduce((c,d)=>(c[d]=!1,c),{});let i=[];t&&(i=i.concat(Object.keys(t).map(c=>{const d=t[c],u=E1(c,d),f=u==="r",m=u==="x";return{options:d,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),Gs(i,c=>{const d=c.options,u=d.id,f=E1(u,d),m=us(d.type,c.dtype);(d.position===void 0||Rw(d.position,f)!==Rw(c.dposition))&&(d.position=c.dposition),a[u]=!0;let b=null;if(u in r&&r[u].type===m)b=r[u];else{const y=Oo.getScale(m);b=new y({id:u,type:m,ctx:this.ctx,chart:this}),r[b.id]=b}b.init(d,e)}),Gs(a,(c,d)=>{c||delete r[d]}),Gs(r,c=>{Si.configure(this,c,c.options),Si.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((a,i)=>a.index-i.index),r>t){for(let a=t;a<r;++a)this._destroyDatasetMeta(a);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Ow("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,a)=>{t.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,a;for(this._removeUnreferencedMetasets(),r=0,a=t.length;r<a;r++){const i=t[r];let c=this.getDatasetMeta(r);const d=i.type||this.config.type;if(c.type&&c.type!==d&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=d,c.indexAxis=i.indexAxis||L1(d,this.options),c.order=i.order||0,c.index=r,c.label=""+i.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const u=Oo.getController(d),{datasetElementType:f,dataElementType:m}=Vr.datasets[d];Object.assign(u,{dataElementType:Oo.getElement(m),datasetElementType:f&&Oo.getElement(f)}),c.controller=new u(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Gs(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:b}=this.getDatasetMeta(f),y=!a&&i.indexOf(b)===-1;b.buildOrUpdateElements(y),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),a||Gs(i,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ow("z","_idx"));const{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Gs(this.scales,e=>{Si.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!G5(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:a,count:i}of t){const c=r==="_removeElements"?-i:i;SR(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=i=>new Set(e.filter(c=>c[0]===i).map((c,d)=>d+","+c.splice(1).join(","))),a=r(0);for(let i=1;i<t;i++)if(!G5(a,r(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Si.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Gs(this.boxes,a=>{r&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Dc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),a={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(r.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vl.has(this)?this.attached&&!vl.running(this)&&vl.start(this):(this.draw(),Dw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let a,i;for(a=0,i=t.length;a<i;++a){const c=t[a];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},a=l3(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(a&&vp(t,a),e.controller.draw(),a&&wp(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ef(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,a){const i=jM.modes[t];return typeof i=="function"?i(this,e,r,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let a=r.filter(i=>i&&i._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(a)),a}getContext(){return this.$context||(this.$context=Id(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const a=r?"show":"hide",i=this.getDatasetMeta(e),c=i.controller._resolveAnimations(void 0,a);Af(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(i,{visible:r}),this.update(d=>d.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),vl.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),rw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete I0[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(i,c)=>{t.addEventListener(this,i,c),e[i]=c},a=(i,c,d)=>{i.offsetX=c,i.offsetY=d,this._eventHandler(i)};Gs(this.options.events,i=>r(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(u,f)=>{t.addEventListener(this,u,f),e[u]=f},a=(u,f)=>{e[u]&&(t.removeEventListener(this,u,f),delete e[u])},i=(u,f)=>{this.canvas&&this.resize(u,f)};let c;const d=()=>{a("attach",d),this.attached=!0,this.resize(),r("resize",i),r("detach",c)};c=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),r("attach",d)},t.isAttached(this.canvas)?d():c()}unbindEvents(){Gs(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Gs(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const a=r?"set":"remove";let i,c,d,u;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),d=0,u=e.length;d<u;++d){c=e[d];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:i,index:c})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[c],index:c}});!J0(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const a=this.options.hover,i=(u,f)=>u.filter(m=>!f.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),c=i(t,e),d=r?e:i(e,t);c.length&&this.updateHoverStyle(c,a.mode,!1),d.length&&a.mode&&this.updateHoverStyle(d,a.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,a)===!1)return;const i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,a),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:a=[],options:i}=this,c=t,d=this._getActiveElements(e,a,r,c),u=kP(e),f=_R(e,this._lastEvent,r,u);r&&(this._lastEvent=null,or(i.onHover,[e,d,this],this),u&&or(i.onClick,[e,d,this],this));const m=!J0(d,a);return(m||t)&&(this._active=d,this._updateHoverStyles(d,a,t)),this._lastEvent=f,m}_getActiveElements(e,t,r,a){if(e.type==="mouseout")return[];if(!r)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function Fw(){return Gs(Wf.instances,s=>s._plugins.invalidate())}function kR(s,e,t){const{startAngle:r,x:a,y:i,outerRadius:c,innerRadius:d,options:u}=e,{borderWidth:f,borderJoinStyle:m}=u,b=Math.min(f/c,Ha(r-t));if(s.beginPath(),s.arc(a,i,c-f/2,r+b/2,t-b/2),d>0){const y=Math.min(f/d,Ha(r-t));s.arc(a,i,d+f/2,t-y/2,r+y/2,!0)}else{const y=Math.min(f/2,c*Ha(r-t));if(m==="round")s.arc(a,i,y,t-Ks/2,r+Ks/2,!0);else if(m==="bevel"){const x=2*y*y,j=-x*Math.cos(t+Ks/2)+a,S=-x*Math.sin(t+Ks/2)+i,A=x*Math.cos(r+Ks/2)+a,k=x*Math.sin(r+Ks/2)+i;s.lineTo(j,S),s.lineTo(A,k)}}s.closePath(),s.moveTo(0,0),s.rect(0,0,s.canvas.width,s.canvas.height),s.clip("evenodd")}function AR(s,e,t){const{startAngle:r,pixelMargin:a,x:i,y:c,outerRadius:d,innerRadius:u}=e;let f=a/d;s.beginPath(),s.arc(i,c,d,r-f,t+f),u>a?(f=a/u,s.arc(i,c,u,t+f,r-f,!0)):s.arc(i,c,a,t+un,r-un),s.closePath(),s.clip()}function CR(s){return py(s,["outerStart","outerEnd","innerStart","innerEnd"])}function LR(s,e,t,r){const a=CR(s.options.borderRadius),i=(t-e)/2,c=Math.min(i,r*e/2),d=u=>{const f=(t-Math.min(i,u))*r/2;return Xn(u,0,Math.min(i,f))};return{outerStart:d(a.outerStart),outerEnd:d(a.outerEnd),innerStart:Xn(a.innerStart,0,c),innerEnd:Xn(a.innerEnd,0,c)}}function ju(s,e,t,r){return{x:t+s*Math.cos(e),y:r+s*Math.sin(e)}}function rp(s,e,t,r,a,i){const{x:c,y:d,startAngle:u,pixelMargin:f,innerRadius:m}=e,b=Math.max(e.outerRadius+r+t-f,0),y=m>0?m+r+t+f:0;let x=0;const j=a-u;if(r){const oe=m>0?m-r:0,Z=b>0?b-r:0,se=(oe+Z)/2,ee=se!==0?j*se/(se+r):j;x=(j-ee)/2}const S=Math.max(.001,j*b-t/Ks)/b,A=(j-S)/2,k=u+A+x,P=a-A-x,{outerStart:M,outerEnd:F,innerStart:B,innerEnd:ae}=LR(e,y,b,P-k),Y=b-M,E=b-F,I=k+M/Y,$=P-F/E,R=y+B,q=y+ae,ie=k+B/R,K=P-ae/q;if(s.beginPath(),i){const oe=(I+$)/2;if(s.arc(c,d,b,I,oe),s.arc(c,d,b,oe,$),F>0){const pe=ju(E,$,c,d);s.arc(pe.x,pe.y,F,$,P+un)}const Z=ju(q,P,c,d);if(s.lineTo(Z.x,Z.y),ae>0){const pe=ju(q,K,c,d);s.arc(pe.x,pe.y,ae,P+un,K+Math.PI)}const se=(P-ae/y+(k+B/y))/2;if(s.arc(c,d,y,P-ae/y,se,!0),s.arc(c,d,y,se,k+B/y,!0),B>0){const pe=ju(R,ie,c,d);s.arc(pe.x,pe.y,B,ie+Math.PI,k-un)}const ee=ju(Y,k,c,d);if(s.lineTo(ee.x,ee.y),M>0){const pe=ju(Y,I,c,d);s.arc(pe.x,pe.y,M,k-un,I)}}else{s.moveTo(c,d);const oe=Math.cos(I)*b+c,Z=Math.sin(I)*b+d;s.lineTo(oe,Z);const se=Math.cos($)*b+c,ee=Math.sin($)*b+d;s.lineTo(se,ee)}s.closePath()}function ER(s,e,t,r,a){const{fullCircles:i,startAngle:c,circumference:d}=e;let u=e.endAngle;if(i){rp(s,e,t,r,u,a);for(let f=0;f<i;++f)s.fill();isNaN(d)||(u=c+(d%_r||_r))}return rp(s,e,t,r,u,a),s.fill(),u}function PR(s,e,t,r,a){const{fullCircles:i,startAngle:c,circumference:d,options:u}=e,{borderWidth:f,borderJoinStyle:m,borderDash:b,borderDashOffset:y,borderRadius:x}=u,j=u.borderAlign==="inner";if(!f)return;s.setLineDash(b||[]),s.lineDashOffset=y,j?(s.lineWidth=f*2,s.lineJoin=m||"round"):(s.lineWidth=f,s.lineJoin=m||"bevel");let S=e.endAngle;if(i){rp(s,e,t,r,S,a);for(let A=0;A<i;++A)s.stroke();isNaN(d)||(S=c+(d%_r||_r))}j&&AR(s,e,S),u.selfJoin&&S-c>=Ks&&x===0&&m!=="miter"&&kR(s,e,S),i||(rp(s,e,t,r,S,a),s.stroke())}class w3 extends Rl{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const a=this.getProps(["x","y"],r),{angle:i,distance:c}=W4(a,{x:e,y:t}),{startAngle:d,endAngle:u,innerRadius:f,outerRadius:m,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),y=(this.options.spacing+this.options.borderWidth)/2,x=us(b,u-d),j=Lf(i,d,u)&&d!==u,S=x>=_r||j,A=Al(c,f+y,m+y);return S&&A}getCenterPoint(e){const{x:t,y:r,startAngle:a,endAngle:i,innerRadius:c,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:f}=this.options,m=(a+i)/2,b=(c+d+f+u)/2;return{x:t+Math.cos(m)*b,y:r+Math.sin(m)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,a=(t.offset||0)/4,i=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>_r?Math.floor(r/_r):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*a,Math.sin(d)*a);const u=1-Math.sin(Math.min(Ks,r||0)),f=a*u;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,ER(e,this,f,i,c),PR(e,this,f,i,c),e.restore()}}function j3(s,e,t=e){s.lineCap=us(t.borderCapStyle,e.borderCapStyle),s.setLineDash(us(t.borderDash,e.borderDash)),s.lineDashOffset=us(t.borderDashOffset,e.borderDashOffset),s.lineJoin=us(t.borderJoinStyle,e.borderJoinStyle),s.lineWidth=us(t.borderWidth,e.borderWidth),s.strokeStyle=us(t.borderColor,e.borderColor)}function TR(s,e,t){s.lineTo(t.x,t.y)}function MR(s){return s.stepped?QP:s.tension||s.cubicInterpolationMode==="monotone"?eT:TR}function N3(s,e,t={}){const r=s.length,{start:a=0,end:i=r-1}=t,{start:c,end:d}=e,u=Math.max(a,c),f=Math.min(i,d),m=a<c&&i<c||a>d&&i>d;return{count:r,start:u,loop:e.loop,ilen:f<u&&!m?r+f-u:f-u}}function RR(s,e,t,r){const{points:a,options:i}=e,{count:c,start:d,loop:u,ilen:f}=N3(a,t,r),m=MR(i);let{move:b=!0,reverse:y}=r||{},x,j,S;for(x=0;x<=f;++x)j=a[(d+(y?f-x:x))%c],!j.skip&&(b?(s.moveTo(j.x,j.y),b=!1):m(s,S,j,y,i.stepped),S=j);return u&&(j=a[(d+(y?f:0))%c],m(s,S,j,y,i.stepped)),!!u}function OR(s,e,t,r){const a=e.points,{count:i,start:c,ilen:d}=N3(a,t,r),{move:u=!0,reverse:f}=r||{};let m=0,b=0,y,x,j,S,A,k;const P=F=>(c+(f?d-F:F))%i,M=()=>{S!==A&&(s.lineTo(m,A),s.lineTo(m,S),s.lineTo(m,k))};for(u&&(x=a[P(0)],s.moveTo(x.x,x.y)),y=0;y<=d;++y){if(x=a[P(y)],x.skip)continue;const F=x.x,B=x.y,ae=F|0;ae===j?(B<S?S=B:B>A&&(A=B),m=(b*m+F)/++b):(M(),s.lineTo(F,B),j=ae,b=0,S=A=B),k=B}M()}function P1(s){const e=s.options,t=e.borderDash&&e.borderDash.length;return!s._decimated&&!s._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?OR:RR}function DR(s){return s.stepped?TT:s.tension||s.cubicInterpolationMode==="monotone"?MT:yd}function IR(s,e,t,r){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,r)&&a.closePath()),j3(s,e.options),s.stroke(a)}function FR(s,e,t,r){const{segments:a,options:i}=e,c=P1(e);for(const d of a)j3(s,i,d.style),s.beginPath(),c(s,e,d,{start:t,end:t+r-1})&&s.closePath(),s.stroke()}const BR=typeof Path2D=="function";function zR(s,e,t,r){BR&&!e.options.segment?IR(s,e,t,r):FR(s,e,t,r)}class Vf extends Rl{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const a=r.spanGaps?this._loop:this._fullLoop;ST(this._points,r,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=BT(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,a=e[t],i=this.points,c=o3(this,{property:t,start:a,end:a});if(!c.length)return;const d=[],u=DR(r);let f,m;for(f=0,m=c.length;f<m;++f){const{start:b,end:y}=c[f],x=i[b],j=i[y];if(x===j){d.push(x);continue}const S=Math.abs((a-x[t])/(j[t]-x[t])),A=u(x,j,S,r.stepped);A[t]=e[t],d.push(A)}return d.length===1?d[0]:d}pathSegment(e,t,r){return P1(this)(e,this,t,r)}path(e,t,r){const a=this.segments,i=P1(this);let c=this._loop;t=t||0,r=r||this.points.length-t;for(const d of a)c&=i(e,this,d,{start:t,end:t+r-1});return!!c}draw(e,t,r,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),zR(e,this,r,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Bw(s,e,t,r){const a=s.options,{[t]:i}=s.getProps([t],r);return Math.abs(e-i)<a.radius+a.hitRadius}class S3 extends Rl{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const a=this.options,{x:i,y:c}=this.getProps(["x","y"],r);return Math.pow(e-i,2)+Math.pow(t-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Bw(this,e,"x",t)}inYRange(e,t){return Bw(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Ef(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,C1(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function _3(s,e){const{x:t,y:r,base:a,width:i,height:c}=s.getProps(["x","y","base","width","height"],e);let d,u,f,m,b;return s.horizontal?(b=c/2,d=Math.min(t,a),u=Math.max(t,a),f=r-b,m=r+b):(b=i/2,d=t-b,u=t+b,f=Math.min(r,a),m=Math.max(r,a)),{left:d,top:f,right:u,bottom:m}}function Pc(s,e,t,r){return s?0:Xn(e,t,r)}function UR(s,e,t){const r=s.options.borderWidth,a=s.borderSkipped,i=J4(r);return{t:Pc(a.top,i.top,0,t),r:Pc(a.right,i.right,0,e),b:Pc(a.bottom,i.bottom,0,t),l:Pc(a.left,i.left,0,e)}}function qR(s,e,t){const{enableBorderRadius:r}=s.getProps(["enableBorderRadius"]),a=s.options.borderRadius,i=Mu(a),c=Math.min(e,t),d=s.borderSkipped,u=r||Ss(a);return{topLeft:Pc(!u||d.top||d.left,i.topLeft,0,c),topRight:Pc(!u||d.top||d.right,i.topRight,0,c),bottomLeft:Pc(!u||d.bottom||d.left,i.bottomLeft,0,c),bottomRight:Pc(!u||d.bottom||d.right,i.bottomRight,0,c)}}function HR(s){const e=_3(s),t=e.right-e.left,r=e.bottom-e.top,a=UR(s,t/2,r/2),i=qR(s,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:r-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function zx(s,e,t,r){const a=e===null,i=t===null,d=s&&!(a&&i)&&_3(s,r);return d&&(a||Al(e,d.left,d.right))&&(i||Al(t,d.top,d.bottom))}function WR(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function VR(s,e){s.rect(e.x,e.y,e.w,e.h)}function Ux(s,e,t={}){const r=s.x!==t.x?-e:0,a=s.y!==t.y?-e:0,i=(s.x+s.w!==t.x+t.w?e:0)-r,c=(s.y+s.h!==t.y+t.h?e:0)-a;return{x:s.x+r,y:s.y+a,w:s.w+i,h:s.h+c,radius:s.radius}}class k3 extends Rl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:a}}=this,{inner:i,outer:c}=HR(this),d=WR(c.radius)?ep:VR;e.save(),(c.w!==i.w||c.h!==i.h)&&(e.beginPath(),d(e,Ux(c,t,i)),e.clip(),d(e,Ux(i,-t,c)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),d(e,Ux(i,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,r){return zx(this,e,t,r)}inXRange(e,t){return zx(this,e,null,t)}inYRange(e,t){return zx(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+a)/2:t,y:i?r:(r+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function $R(s,e,t){const r=s.segments,a=s.points,i=e.points,c=[];for(const d of r){let{start:u,end:f}=d;f=_p(u,f,a);const m=T1(t,a[u],a[f],d.loop);if(!e.segments){c.push({source:d,target:m,start:a[u],end:a[f]});continue}const b=o3(e,m);for(const y of b){const x=T1(t,i[y.start],i[y.end],y.loop),j=i3(d,a,x);for(const S of j)c.push({source:S,target:y,start:{[t]:zw(m,x,"start",Math.max)},end:{[t]:zw(m,x,"end",Math.min)}})}}return c}function T1(s,e,t,r){if(r)return;let a=e[s],i=t[s];return s==="angle"&&(a=Ha(a),i=Ha(i)),{property:s,start:a,end:i}}function GR(s,e){const{x:t=null,y:r=null}=s||{},a=e.points,i=[];return e.segments.forEach(({start:c,end:d})=>{d=_p(c,d,a);const u=a[c],f=a[d];r!==null?(i.push({x:u.x,y:r}),i.push({x:f.x,y:r})):t!==null&&(i.push({x:t,y:u.y}),i.push({x:t,y:f.y}))}),i}function _p(s,e,t){for(;e>s;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function zw(s,e,t,r){return s&&e?r(s[t],e[t]):s?s[t]:e?e[t]:0}function A3(s,e){let t=[],r=!1;return Zr(s)?(r=!0,t=s):t=GR(s,e),t.length?new Vf({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Uw(s){return s&&s.fill!==!1}function YR(s,e,t){let a=s[e].fill;const i=[e];let c;if(!t)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Zn(a))return a;if(c=s[a],!c)return!1;if(c.visible)return a;i.push(a),a=c.fill}return!1}function KR(s,e,t){const r=QR(s);if(Ss(r))return isNaN(r.value)?!1:r;let a=parseFloat(r);return Zn(a)&&Math.floor(a)===a?XR(r[0],e,a,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function XR(s,e,t,r){return(s==="-"||s==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function JR(s,e){let t=null;return s==="start"?t=e.bottom:s==="end"?t=e.top:Ss(s)?t=e.getPixelForValue(s.value):e.getBasePixel&&(t=e.getBasePixel()),t}function ZR(s,e,t){let r;return s==="start"?r=t:s==="end"?r=e.options.reverse?e.min:e.max:Ss(s)?r=s.value:r=e.getBaseValue(),r}function QR(s){const e=s.options,t=e.fill;let r=us(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function eO(s){const{scale:e,index:t,line:r}=s,a=[],i=r.segments,c=r.points,d=tO(e,t);d.push(A3({x:null,y:e.bottom},r));for(let u=0;u<i.length;u++){const f=i[u];for(let m=f.start;m<=f.end;m++)sO(a,c[m],d)}return new Vf({points:a,options:{}})}function tO(s,e){const t=[],r=s.getMatchingVisibleMetas("line");for(let a=0;a<r.length;a++){const i=r[a];if(i.index===e)break;i.hidden||t.unshift(i.dataset)}return t}function sO(s,e,t){const r=[];for(let a=0;a<t.length;a++){const i=t[a],{first:c,last:d,point:u}=rO(i,e,"x");if(!(!u||c&&d)){if(c)r.unshift(u);else if(s.push(u),!d)break}}s.push(...r)}function rO(s,e,t){const r=s.interpolate(e,t);if(!r)return{};const a=r[t],i=s.segments,c=s.points;let d=!1,u=!1;for(let f=0;f<i.length;f++){const m=i[f],b=c[m.start][t],y=c[m.end][t];if(Al(a,b,y)){d=a===b,u=a===y;break}}return{first:d,last:u,point:r}}class C3{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:a,y:i,radius:c}=this;return t=t||{start:0,end:_r},e.arc(a,i,c,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:a}=this,i=e.angle;return{x:t+Math.cos(i)*a,y:r+Math.sin(i)*a,angle:i}}}function nO(s){const{chart:e,fill:t,line:r}=s;if(Zn(t))return aO(e,t);if(t==="stack")return eO(s);if(t==="shape")return!0;const a=iO(s);return a instanceof C3?a:A3(a,r)}function aO(s,e){const t=s.getDatasetMeta(e);return t&&s.isDatasetVisible(e)?t.dataset:null}function iO(s){return(s.scale||{}).getPointPositionForValue?lO(s):oO(s)}function oO(s){const{scale:e={},fill:t}=s,r=JR(t,e);if(Zn(r)){const a=e.isHorizontal();return{x:a?r:null,y:a?null:r}}return null}function lO(s){const{scale:e,fill:t}=s,r=e.options,a=e.getLabels().length,i=r.reverse?e.max:e.min,c=ZR(t,e,i),d=[];if(r.grid.circular){const u=e.getPointPositionForValue(0,i);return new C3({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(c)})}for(let u=0;u<a;++u)d.push(e.getPointPositionForValue(u,c));return d}function qx(s,e,t){const r=nO(e),{chart:a,index:i,line:c,scale:d,axis:u}=e,f=c.options,m=f.fill,b=f.backgroundColor,{above:y=b,below:x=b}=m||{},j=a.getDatasetMeta(i),S=l3(a,j);r&&c.points.length&&(vp(s,t),cO(s,{line:c,target:r,above:y,below:x,area:t,scale:d,axis:u,clip:S}),wp(s))}function cO(s,e){const{line:t,target:r,above:a,below:i,area:c,scale:d,clip:u}=e,f=t._loop?"angle":e.axis;s.save();let m=i;i!==a&&(f==="x"?(qw(s,r,c.top),Hx(s,{line:t,target:r,color:a,scale:d,property:f,clip:u}),s.restore(),s.save(),qw(s,r,c.bottom)):f==="y"&&(Hw(s,r,c.left),Hx(s,{line:t,target:r,color:i,scale:d,property:f,clip:u}),s.restore(),s.save(),Hw(s,r,c.right),m=a)),Hx(s,{line:t,target:r,color:m,scale:d,property:f,clip:u}),s.restore()}function qw(s,e,t){const{segments:r,points:a}=e;let i=!0,c=!1;s.beginPath();for(const d of r){const{start:u,end:f}=d,m=a[u],b=a[_p(u,f,a)];i?(s.moveTo(m.x,m.y),i=!1):(s.lineTo(m.x,t),s.lineTo(m.x,m.y)),c=!!e.pathSegment(s,d,{move:c}),c?s.closePath():s.lineTo(b.x,t)}s.lineTo(e.first().x,t),s.closePath(),s.clip()}function Hw(s,e,t){const{segments:r,points:a}=e;let i=!0,c=!1;s.beginPath();for(const d of r){const{start:u,end:f}=d,m=a[u],b=a[_p(u,f,a)];i?(s.moveTo(m.x,m.y),i=!1):(s.lineTo(t,m.y),s.lineTo(m.x,m.y)),c=!!e.pathSegment(s,d,{move:c}),c?s.closePath():s.lineTo(t,b.y)}s.lineTo(t,e.first().y),s.closePath(),s.clip()}function Hx(s,e){const{line:t,target:r,property:a,color:i,scale:c,clip:d}=e,u=$R(t,r,a);for(const{source:f,target:m,start:b,end:y}of u){const{style:{backgroundColor:x=i}={}}=f,j=r!==!0;s.save(),s.fillStyle=x,dO(s,c,d,j&&T1(a,b,y)),s.beginPath();const S=!!t.pathSegment(s,f);let A;if(j){S?s.closePath():Ww(s,r,y,a);const k=!!r.pathSegment(s,m,{move:S,reverse:!0});A=S&&k,A||Ww(s,r,b,a)}s.closePath(),s.fill(A?"evenodd":"nonzero"),s.restore()}}function dO(s,e,t,r){const a=e.chart.chartArea,{property:i,start:c,end:d}=r||{};if(i==="x"||i==="y"){let u,f,m,b;i==="x"?(u=c,f=a.top,m=d,b=a.bottom):(u=a.left,f=c,m=a.right,b=d),s.beginPath(),t&&(u=Math.max(u,t.left),m=Math.min(m,t.right),f=Math.max(f,t.top),b=Math.min(b,t.bottom)),s.rect(u,f,m-u,b-f),s.clip()}}function Ww(s,e,t,r){const a=e.interpolate(t,r);a&&s.lineTo(a.x,a.y)}var L3={id:"filler",afterDatasetsUpdate(s,e,t){const r=(s.data.datasets||[]).length,a=[];let i,c,d,u;for(c=0;c<r;++c)i=s.getDatasetMeta(c),d=i.dataset,u=null,d&&d.options&&d instanceof Vf&&(u={visible:s.isDatasetVisible(c),index:c,fill:KR(d,c,r),chart:s,axis:i.controller.options.indexAxis,scale:i.vScale,line:d}),i.$filler=u,a.push(u);for(c=0;c<r;++c)u=a[c],!(!u||u.fill===!1)&&(u.fill=YR(a,c,t.propagate))},beforeDraw(s,e,t){const r=t.drawTime==="beforeDraw",a=s.getSortedVisibleDatasetMetas(),i=s.chartArea;for(let c=a.length-1;c>=0;--c){const d=a[c].$filler;d&&(d.line.updateControlPoints(i,d.axis),r&&d.fill&&qx(s.ctx,d,i))}},beforeDatasetsDraw(s,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=s.getSortedVisibleDatasetMetas();for(let a=r.length-1;a>=0;--a){const i=r[a].$filler;Uw(i)&&qx(s.ctx,i,s.chartArea)}},beforeDatasetDraw(s,e,t){const r=e.meta.$filler;!Uw(r)||t.drawTime!=="beforeDatasetDraw"||qx(s.ctx,r,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Vw=(s,e)=>{let{boxHeight:t=e,boxWidth:r=e}=s;return s.usePointStyle&&(t=Math.min(t,e),r=s.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},uO=(s,e)=>s!==null&&e!==null&&s.datasetIndex===e.datasetIndex&&s.index===e.index;class $w extends Rl{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=or(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,a)=>e.sort(r,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,a=Jn(r.font),i=a.size,c=this._computeTitleHeight(),{boxWidth:d,itemHeight:u}=Vw(r,i);let f,m;t.font=a.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,i,d,u)+10):(m=this.maxHeight,f=this._fitCols(c,a,d,u)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,a){const{ctx:i,maxWidth:c,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],m=a+d;let b=e;i.textAlign="left",i.textBaseline="middle";let y=-1,x=-m;return this.legendItems.forEach((j,S)=>{const A=r+t/2+i.measureText(j.text).width;(S===0||f[f.length-1]+A+2*d>c)&&(b+=m,f[f.length-(S>0?0:1)]=0,x+=m,y++),u[S]={left:0,top:x,row:y,width:A,height:a},f[f.length-1]+=A+d}),b}_fitCols(e,t,r,a){const{ctx:i,maxHeight:c,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-e;let b=d,y=0,x=0,j=0,S=0;return this.legendItems.forEach((A,k)=>{const{itemWidth:P,itemHeight:M}=hO(r,t,i,A,a);k>0&&x+M+2*d>m&&(b+=y+d,f.push({width:y,height:x}),j+=y+d,S++,y=x=0),u[k]={left:j,top:x,col:S,width:P,height:M},y=Math.max(y,P),x+=M+d}),b+=y,f.push({width:y,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:a},rtl:i}}=this,c=Ru(i,this.left,this.width);if(this.isHorizontal()){let d=0,u=Gn(r,this.left+a,this.right-this.lineWidths[d]);for(const f of t)d!==f.row&&(d=f.row,u=Gn(r,this.left+a,this.right-this.lineWidths[d])),f.top+=this.top+e+a,f.left=c.leftForLtr(c.x(u),f.width),u+=f.width+a}else{let d=0,u=Gn(r,this.top+e+a,this.bottom-this.columnSizes[d].height);for(const f of t)f.col!==d&&(d=f.col,u=Gn(r,this.top+e+a,this.bottom-this.columnSizes[d].height)),f.top=u,f.left+=this.left+a,f.left=c.leftForLtr(c.x(f.left),f.width),u+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;vp(e,this),this._draw(),wp(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:a}=this,{align:i,labels:c}=e,d=Vr.color,u=Ru(e.rtl,this.left,this.width),f=Jn(c.font),{padding:m}=c,b=f.size,y=b/2;let x;this.drawTitle(),a.textAlign=u.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:j,boxHeight:S,itemHeight:A}=Vw(c,b),k=function(ae,Y,E){if(isNaN(j)||j<=0||isNaN(S)||S<0)return;a.save();const I=us(E.lineWidth,1);if(a.fillStyle=us(E.fillStyle,d),a.lineCap=us(E.lineCap,"butt"),a.lineDashOffset=us(E.lineDashOffset,0),a.lineJoin=us(E.lineJoin,"miter"),a.lineWidth=I,a.strokeStyle=us(E.strokeStyle,d),a.setLineDash(us(E.lineDash,[])),c.usePointStyle){const $={radius:S*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:I},R=u.xPlus(ae,j/2),q=Y+y;X4(a,$,R,q,c.pointStyleWidth&&j)}else{const $=Y+Math.max((b-S)/2,0),R=u.leftForLtr(ae,j),q=Mu(E.borderRadius);a.beginPath(),Object.values(q).some(ie=>ie!==0)?ep(a,{x:R,y:$,w:j,h:S,radius:q}):a.rect(R,$,j,S),a.fill(),I!==0&&a.stroke()}a.restore()},P=function(ae,Y,E){Pf(a,E.text,ae,Y+A/2,f,{strikethrough:E.hidden,textAlign:u.textAlign(E.textAlign)})},M=this.isHorizontal(),F=this._computeTitleHeight();M?x={x:Gn(i,this.left+m,this.right-r[0]),y:this.top+m+F,line:0}:x={x:this.left+m,y:Gn(i,this.top+F+m,this.bottom-t[0].height),line:0},r3(this.ctx,e.textDirection);const B=A+m;this.legendItems.forEach((ae,Y)=>{a.strokeStyle=ae.fontColor,a.fillStyle=ae.fontColor;const E=a.measureText(ae.text).width,I=u.textAlign(ae.textAlign||(ae.textAlign=c.textAlign)),$=j+y+E;let R=x.x,q=x.y;u.setWidth(this.width),M?Y>0&&R+$+m>this.right&&(q=x.y+=B,x.line++,R=x.x=Gn(i,this.left+m,this.right-r[x.line])):Y>0&&q+B>this.bottom&&(R=x.x=R+t[x.line].width+m,x.line++,q=x.y=Gn(i,this.top+F+m,this.bottom-t[x.line].height));const ie=u.x(R);if(k(ie,q,ae),R=zP(I,R+j+y,M?R+$:this.right,e.rtl),P(u.x(R),q,ae),M)x.x+=$+m;else if(typeof ae.text!="string"){const K=f.lineHeight;x.y+=E3(ae,K)+m}else x.y+=B}),n3(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Jn(t.font),a=Ci(t.padding);if(!t.display)return;const i=Ru(e.rtl,this.left,this.width),c=this.ctx,d=t.position,u=r.size/2,f=a.top+u;let m,b=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),m=this.top+f,b=Gn(e.align,b,this.right-y);else{const j=this.columnSizes.reduce((S,A)=>Math.max(S,A.height),0);m=f+Gn(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const x=Gn(d,b,b+y);c.textAlign=i.textAlign(hy(d)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=r.string,Pf(c,t.text,x,m,r)}_computeTitleHeight(){const e=this.options.title,t=Jn(e.font),r=Ci(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,a,i;if(Al(e,this.left,this.right)&&Al(t,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(a=i[r],Al(e,a.left,a.left+a.width)&&Al(t,a.top,a.top+a.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!pO(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=uO(a,r);a&&!i&&or(t.onLeave,[e,a,this],this),this._hoveredItem=r,r&&!i&&or(t.onHover,[e,r,this],this)}else r&&or(t.onClick,[e,r,this],this)}}function hO(s,e,t,r,a){const i=fO(r,s,e,t),c=mO(a,r,e.lineHeight);return{itemWidth:i,itemHeight:c}}function fO(s,e,t,r){let a=s.text;return a&&typeof a!="string"&&(a=a.reduce((i,c)=>i.length>c.length?i:c)),e+t.size/2+r.measureText(a).width}function mO(s,e,t){let r=s;return typeof e.text!="string"&&(r=E3(e,t)),r}function E3(s,e){const t=s.text?s.text.length:0;return e*t}function pO(s,e){return!!((s==="mousemove"||s==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(s==="click"||s==="mouseup"))}var P3={id:"legend",_element:$w,start(s,e,t){const r=s.legend=new $w({ctx:s.ctx,options:t,chart:s});Si.configure(s,r,t),Si.addBox(s,r)},stop(s){Si.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,e,t){const r=s.legend;Si.configure(s,r,t),r.options=t},afterUpdate(s){const e=s.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(s,e){e.replay||s.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,e,t){const r=e.datasetIndex,a=t.chart;a.isDatasetVisible(r)?(a.hide(r),e.hidden=!0):(a.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const e=s.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:a,color:i,useBorderRadius:c,borderRadius:d}}=s.legend.options;return s._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(t?0:void 0),m=Ci(f.borderWidth);return{text:e[u.index].label,fillStyle:f.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:c&&(d||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class T3 extends Rl{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const a=Zr(r.text)?r.text.length:1;this._padding=Ci(r.padding);const i=a*Jn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:a,right:i,options:c}=this,d=c.align;let u=0,f,m,b;return this.isHorizontal()?(m=Gn(d,r,i),b=t+e,f=i-r):(c.position==="left"?(m=r+e,b=Gn(d,a,t),u=Ks*-.5):(m=i-e,b=Gn(d,t,a),u=Ks*.5),f=a-t),{titleX:m,titleY:b,maxWidth:f,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Jn(t.font),i=r.lineHeight/2+this._padding.top,{titleX:c,titleY:d,maxWidth:u,rotation:f}=this._drawArgs(i);Pf(e,t.text,0,0,r,{color:t.color,maxWidth:u,rotation:f,textAlign:hy(t.align),textBaseline:"middle",translation:[c,d]})}}function gO(s,e){const t=new T3({ctx:s.ctx,options:e,chart:s});Si.configure(s,t,e),Si.addBox(s,t),s.titleBlock=t}var M3={id:"title",_element:T3,start(s,e,t){gO(s,t)},stop(s){const e=s.titleBlock;Si.removeBox(s,e),delete s.titleBlock},beforeUpdate(s,e,t){const r=s.titleBlock;Si.configure(s,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tf={average(s){if(!s.length)return!1;let e,t,r=new Set,a=0,i=0;for(e=0,t=s.length;e<t;++e){const d=s[e].element;if(d&&d.hasValue()){const u=d.tooltipPosition();r.add(u.x),a+=u.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((d,u)=>d+u)/r.size,y:a/i}},nearest(s,e){if(!s.length)return!1;let t=e.x,r=e.y,a=Number.POSITIVE_INFINITY,i,c,d;for(i=0,c=s.length;i<c;++i){const u=s[i].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),m=k1(e,f);m<a&&(a=m,d=u)}}if(d){const u=d.tooltipPosition();t=u.x,r=u.y}return{x:t,y:r}}};function Ro(s,e){return e&&(Zr(e)?Array.prototype.push.apply(s,e):s.push(e)),s}function wl(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function xO(s,e){const{element:t,datasetIndex:r,index:a}=e,i=s.getDatasetMeta(r).controller,{label:c,value:d}=i.getLabelAndValue(a);return{chart:s,label:c,parsed:i.getParsed(a),raw:s.data.datasets[r].data[a],formattedValue:d,dataset:i.getDataset(),dataIndex:a,datasetIndex:r,element:t}}function Gw(s,e){const t=s.chart.ctx,{body:r,footer:a,title:i}=s,{boxWidth:c,boxHeight:d}=e,u=Jn(e.bodyFont),f=Jn(e.titleFont),m=Jn(e.footerFont),b=i.length,y=a.length,x=r.length,j=Ci(e.padding);let S=j.height,A=0,k=r.reduce((F,B)=>F+B.before.length+B.lines.length+B.after.length,0);if(k+=s.beforeBody.length+s.afterBody.length,b&&(S+=b*f.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),k){const F=e.displayColors?Math.max(d,u.lineHeight):u.lineHeight;S+=x*F+(k-x)*u.lineHeight+(k-1)*e.bodySpacing}y&&(S+=e.footerMarginTop+y*m.lineHeight+(y-1)*e.footerSpacing);let P=0;const M=function(F){A=Math.max(A,t.measureText(F).width+P)};return t.save(),t.font=f.string,Gs(s.title,M),t.font=u.string,Gs(s.beforeBody.concat(s.afterBody),M),P=e.displayColors?c+2+e.boxPadding:0,Gs(r,F=>{Gs(F.before,M),Gs(F.lines,M),Gs(F.after,M)}),P=0,t.font=m.string,Gs(s.footer,M),t.restore(),A+=j.width,{width:A,height:S}}function yO(s,e){const{y:t,height:r}=e;return t<r/2?"top":t>s.height-r/2?"bottom":"center"}function bO(s,e,t,r){const{x:a,width:i}=r,c=t.caretSize+t.caretPadding;if(s==="left"&&a+i+c>e.width||s==="right"&&a-i-c<0)return!0}function vO(s,e,t,r){const{x:a,width:i}=t,{width:c,chartArea:{left:d,right:u}}=s;let f="center";return r==="center"?f=a<=(d+u)/2?"left":"right":a<=i/2?f="left":a>=c-i/2&&(f="right"),bO(f,s,e,t)&&(f="center"),f}function Yw(s,e,t){const r=t.yAlign||e.yAlign||yO(s,t);return{xAlign:t.xAlign||e.xAlign||vO(s,e,t,r),yAlign:r}}function wO(s,e){let{x:t,width:r}=s;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function jO(s,e,t){let{y:r,height:a}=s;return e==="top"?r+=t:e==="bottom"?r-=a+t:r-=a/2,r}function Kw(s,e,t,r){const{caretSize:a,caretPadding:i,cornerRadius:c}=s,{xAlign:d,yAlign:u}=t,f=a+i,{topLeft:m,topRight:b,bottomLeft:y,bottomRight:x}=Mu(c);let j=wO(e,d);const S=jO(e,u,f);return u==="center"?d==="left"?j+=f:d==="right"&&(j-=f):d==="left"?j-=Math.max(m,y)+a:d==="right"&&(j+=Math.max(b,x)+a),{x:Xn(j,0,r.width-e.width),y:Xn(S,0,r.height-e.height)}}function j0(s,e,t){const r=Ci(t.padding);return e==="center"?s.x+s.width/2:e==="right"?s.x+s.width-r.right:s.x+r.left}function Xw(s){return Ro([],wl(s))}function NO(s,e,t){return Id(s,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Jw(s,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?s.override(t):s}const R3={beforeTitle:yl,title(s){if(s.length>0){const e=s[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:yl,beforeBody:yl,beforeLabel:yl,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let e=s.dataset.label||"";e&&(e+=": ");const t=s.formattedValue;return qs(t)||(e+=t),e},labelColor(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const t=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:yl,afterBody:yl,beforeFooter:yl,footer:yl,afterFooter:yl};function Sa(s,e,t,r){const a=s[e].call(t,r);return typeof a>"u"?R3[e].call(t,r):a}class Zw extends Rl{static positioners=tf;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),a=r.enabled&&t.options.animation&&r.animations,i=new c3(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=NO(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,a=Sa(r,"beforeTitle",this,e),i=Sa(r,"title",this,e),c=Sa(r,"afterTitle",this,e);let d=[];return d=Ro(d,wl(a)),d=Ro(d,wl(i)),d=Ro(d,wl(c)),d}getBeforeBody(e,t){return Xw(Sa(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,a=[];return Gs(e,i=>{const c={before:[],lines:[],after:[]},d=Jw(r,i);Ro(c.before,wl(Sa(d,"beforeLabel",this,i))),Ro(c.lines,Sa(d,"label",this,i)),Ro(c.after,wl(Sa(d,"afterLabel",this,i))),a.push(c)}),a}getAfterBody(e,t){return Xw(Sa(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,a=Sa(r,"beforeFooter",this,e),i=Sa(r,"footer",this,e),c=Sa(r,"afterFooter",this,e);let d=[];return d=Ro(d,wl(a)),d=Ro(d,wl(i)),d=Ro(d,wl(c)),d}_createItems(e){const t=this._active,r=this.chart.data,a=[],i=[],c=[];let d=[],u,f;for(u=0,f=t.length;u<f;++u)d.push(xO(this.chart,t[u]));return e.filter&&(d=d.filter((m,b,y)=>e.filter(m,b,y,r))),e.itemSort&&(d=d.sort((m,b)=>e.itemSort(m,b,r))),Gs(d,m=>{const b=Jw(e.callbacks,m);a.push(Sa(b,"labelColor",this,m)),i.push(Sa(b,"labelPointStyle",this,m)),c.push(Sa(b,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=c,this.dataPoints=d,d}update(e,t){const r=this.options.setContext(this.getContext()),a=this._active;let i,c=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const d=tf[r.position].call(this,a,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const u=this._size=Gw(this,r),f=Object.assign({},d,u),m=Yw(this.chart,r,f),b=Kw(r,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:b.x,y:b.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=c,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,a){const i=this.getCaretPosition(e,r,a);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){const{xAlign:a,yAlign:i}=this,{caretSize:c,cornerRadius:d}=r,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:b}=Mu(d),{x:y,y:x}=e,{width:j,height:S}=t;let A,k,P,M,F,B;return i==="center"?(F=x+S/2,a==="left"?(A=y,k=A-c,M=F+c,B=F-c):(A=y+j,k=A+c,M=F-c,B=F+c),P=A):(a==="left"?k=y+Math.max(u,m)+c:a==="right"?k=y+j-Math.max(f,b)-c:k=this.caretX,i==="top"?(M=x,F=M-c,A=k-c,P=k+c):(M=x+S,F=M+c,A=k+c,P=k-c),B=M),{x1:A,x2:k,x3:P,y1:M,y2:F,y3:B}}drawTitle(e,t,r){const a=this.title,i=a.length;let c,d,u;if(i){const f=Ru(r.rtl,this.x,this.width);for(e.x=j0(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",c=Jn(r.titleFont),d=r.titleSpacing,t.fillStyle=r.titleColor,t.font=c.string,u=0;u<i;++u)t.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+d,u+1===i&&(e.y+=r.titleMarginBottom-d)}}_drawColorBox(e,t,r,a,i){const c=this.labelColors[r],d=this.labelPointStyles[r],{boxHeight:u,boxWidth:f}=i,m=Jn(i.bodyFont),b=j0(this,"left",i),y=a.x(b),x=u<m.lineHeight?(m.lineHeight-u)/2:0,j=t.y+x;if(i.usePointStyle){const S={radius:Math.min(f,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},A=a.leftForLtr(y,f)+f/2,k=j+u/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,C1(e,S,A,k),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,C1(e,S,A,k)}else{e.lineWidth=Ss(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=a.leftForLtr(y,f),A=a.leftForLtr(a.xPlus(y,1),f-2),k=Mu(c.borderRadius);Object.values(k).some(P=>P!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,ep(e,{x:S,y:j,w:f,h:u,radius:k}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),ep(e,{x:A,y:j+1,w:f-2,h:u-2,radius:k}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(S,j,f,u),e.strokeRect(S,j,f,u),e.fillStyle=c.backgroundColor,e.fillRect(A,j+1,f-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:a}=this,{bodySpacing:i,bodyAlign:c,displayColors:d,boxHeight:u,boxWidth:f,boxPadding:m}=r,b=Jn(r.bodyFont);let y=b.lineHeight,x=0;const j=Ru(r.rtl,this.x,this.width),S=function(E){t.fillText(E,j.x(e.x+x),e.y+y/2),e.y+=y+i},A=j.textAlign(c);let k,P,M,F,B,ae,Y;for(t.textAlign=c,t.textBaseline="middle",t.font=b.string,e.x=j0(this,A,r),t.fillStyle=r.bodyColor,Gs(this.beforeBody,S),x=d&&A!=="right"?c==="center"?f/2+m:f+2+m:0,F=0,ae=a.length;F<ae;++F){for(k=a[F],P=this.labelTextColors[F],t.fillStyle=P,Gs(k.before,S),M=k.lines,d&&M.length&&(this._drawColorBox(t,e,F,j,r),y=Math.max(b.lineHeight,u)),B=0,Y=M.length;B<Y;++B)S(M[B]),y=b.lineHeight;Gs(k.after,S)}x=0,y=b.lineHeight,Gs(this.afterBody,S),e.y-=i}drawFooter(e,t,r){const a=this.footer,i=a.length;let c,d;if(i){const u=Ru(r.rtl,this.x,this.width);for(e.x=j0(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=u.textAlign(r.footerAlign),t.textBaseline="middle",c=Jn(r.footerFont),t.fillStyle=r.footerColor,t.font=c.string,d=0;d<i;++d)t.fillText(a[d],u.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,t,r,a){const{xAlign:i,yAlign:c}=this,{x:d,y:u}=e,{width:f,height:m}=r,{topLeft:b,topRight:y,bottomLeft:x,bottomRight:j}=Mu(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(d+b,u),c==="top"&&this.drawCaret(e,t,r,a),t.lineTo(d+f-y,u),t.quadraticCurveTo(d+f,u,d+f,u+y),c==="center"&&i==="right"&&this.drawCaret(e,t,r,a),t.lineTo(d+f,u+m-j),t.quadraticCurveTo(d+f,u+m,d+f-j,u+m),c==="bottom"&&this.drawCaret(e,t,r,a),t.lineTo(d+x,u+m),t.quadraticCurveTo(d,u+m,d,u+m-x),c==="center"&&i==="left"&&this.drawCaret(e,t,r,a),t.lineTo(d,u+b),t.quadraticCurveTo(d,u,d+b,u),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,a=r&&r.x,i=r&&r.y;if(a||i){const c=tf[e.position].call(this,this._active,this._eventPosition);if(!c)return;const d=this._size=Gw(this,e),u=Object.assign({},c,this._size),f=Yw(t,e,u),m=Kw(e,u,f,t);(a._to!==m.x||i._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=d.width,this.height=d.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Ci(t.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&d&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,a,t),r3(e,t.textDirection),i.y+=c.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),n3(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,a=e.map(({datasetIndex:d,index:u})=>{const f=this.chart.getDatasetMeta(d);if(!f)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:f.data[u],index:u}}),i=!J0(r,a),c=this._positionChanged(a,t);(i||c)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],c=this._getActiveElements(e,i,t,r),d=this._positionChanged(c,e),u=t||!J0(c,i)||d;return u&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,r,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:r,caretY:a,options:i}=this,c=tf[i.position].call(this,e,t);return c!==!1&&(r!==c.x||a!==c.y)}}var O3={id:"tooltip",_element:Zw,positioners:tf,afterInit(s,e,t){t&&(s.tooltip=new Zw({chart:s,options:t}))},beforeUpdate(s,e,t){s.tooltip&&s.tooltip.initialize(t)},reset(s,e,t){s.tooltip&&s.tooltip.initialize(t)},afterDraw(s){const e=s.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(s.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",t)}},afterEvent(s,e){if(s.tooltip){const t=e.replay;s.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,e)=>e.bodyFont.size,boxWidth:(s,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:R3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const SO=(s,e,t,r)=>(typeof e=="string"?(t=s.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function _O(s,e,t,r){const a=s.indexOf(e);if(a===-1)return SO(s,e,t,r);const i=s.lastIndexOf(e);return a!==i?t:a}const kO=(s,e)=>s===null?null:Xn(Math.round(s),0,e);function Qw(s){const e=this.getLabels();return s>=0&&s<e.length?e[s]:s}class D3 extends Yu{static id="category";static defaults={ticks:{callback:Qw}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:a,label:i}of t)r[a]===i&&r.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qs(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:_O(r,e,us(t,e),this._addedLabels),kO(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(a=this.getLabels().length-1)),this.min=r,this.max=a}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,a=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=t;c++)a.push({value:c});return a}getLabelForValue(e){return Qw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function AO(s,e){const t=[],{bounds:a,step:i,min:c,max:d,precision:u,count:f,maxTicks:m,maxDigits:b,includeBounds:y}=s,x=i||1,j=m-1,{min:S,max:A}=e,k=!qs(c),P=!qs(d),M=!qs(f),F=(A-S)/(b+1);let B=K5((A-S)/j/x)*x,ae,Y,E,I;if(B<1e-14&&!k&&!P)return[{value:S},{value:A}];I=Math.ceil(A/B)-Math.floor(S/B),I>j&&(B=K5(I*B/j/x)*x),qs(u)||(ae=Math.pow(10,u),B=Math.ceil(B*ae)/ae),a==="ticks"?(Y=Math.floor(S/B)*B,E=Math.ceil(A/B)*B):(Y=S,E=A),k&&P&&i&&PP((d-c)/i,B/1e3)?(I=Math.round(Math.min((d-c)/B,m)),B=(d-c)/I,Y=c,E=d):M?(Y=k?c:Y,E=P?d:E,I=f-1,B=(E-Y)/I):(I=(E-Y)/B,hf(I,Math.round(I),B/1e3)?I=Math.round(I):I=Math.ceil(I));const $=Math.max(X5(B),X5(Y));ae=Math.pow(10,qs(u)?$:u),Y=Math.round(Y*ae)/ae,E=Math.round(E*ae)/ae;let R=0;for(k&&(y&&Y!==c?(t.push({value:c}),Y<c&&R++,hf(Math.round((Y+R*B)*ae)/ae,c,ej(c,F,s))&&R++):Y<c&&R++);R<I;++R){const q=Math.round((Y+R*B)*ae)/ae;if(P&&q>d)break;t.push({value:q})}return P&&y&&E!==d?t.length&&hf(t[t.length-1].value,d,ej(d,F,s))?t[t.length-1].value=d:t.push({value:d}):(!P||E===d)&&t.push({value:E}),t}function ej(s,e,{horizontal:t,minRotation:r}){const a=kl(r),i=(t?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+s).length;return Math.min(e/i,c)}class CO extends Yu{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qs(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:a,max:i}=this;const c=u=>a=t?a:u,d=u=>i=r?i:u;if(e){const u=Bo(a),f=Bo(i);u<0&&f<0?d(0):u>0&&f>0&&c(0)}if(a===i){let u=i===0?1:Math.abs(i*.05);d(i+u),e||c(a-u)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,a;return r?(a=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const a={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,c=AO(a,i);return e.bounds==="ticks"&&TP(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const a=(r-t)/Math.max(e.length-1,1)/2;t-=a,r+=a}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return my(e,this.chart.options.locale,this.options.ticks.format)}}class I3 extends CO{static id="linear";static defaults={ticks:{callback:K4.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Zn(e)?e:0,this.max=Zn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=kl(this.options.ticks.minRotation),a=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const kp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ka=Object.keys(kp);function tj(s,e){return s-e}function sj(s,e){if(qs(e))return null;const t=s._adapter,{parser:r,round:a,isoWeekday:i}=s._parseOpts;let c=e;return typeof r=="function"&&(c=r(c)),Zn(c)||(c=typeof r=="string"?t.parse(c,r):t.parse(c)),c===null?null:(a&&(c=a==="week"&&(Cf(i)||i===!0)?t.startOf(c,"isoWeek",i):t.startOf(c,a)),+c)}function rj(s,e,t,r){const a=ka.length;for(let i=ka.indexOf(s);i<a-1;++i){const c=kp[ka[i]],d=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(d*c.size))<=r)return ka[i]}return ka[a-1]}function LO(s,e,t,r,a){for(let i=ka.length-1;i>=ka.indexOf(t);i--){const c=ka[i];if(kp[c].common&&s._adapter.diff(a,r,c)>=e-1)return c}return ka[t?ka.indexOf(t):0]}function EO(s){for(let e=ka.indexOf(s)+1,t=ka.length;e<t;++e)if(kp[ka[e]].common)return ka[e]}function nj(s,e,t){if(!t)s[e]=!0;else if(t.length){const{lo:r,hi:a}=uy(t,e),i=t[r]>=e?t[r]:t[a];s[i]=!0}}function PO(s,e,t,r){const a=s._adapter,i=+a.startOf(e[0].value,r),c=e[e.length-1].value;let d,u;for(d=i;d<=c;d=+a.add(d,1,r))u=t[d],u>=0&&(e[u].major=!0);return e}function aj(s,e,t){const r=[],a={},i=e.length;let c,d;for(c=0;c<i;++c)d=e[c],a[d]=c,r.push({value:d,major:!1});return i===0||!t?r:PO(s,r,a,t)}class ij extends Yu{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),a=this._adapter=new xM._date(e.adapters.date);a.init(t),uf(r.displayFormats,a.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:sj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:a,max:i,minDefined:c,maxDefined:d}=this.getUserBounds();function u(f){!c&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!d&&!isNaN(f.max)&&(i=Math.max(i,f.max))}(!c||!d)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),a=Zn(a)&&!isNaN(a)?a:+t.startOf(Date.now(),r),i=Zn(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,a=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,c=this.max,d=IP(a,i,c);return this._unit=t.unit||(r.autoSkip?rj(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):LO(this,d.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:EO(this._unit),this.initOffsets(a),e.reverse&&d.reverse(),aj(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Xn(t,0,c),r=Xn(r,0,c),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,a=this.options,i=a.time,c=i.unit||rj(i.minUnit,t,r,this._getLabelCapacity(t)),d=us(a.ticks.stepSize,1),u=c==="week"?i.isoWeekday:!1,f=Cf(u)||u===!0,m={};let b=t,y,x;if(f&&(b=+e.startOf(b,"isoWeek",u)),b=+e.startOf(b,f?"day":c),e.diff(r,t,c)>1e5*d)throw new Error(t+" and "+r+" are too far apart with stepSize of "+d+" "+c);const j=a.ticks.source==="data"&&this.getDataTimestamps();for(y=b,x=0;y<r;y=+e.add(y,d,c),x++)nj(m,y,j);return(y===r||a.bounds==="ticks"||x===1)&&nj(m,y,j),Object.keys(m).sort(tj).map(S=>+S)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,i=this._unit,c=t||a[i];return this._adapter.format(e,c)}_tickFormatFunction(e,t,r,a){const i=this.options,c=i.ticks.callback;if(c)return or(c,[e,t,r],this);const d=i.time.displayFormats,u=this._unit,f=this._majorUnit,m=u&&d[u],b=f&&d[f],y=r[t],x=f&&b&&y&&y.major;return this._adapter.format(e,a||(x?b:m))}generateTickLabels(e){let t,r,a;for(t=0,r=e.length;t<r;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,a=kl(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(a),c=Math.sin(a),d=this._resolveTickFontOptions(0).size;return{w:r*i+d*c,h:r*c+d*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,a=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,aj(this,[e],this._majorUnit),a),c=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return d>0?d:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,r=a.length;t<r;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const a=this.getLabels();for(t=0,r=a.length;t<r;++t)e.push(sj(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return $4(e.sort(tj))}}function N0(s,e,t){let r=0,a=s.length-1,i,c,d,u;t?(e>=s[r].pos&&e<=s[a].pos&&({lo:r,hi:a}=jd(s,"pos",e)),{pos:i,time:d}=s[r],{pos:c,time:u}=s[a]):(e>=s[r].time&&e<=s[a].time&&({lo:r,hi:a}=jd(s,"time",e)),{time:i,pos:d}=s[r],{time:c,pos:u}=s[a]);const f=c-i;return f?d+(u-d)*(e-i)/f:d}class HD extends ij{static id="timeseries";static defaults=ij.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=N0(t,this.min),this._tableRange=N0(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,a=[],i=[];let c,d,u,f,m;for(c=0,d=e.length;c<d;++c)f=e[c],f>=t&&f<=r&&a.push(f);if(a.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(c=0,d=a.length;c<d;++c)m=a[c+1],u=a[c-1],f=a[c],Math.round((m+u)/2)!==f&&i.push({time:f,pos:c/(d-1)});return i}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(N0(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return N0(this._table,r*this._tableRange+this._minPos,!0)}}const F3="label";function oj(s,e){typeof s=="function"?s(e):s&&(s.current=e)}function TO(s,e){const t=s.options;t&&e&&Object.assign(t,e)}function B3(s,e){s.labels=e}function z3(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F3;const r=[];s.datasets=e.map(a=>{const i=s.datasets.find(c=>c[t]===a[t]);return!i||!a.data||r.includes(i)?{...a}:(r.push(i),Object.assign(i,a),i)})}function MO(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F3;const t={labels:[],datasets:[]};return B3(t,s.labels),z3(t,s.datasets,e),t}function RO(s,e){const{height:t=150,width:r=300,redraw:a=!1,datasetIdKey:i,type:c,data:d,options:u,plugins:f=[],fallbackContent:m,updateMode:b,...y}=s,x=T.useRef(null),j=T.useRef(null),S=()=>{x.current&&(j.current=new Wf(x.current,{type:c,data:MO(d,i),options:u&&{...u},plugins:f}),oj(e,j.current))},A=()=>{oj(e,null),j.current&&(j.current.destroy(),j.current=null)};return T.useEffect(()=>{!a&&j.current&&u&&TO(j.current,u)},[a,u]),T.useEffect(()=>{!a&&j.current&&B3(j.current.config.data,d.labels)},[a,d.labels]),T.useEffect(()=>{!a&&j.current&&d.datasets&&z3(j.current.config.data,d.datasets,i)},[a,d.datasets]),T.useEffect(()=>{j.current&&(a?(A(),setTimeout(S)):j.current.update(b))},[a,u,d.labels,d.datasets,b]),T.useEffect(()=>{j.current&&(A(),setTimeout(S))},[c]),T.useEffect(()=>(S(),()=>A()),[]),Me.createElement("canvas",{ref:x,role:"img",height:t,width:r,...y},m)}const OO=T.forwardRef(RO);function jy(s,e){return Wf.register(e),T.forwardRef((t,r)=>Me.createElement(OO,{...t,ref:r,type:s}))}const U3=jy("line",gM),lj=jy("bar",fM),q3=jy("doughnut",pM),DO=Me.lazy(()=>Bn(()=>import("./AdminOrders-BmjcD6ze.js"),__vite__mapDeps([0,1]),import.meta.url)),IO=Me.lazy(()=>Bn(()=>import("./AdminMessages-Bz15IGyC.js"),__vite__mapDeps([2,3]),import.meta.url));Wf.register(D3,I3,S3,Vf,k3,M3,O3,P3,w3,L3);const FO=()=>{const{user:s}=Wu(),[e,t]=T.useState(!1),[r,a]=T.useState("dashboard"),[i,c]=T.useState(0),[d,u]=T.useState("7d"),{info:f}=cr(),[m,b]=T.useState(!1),[y,x]=T.useState(0),[j,S]=T.useState(!1),[A,k]=T.useState(0),[P,M]=T.useState(!1),[F,B]=T.useState(""),ae=5,[Y,E]=T.useState(0),[I,$]=T.useState([]),[R,q]=T.useState(!1),[ie,K]=T.useState(0),[oe,Z]=T.useState([]),[se,ee]=T.useState([]),[pe,Q]=T.useState(!1),[me,O]=T.useState(null),[V,te]=T.useState({title:"",content:"",type:"info",priority:"normal",targetAudience:"all",expiresAt:"",isActive:!0}),[he,fe]=T.useState([]),[ve,Ce]=T.useState({pending:0,approved:0,rejected:0,total:0}),[ue,Le]=T.useState(null),[Be,Ze]=T.useState(!1),[Fe,je]=T.useState("all"),[ne,lt]=T.useState(!1);T.useEffect(()=>{const _e=()=>{window.innerWidth>=1024?t(!0):t(!1)};return _e(),window.addEventListener("resize",_e),Do.startAutoRefresh(),()=>{window.removeEventListener("resize",_e),Do.stopAutoRefresh()}},[]),T.useEffect(()=>{let _e=!0,ht=new Set;const ss=async()=>{try{const{conversations:Cs}=await(await Bn(async()=>{const{default:ls}=await import("./chatService-Dmp2xPfZ.js");return{default:ls}},[],import.meta.url)).default.listConversations(),os=(await Bn(async()=>{const{default:ls}=await Promise.resolve().then(()=>X1);return{default:ls}},void 0,import.meta.url)).default.getUser(),{computeUnread:Zt}=(await Bn(async()=>{const{default:ls}=await import("./chatService-Dmp2xPfZ.js");return{default:ls}},[],import.meta.url)).default,vs=Zt(Cs,os?._id||os?.id);if(!_e)return;c(vs.total);for(const ls of Cs||[]){const _s=ls.lastMessage;if(_s&&String(_s.sender)!==String(os?._id||os?.id)){const Fs=`${ls._id}-${_s.at}`;ht.has(Fs)||(f(`New message from ${ls.participants?.find(Qn=>String(Qn._id)!==String(os?._id||os?.id))?.fullName||"a user"}`),ht.add(Fs))}}}catch{}};ss();const It=setInterval(ss,7e3);return()=>{_e=!1,clearInterval(It)}},[]),T.useEffect(()=>((()=>{so.getAnnouncements().length===0&&[{title:"System Maintenance Scheduled",content:"We will be performing system maintenance on Sunday, December 15th from 2:00 AM to 4:00 AM. During this time, the system may be temporarily unavailable.",type:"warning",priority:"high",targetAudience:"all",isActive:!0,createdBy:"Admin",expiresAt:new Date(Date.now()+6048e5).toISOString()},{title:"New Holiday Policy",content:"Please review the updated holiday policy for 2024. All staff members are required to submit their holiday requests by the end of this month.",type:"info",priority:"normal",targetAudience:"staff",isActive:!0,createdBy:"Admin"},{title:"Inventory Update Complete",content:"The quarterly inventory update has been completed successfully. All product counts have been verified and updated in the system.",type:"success",priority:"low",targetAudience:"all",isActive:!1,createdBy:"Admin"}].forEach(Cs=>{so.addAnnouncement(Cs)}),ee(so.getAnnouncements())})(),so.subscribe(ss=>{ee(ss)})),[]),T.useEffect(()=>{let _e=!1;const ht=async()=>{try{const Cs=(await Yn.list({page:1,limit:500}))?.data?.items||[],os=Cs.filter(vs=>{const{expired:ls,expiringSoon:_s}=jc(vs.expiryDate);return ls||_s}),Zt=Cs.filter(vs=>typeof vs.stock=="number"&&vs.stock<=ae);if(_e)return;if(E(os.length),$(os.slice(0,3).map(vs=>vs.name)),K(Zt.length),Z(Zt.slice(0,3).map(vs=>`${vs.name} (${vs.stock})`)),!R&&(os.length>0||Zt.length>0)){const vs=[];os.length>0&&vs.push(`${os.length} expiring ≤5 days`),Zt.length>0&&vs.push(`${Zt.length} low-stock (≤${ae})`),f&&f(`Inventory alerts: ${vs.join(" · ")}`,{duration:4500}),q(!0)}}catch{}};ht();const ss=setInterval(ht,60*1e3);return()=>{_e=!0,clearInterval(ss)}},[f,R,ae]),Mr();const{success:st,error:it}=cr(),{signOut:ze}=zu(),et=async()=>{try{st("Logging out... See you soon! 👋",{duration:2e3}),console.log("🔄 Starting logout process..."),await Ut.logout(),console.log("✅ Cleared backend session"),await ze(),console.log("✅ Signed out from Clerk"),Ut.clearAuthData(),console.log("✅ Cleared all auth data"),setTimeout(()=>{window.location.replace("/freshnest-frontend/login")},1500)}catch(_e){console.error("Logout error:",_e),it("Logout failed, but clearing session anyway",{duration:3e3});try{await ze()}catch(ht){console.error("Clerk signout error:",ht)}Ut.clearAuthData(),setTimeout(()=>{window.location.replace("/freshnest-frontend/login")},1500)}},qe=()=>{b(!0)},Nt=()=>{b(!1)},dt=_e=>{x(ht=>ht+1),b(!1)},Rt=()=>{S(!0)},ft=()=>{M(!0)},ut=()=>"Supplier Onboarding – Document Submission Request",_t=()=>["Hello,","","We are initiating your onboarding as a supplier with FreshNest. Please reply to this email with the following digital documents/details:","","1) Business Registration/License Number","2) GST/Tax Identification Number","3) Bank Details (Account name, number, IFSC/SWIFT)","4) Product Catalog (PDF/Sheet) and Pricing List","5) Quality Certifications (if any): ISO/HACCP/etc.","6) Delivery Terms & Lead Times","7) Primary Contact Details (Name, Email, Phone, Address)","","Optional: Any existing references or client list","","Thank you,","FreshNest Procurement Team"].join(`
`),Qe=()=>["Business Registration/License Number","GST/Tax Identification Number","Bank Details (Account name, number, IFSC/SWIFT)","Product Catalog and Pricing List","Quality Certifications (ISO/HACCP/etc.)","Delivery Terms & Lead Times","Primary Contact Details (Name, Email, Phone, Address)"],rt=()=>{const _e=ut(),ht=_t(),ss=F.trim(),Cs=`mailto:${ss||""}?subject=${encodeURIComponent(_e)}&body=${encodeURIComponent(ht)}`;window.location.href=Cs},[Pt,xt]=T.useState(!1),Ge=async()=>{try{xt(!0),await qa.sendOnboardingEmail({supplierId:"new",email:F||void 0,supplierName:"Supplier"}),f&&f("Onboarding email sent"),M(!1)}catch(_e){f&&f(_e.message||"Failed to send")}finally{xt(!1)}},at=()=>{S(!1)},ct=_e=>{k(ht=>ht+1),S(!1)},Mt=()=>{O(null),te({title:"",content:"",type:"info",priority:"normal",targetAudience:"all",expiresAt:"",isActive:!0}),Q(!0)},bs=_e=>{O(_e),te({title:_e.title,content:_e.content,type:_e.type,priority:_e.priority,targetAudience:_e.targetAudience,expiresAt:_e.expiresAt||"",isActive:_e.isActive}),Q(!0)},At=_e=>{window.confirm("Are you sure you want to delete this announcement?")&&(so.deleteAnnouncement(_e)?st("Announcement deleted successfully"):it("Failed to delete announcement"))},ns=_e=>{if(_e.preventDefault(),!V.title.trim()||!V.content.trim()){it("Please fill in all required fields");return}const ht={...V,createdBy:"Admin"};let ss;me?(ss=so.updateAnnouncement(me.id,ht),ss?st("Announcement updated successfully"):it("Failed to update announcement")):(ss=so.addAnnouncement(ht),ss?st("Announcement created successfully"):it("Failed to create announcement")),ss&&(Q(!1),O(null))},Dt=()=>{Q(!1),O(null)},Is=_e=>{so.toggleAnnouncementStatus(_e)?st("Announcement status updated"):it("Failed to update announcement status")},Os=async()=>{lt(!0);try{const _e={};Fe!=="all"&&(_e.status=Fe);const ht=await cn.getAllLeaves(_e);ht.success&&(fe(ht.data.leaves),Ce(ht.data.summary))}catch(_e){console.error("Error loading leaves:",_e),_e("Failed to load leave applications")}finally{lt(!1)}},fs=async(_e,ht,ss="")=>{try{(await cn.reviewLeave(_e,{status:ht,reviewComments:ss})).success&&(st(`Leave application ${ht} successfully`),Os(),Ze(!1))}catch(It){console.error("Error reviewing leave:",It),It(It.message||"Failed to review leave application")}},Ot=_e=>{Le(_e),Ze(!0)};T.useEffect(()=>{r==="leave-management"&&Os()},[r,Fe]);const[ts,Qr]=T.useState({totalRevenue:847250,totalOrders:2847,activeCustomers:1456,inventoryValue:125e3,growthRate:12.5,conversionRate:3.2,avgOrderValue:298,customerSatisfaction:4.8}),Jt={primary:"#059669",success:"#22c55e",error:"#ef4444",info:"#3b82f6",gray:{300:"#d1d5db",500:"#6b7280"}},$r={labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Revenue",data:[65e3,72e3,68e3,85e3,92e3,88e3,95e3,102e3,98e3,115e3,125e3,135e3],borderColor:Jt.primary,backgroundColor:"transparent",borderWidth:3,fill:!1,tension:.4,pointBackgroundColor:Jt.primary,pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5,pointHoverRadius:7},{label:"Target",data:[6e4,7e4,75e3,8e4,85e3,9e4,95e3,1e5,105e3,11e4,115e3,12e4],borderColor:Jt.gray[300],backgroundColor:"transparent",borderWidth:2,borderDash:[5,5],fill:!1,tension:.4,pointRadius:0}]},jn={labels:["Fresh Vegetables","Organic Fruits","Dairy Products","Grains & Cereals","Beverages"],datasets:[{data:[35,25,20,15,5],backgroundColor:["#059669","#10b981","#34d399","#3b82f6","#f59e0b"],borderWidth:0,hoverOffset:8}]},Lt={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Orders",data:[45,52,48,61,55,67,73],backgroundColor:Jt.primary,borderRadius:8,borderSkipped:!1}]},kr=[{id:"dashboard",label:"Dashboard",icon:mp,badge:null},{id:"inventory",label:"Inventory",icon:wn,badge:ie?String(ie):null},{id:"orders",label:"Orders",icon:Sl,badge:null},{id:"staff",label:"Staff",icon:Sc,badge:null},{id:"salary",label:"Salary",icon:Fn,badge:null},{id:"leave-management",label:"Leave Management",icon:ua,badge:null},{id:"messages",label:"Messages",icon:Cc,badge:i?String(i):null},{id:"announcements",label:"Announcements",icon:Cc,badge:se.filter(_e=>_e.isActive).length.toString()},{id:"notifications",label:"Notifications",icon:Ac,badge:Y+ie>0?String(Y+ie):null},{id:"suppliers",label:"Suppliers",icon:Cd,badge:null},{id:"reports",label:"Reports",icon:kc,badge:null}],ms=({title:_e,value:ht,change:ss,changeType:It,icon:Cs,subtitle:os,trend:Zt})=>n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6 hover:shadow-lg transition-all duration-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:`p-2 rounded-lg ${It==="positive"?"bg-emerald-50":It==="negative"?"bg-red-50":"bg-blue-50"}`,children:n.jsx(Cs,{className:`w-5 h-5 ${It==="positive"?"text-emerald-600":It==="negative"?"text-red-600":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:_e}),os&&n.jsx("p",{className:"text-xs text-gray-400",children:os})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ht}),ss&&n.jsxs("div",{className:`flex items-center space-x-1 text-sm font-medium ${It==="positive"?"text-emerald-600":It==="negative"?"text-red-600":"text-gray-600"}`,children:[It==="positive"?n.jsx(_d,{className:"w-4 h-4"}):It==="negative"?n.jsx(J1,{className:"w-4 h-4"}):null,n.jsx("span",{children:ss})]})]})]}),Zt&&n.jsx("div",{className:"w-16 h-8",children:n.jsx("svg",{className:"w-full h-full",viewBox:"0 0 64 32",children:n.jsx("path",{d:Zt,fill:"none",stroke:It==="positive"?Jt.success:It==="negative"?Jt.error:Jt.info,strokeWidth:"2",className:"opacity-60"})})})]})}),as=({title:_e,subtitle:ht,children:ss,actions:It,className:Cs=""})=>n.jsxs("div",{className:`bg-white rounded-xl border border-gray-200 ${Cs}`,children:[n.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900",children:_e}),ht&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ht})]}),It&&n.jsx("div",{className:"flex items-center space-x-2",children:It})]})}),n.jsx("div",{className:"p-4 lg:p-6",children:ss})]}),Ps=({title:_e,description:ht,time:ss,status:It,avatar:Cs})=>n.jsxs("div",{className:"flex items-start space-x-3 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-medium ${It==="success"?"bg-emerald-100 text-emerald-700":It==="warning"?"bg-amber-100 text-amber-700":It==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:Cs}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:_e}),n.jsx("p",{className:"text-sm text-gray-500",children:ht}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:ss})]})]}),Ft=({icon:_e,label:ht,description:ss,color:It="gray"})=>n.jsxs("div",{className:"bg-gray-900 rounded-2xl p-4 lg:p-6 hover:bg-gray-800 transition-all duration-200 cursor-pointer group",children:[n.jsx("div",{className:"w-10 h-10 lg:w-12 lg:h-12 rounded-2xl bg-white/10 flex items-center justify-center mb-3 lg:mb-4 group-hover:bg-white/20 transition-colors",children:n.jsx(_e,{className:"w-5 h-5 lg:w-6 lg:h-6 text-white"})}),n.jsx("h4",{className:"font-medium text-white mb-2 text-sm lg:text-base",children:ht}),n.jsx("p",{className:"text-xs lg:text-sm text-gray-400",children:ss})]});return n.jsxs("div",{className:"h-screen bg-gray-50 flex overflow-hidden",children:[e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>t(!1)}),n.jsxs("div",{className:`${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 ${e?"w-64":"lg:w-16"} fixed lg:relative inset-y-0 left-0 z-50 bg-white border-r border-gray-200 transition-all duration-300 flex flex-col flex-shrink-0`,children:[n.jsx("div",{className:"h-16 flex items-center px-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"🌱"})}),e&&n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"FreshNest"})]})}),e&&n.jsx("div",{className:"px-6 py-4",children:n.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"MENU"})}),n.jsx("nav",{className:"flex-1 px-4",children:n.jsx("div",{className:"space-y-1",children:kr.map(_e=>{const ht=_e.icon,ss=r===_e.id;return n.jsxs("button",{onClick:()=>{a(_e.id),window.innerWidth<1024&&t(!1)},className:`w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${ss?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(ht,{className:"w-5 h-5 mr-3"}),e&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"flex-1 text-left",children:_e.label}),_e.badge&&n.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${ss?"bg-white/20 text-white":"bg-gray-200 text-gray-700"}`,children:_e.badge})]})]},_e.id)})})}),e&&n.jsxs("div",{className:"px-6 py-4 border-t border-gray-100",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"GENERAL"}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>{a("notifications"),window.innerWidth<1024&&t(!1)},className:`w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${r==="notifications"?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(Ac,{className:"w-5 h-5 mr-3"}),n.jsx("span",{className:"flex-1 text-left",children:"Notifications"}),n.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${r==="notifications"?"bg-white/20 text-white":"bg-red-500 text-white"}`,children:"3"})]}),n.jsxs("button",{onClick:()=>{a("settings"),window.innerWidth<1024&&t(!1)},className:`w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${r==="settings"?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:[n.jsx(l1,{className:"w-5 h-5 mr-3"}),n.jsx("span",{children:"Settings"})]}),n.jsxs("button",{onClick:et,className:"w-full flex items-center px-3 py-2.5 text-sm font-medium text-gray-700 hover:bg-red-50 hover:text-red-600 rounded-lg transition-colors",children:[n.jsx(Iu,{className:"w-5 h-5 mr-3"}),n.jsx("span",{children:"Logout"})]})]})]})]}),n.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[n.jsxs("header",{className:"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 lg:px-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:()=>t(!e),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e?n.jsx(Jr,{className:"w-5 h-5"}):n.jsx(pp,{className:"w-5 h-5"})}),n.jsxs("div",{className:"relative hidden md:block",children:[n.jsx(Rc,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),n.jsx("input",{type:"text",placeholder:"Search task",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm w-64 lg:w-80 bg-gray-50"}),n.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400 bg-gray-200 px-2 py-1 rounded hidden lg:block",children:"⌘ F"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors md:hidden",children:n.jsx(Rc,{className:"w-5 h-5 text-gray-600"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors hidden sm:block",children:n.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Ac,{className:"w-5 h-5 text-gray-600"})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-medium text-xs",children:(s?.fullName||s?.name||s?.email||"A").split(" ").map(_e=>_e.charAt(0).toUpperCase()).slice(0,2).join("")})}),n.jsxs("div",{className:"text-right hidden lg:block",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:s?.fullName||s?.name||s?.email||"Admin"}),n.jsx("p",{className:"text-xs text-gray-500",children:s?.email||""})]})]})]})]}),n.jsxs("main",{className:"flex-1 overflow-y-auto p-4 lg:p-8 bg-gray-50",children:[r==="dashboard"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Dashboard"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Plan, prioritize, and accomplish your tasks with ease."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"bg-emerald-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2 text-sm lg:text-base",children:[n.jsx("span",{className:"text-lg",children:"+"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Project"}),n.jsx("span",{className:"sm:hidden",children:"Add"})]}),n.jsx("button",{className:"border border-gray-300 text-gray-700 px-3 lg:px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base hidden sm:block",children:"Import Data"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[n.jsx(ms,{title:"Total Revenue",subtitle:"This month",value:"$847,250",change:"+12.5%",changeType:"positive",icon:Fn,trend:"M 0 16 Q 16 8 32 12 T 64 8"}),n.jsx(ms,{title:"Total Orders",subtitle:"This month",value:"2,847",change:"+8.2%",changeType:"positive",icon:Sl,trend:"M 0 20 Q 16 12 32 16 T 64 10"}),n.jsx(ms,{title:"Active Customers",subtitle:"This month",value:"1,456",change:"+15.3%",changeType:"positive",icon:Sc,trend:"M 0 18 Q 16 10 32 14 T 64 6"}),n.jsx(ms,{title:"Inventory Value",subtitle:"Current stock",value:"$125,000",change:"-2.1%",changeType:"negative",icon:wn,trend:"M 0 12 Q 16 8 32 16 T 64 20"}),n.jsx(ms,{title:"Expiring ≤5 days",subtitle:"Critical",value:String(Y),change:Y>0?"Action needed":"",changeType:Y>0?"negative":"neutral",icon:Dn})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[n.jsx(as,{title:"Revenue Trend",subtitle:"Monthly revenue vs target",className:"lg:col-span-2",actions:n.jsxs(n.Fragment,{children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors bg-gray-900 text-white",children:n.jsx(no,{className:"w-4 h-4"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors bg-gray-900 text-white",children:n.jsx(Wa,{className:"w-4 h-4"})})]}),children:n.jsx("div",{className:"h-64 lg:h-80",children:n.jsx(U3,{data:$r,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",align:"start",labels:{boxWidth:12,boxHeight:12,usePointStyle:!0,font:{size:12,weight:"500"},padding:20}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",borderColor:Jt.primary,borderWidth:1,cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!1,min:4e4,max:14e4,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:Jt.gray[500],font:{size:window.innerWidth<640?10:11,weight:"500"},callback:function(_e){return"$"+_e/1e3+"K"}}},x:{grid:{display:!1},ticks:{color:Jt.gray[500],font:{size:11,weight:"500"}}}}}})})}),n.jsx(as,{title:"Sales by Category",subtitle:"Product distribution",children:n.jsx("div",{className:"h-64 lg:h-80",children:n.jsx(q3,{data:jn,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,font:{size:11,weight:"500"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",cornerRadius:8,displayColors:!1,callbacks:{label:function(_e){return _e.label+": "+_e.parsed+"%"}}}},cutout:"60%"}})})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[n.jsx(as,{title:"Weekly Orders",subtitle:"Orders per day this week",className:"lg:col-span-2",children:n.jsx("div",{className:"h-48 lg:h-64",children:n.jsx(lj,{data:Lt,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,max:80,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:Jt.gray[500],font:{size:11,weight:"500"}}},x:{grid:{display:!1},ticks:{color:Jt.gray[500],font:{size:11,weight:"500"}}}}}})})}),n.jsx(as,{title:"Recent Activity",subtitle:"Latest updates",children:n.jsxs("div",{className:"space-y-1 max-h-48 lg:max-h-64 overflow-y-auto",children:[n.jsx(Ps,{title:"Low stock alert",description:"Organic Apples running low",time:"15 minutes ago",status:"warning",avatar:"⚠️"}),n.jsx(Ps,{title:"Payment processed",description:"$298.50 payment confirmed",time:"1 hour ago",status:"success",avatar:"💳"})]})})]}),n.jsx(as,{title:"Quick Actions",subtitle:"Frequently used operations",children:n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx(Ft,{icon:wn,label:"Add new items to inventory",description:""}),n.jsx(Ft,{icon:Sc,label:"View and edit team members",description:""}),n.jsx(Ft,{icon:kc,label:"Create detailed analytics",description:""}),n.jsx(Ft,{icon:l1,label:"Configure store preferences",description:""})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(as,{title:"Weekly Orders",subtitle:"Orders per day this week",className:"lg:col-span-2",children:n.jsx("div",{className:"h-64",children:n.jsx(lj,{data:Lt,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"white",bodyColor:"white",cornerRadius:8,displayColors:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:Jt.gray[500],font:{size:11,weight:"500"}}},x:{grid:{display:!1},ticks:{color:Jt.gray[500],font:{size:11,weight:"500"}}}}}})})}),n.jsx(as,{title:"Recent Activity",subtitle:"Latest updates",children:n.jsxs("div",{className:"space-y-1 max-h-64 overflow-y-auto",children:[n.jsx(Ps,{title:"New order received",description:"Order #2847 from John Doe",time:"2 minutes ago",status:"success",avatar:"JD"}),n.jsx(Ps,{title:"Low stock alert",description:"Organic Apples running low",time:"15 minutes ago",status:"warning",avatar:"⚠️"}),n.jsx(Ps,{title:"Payment processed",description:"$298.50 payment confirmed",time:"1 hour ago",status:"success",avatar:"💳"}),n.jsx(Ps,{title:"New customer registered",description:"Sarah Wilson joined",time:"2 hours ago",status:"info",avatar:"SW"}),n.jsx(Ps,{title:"Supplier delivery",description:"Fresh vegetables restocked",time:"3 hours ago",status:"success",avatar:"🚚"})]})})]})]}),r==="inventory"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[10rem] pl-[10rem]",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Inventory Management"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Manage your products, stock levels, and inventory operations."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"bg-emerald-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2 text-sm lg:text-base",children:[n.jsx("span",{className:"text-lg",children:"+"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Product"}),n.jsx("span",{className:"sm:hidden",children:"Add"})]}),n.jsx("button",{className:"border border-gray-300 text-gray-700 px-3 lg:px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base hidden sm:block",children:"Import CSV"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-50",children:n.jsx(wn,{className:"w-5 h-5 text-emerald-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"1,247"}),n.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:"+12 this week"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-amber-50",children:n.jsx(Dn,{className:"w-5 h-5 text-amber-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"23"}),n.jsx("p",{className:"text-sm text-amber-600 font-medium",children:"Needs attention"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-red-50",children:n.jsx(Jr,{className:"w-5 h-5 text-red-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"5"}),n.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Urgent restock"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:n.jsx(Fn,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inventory Value"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"$125K"}),n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"+5.2% from last month"})]})]}),n.jsx(JE,{})]}),r==="sales"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[20rem] pl-[10rem]",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Sales Management"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Track orders, manage transactions, and analyze sales performance."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{className:"bg-emerald-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors text-sm lg:text-base",children:[n.jsx("span",{className:"hidden sm:inline",children:"New Order"}),n.jsx("span",{className:"sm:hidden",children:"New"})]}),n.jsx("button",{className:"border border-gray-300 text-gray-700 px-3 lg:px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base hidden sm:block",children:"Export Data"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-emerald-50",children:n.jsx(Sl,{className:"w-5 h-5 text-emerald-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"2,847"}),n.jsx("p",{className:"text-sm text-emerald-600 font-medium",children:"+8.2% from last month"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:n.jsx(_i,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Orders"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"156"}),n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Awaiting processing"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-50",children:n.jsx(Fn,{className:"w-5 h-5 text-green-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"$847K"}),n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"+12.5% growth"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-50",children:n.jsx(_d,{className:"w-5 h-5 text-purple-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"$298"}),n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"+3.2% increase"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[n.jsx("div",{className:"p-4 lg:p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[n.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900",children:"Recent Orders"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xf,{className:"w-4 h-4 text-gray-500"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors hidden sm:block",children:n.jsx(Wa,{className:"w-4 h-4 text-gray-500"})})]})]})}),n.jsx("div",{className:"p-4 lg:p-6",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-100",children:[n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Order ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Customer"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Items"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Total"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Date"})]})}),n.jsxs("tbody",{children:[n.jsxs("tr",{className:"border-b border-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"font-medium text-gray-900",children:"#2847"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-blue-600 font-medium text-xs",children:"JD"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"John Doe"}),n.jsx("p",{className:"text-sm text-gray-500",children:"john@example.com"})]})]})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:"5 items"}),n.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"$298.50"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"Completed"})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:"2 min ago"})]}),n.jsxs("tr",{className:"border-b border-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"font-medium text-gray-900",children:"#2846"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-purple-600 font-medium text-xs",children:"SW"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Sarah Wilson"}),n.jsx("p",{className:"text-sm text-gray-500",children:"sarah@example.com"})]})]})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:"3 items"}),n.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"$156.75"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Processing"})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:"15 min ago"})]}),n.jsxs("tr",{className:"border-b border-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"font-medium text-gray-900",children:"#2845"})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-green-600 font-medium text-xs",children:"MB"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Mike Brown"}),n.jsx("p",{className:"text-sm text-gray-500",children:"mike@example.com"})]})]})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:"8 items"}),n.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"$425.20"}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-medium",children:"Pending"})}),n.jsx("td",{className:"py-3 px-4 text-gray-600",children:"1 hour ago"})]})]})]})})})]})]}),r==="staff"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Staff Management"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage team members, roles, and permissions."})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[n.jsx("span",{className:"text-lg",children:"+"}),n.jsx("span",{children:"Add Staff"})]})})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[n.jsx(Sc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Staff Module"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Employee management and scheduling tools coming soon."}),n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:"12"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Total Staff"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600",children:"8"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Active Today"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"3"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Departments"})]})]})]})]}),r==="salary"&&n.jsx("div",{className:"space-y-8",children:n.jsx(UE,{})}),r==="announcements"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Announcements"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage announcements for your team and users."})]}),n.jsxs("button",{onClick:Mt,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[n.jsx(yf,{className:"w-4 h-4"}),n.jsx("span",{children:"New Announcement"})]})]}),n.jsx("div",{className:"grid gap-4",children:se.length===0?n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[n.jsx(Cc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Announcements"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first announcement to communicate with your team."}),n.jsx("button",{onClick:Mt,className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Create Announcement"})]}):se.map(_e=>n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${_e.type==="success"?"bg-green-50":_e.type==="warning"?"bg-yellow-50":_e.type==="error"?"bg-red-50":"bg-blue-50"}`,children:n.jsx(Cc,{className:`w-4 h-4 ${_e.type==="success"?"text-green-600":_e.type==="warning"?"text-yellow-600":_e.type==="error"?"text-red-600":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_e.title}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[n.jsxs("span",{children:["By ",_e.createdBy]}),n.jsx("span",{children:"•"}),n.jsx("span",{children:new Date(_e.createdAt).toLocaleDateString()}),n.jsx("span",{children:"•"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_e.priority==="urgent"?"bg-red-100 text-red-700":_e.priority==="high"?"bg-orange-100 text-orange-700":_e.priority==="normal"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:_e.priority}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_e.targetAudience==="all"?"bg-purple-100 text-purple-700":_e.targetAudience==="staff"?"bg-green-100 text-green-700":_e.targetAudience==="retailers"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:_e.targetAudience})]})]})]}),n.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:_e.content}),_e.expiresAt&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Expires: ",new Date(_e.expiresAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${_e.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:_e.isActive?"Active":"Inactive"}),n.jsx("button",{onClick:()=>Is(_e.id),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",title:_e.isActive?"Deactivate":"Activate",children:n.jsx(Du,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>bs(_e),className:"p-2 text-gray-400 hover:text-blue-600 rounded-lg hover:bg-blue-50",title:"Edit",children:n.jsx(NN,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>At(_e.id),className:"p-2 text-gray-400 hover:text-red-600 rounded-lg hover:bg-red-50",title:"Delete",children:n.jsx(gp,{className:"w-4 h-4"})})]})]})},_e.id))})]}),r==="reports"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Generate detailed reports and analyze business performance."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{className:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Generate Report"}),n.jsx("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Export PDF"})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[n.jsx(kc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Reports Module"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Advanced reporting and analytics tools coming soon."}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-lg font-bold text-emerald-600",children:"Sales"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Reports"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-lg font-bold text-blue-600",children:"Inventory"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Reports"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-lg font-bold text-purple-600",children:"Financial"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Reports"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-lg font-bold text-orange-600",children:"Custom"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Reports"})]})]})]})]}),r==="settings"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[18.5rem] pl-[18.5rem]",children:[n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Settings"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Configure system preferences and account settings."})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 lg:p-6",children:[n.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Store Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Name"}),n.jsx("input",{type:"text",defaultValue:"FreshNest",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm lg:text-base"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Store Email"}),n.jsx("input",{type:"email",defaultValue:"admin@freshnest.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm lg:text-base"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),n.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm lg:text-base",children:[n.jsx("option",{children:"USD ($)"}),n.jsx("option",{children:"EUR (€)"}),n.jsx("option",{children:"GBP (£)"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 lg:p-6",children:[n.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-900 mb-4",children:"Notification Settings"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Notifications"}),n.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Low Stock Alerts"}),n.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Order Notifications"}),n.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Weekly Reports"}),n.jsx("input",{type:"checkbox",className:"rounded"})]})]})]})]})]}),r==="orders"&&n.jsx("div",{className:"space-y-6 lg:space-y-8 pr-[1rem] pl-[1rem]",children:n.jsx(Me.Suspense,{fallback:n.jsx("div",{className:"p-6",children:"Loading orders..."}),children:n.jsx(DO,{})})}),r==="suppliers"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[10rem] pl-[10rem]",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Supplier Management"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Manage supplier relationships and procurement."})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:Rt,className:"bg-emerald-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors text-sm lg:text-base flex items-center space-x-2",children:[n.jsx(Cd,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Supplier"}),n.jsx("span",{className:"sm:hidden",children:"Add"})]}),n.jsxs("button",{onClick:ft,className:"bg-blue-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm lg:text-base flex items-center space-x-2",children:[n.jsx(vd,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Supplier Onboarding Form"}),n.jsx("span",{className:"sm:hidden",children:"Onboard"})]})]})]}),n.jsx(HE,{onAddSupplier:Rt,refreshTrigger:A}),P&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Supplier Onboarding Email"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Preview and choose how to send."})]}),n.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-6 h-6 text-gray-500"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"border border-amber-200 bg-amber-50 rounded-xl p-4",children:[n.jsx("h3",{className:"text-base font-semibold text-amber-900 mb-2",children:"Core Preview"}),n.jsxs("div",{className:"mb-2",children:[n.jsx("span",{className:"text-xs uppercase text-amber-700",children:"Subject"}),n.jsx("div",{className:"mt-1 text-sm font-medium text-amber-900",children:ut()})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs uppercase text-amber-700",children:"Key Request Items"}),n.jsx("ul",{className:"mt-1 list-disc list-inside text-sm text-amber-900 space-y-1",children:Qe().map(_e=>n.jsx("li",{children:_e},_e))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To (enter supplier email)"}),n.jsx("input",{type:"email",value:F,onChange:_e=>B(_e.target.value),placeholder:"supplier@example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Gmail will open with the FreshNest account. You can type or adjust the recipient there."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsx("div",{className:"px-4 py-3 border rounded-lg bg-emerald-50 border-emerald-200 text-emerald-900 font-medium",children:ut()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Body"}),n.jsx("pre",{className:"px-4 py-3 border rounded-lg bg-emerald-50 border-emerald-200 text-emerald-900 whitespace-pre-wrap text-sm leading-6",children:_t()})]})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[n.jsx("button",{onClick:()=>M(!1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),n.jsxs("button",{onClick:rt,className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center space-x-2",children:[n.jsx(vd,{className:"w-4 h-4"}),n.jsx("span",{children:"Send via Mail App"})]}),n.jsxs("button",{onClick:Ge,disabled:Pt,className:"px-6 py-3 bg-emerald-700 text-white rounded-lg hover:bg-emerald-800 transition-colors flex items-center space-x-2 disabled:opacity-60",children:[n.jsx(vd,{className:"w-4 h-4"}),n.jsx("span",{children:Pt?"Sending…":"Send Styled Email"})]}),n.jsxs("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&tf=cm&su=${encodeURIComponent(ut())}&body=${encodeURIComponent(_t())}&authuser=freshnestproject@gmail.com`,target:"_blank",rel:"noreferrer",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[n.jsx(vd,{className:"w-4 h-4"}),n.jsx("span",{children:"Open in Gmail"})]})]})]})})]}),r==="messages"&&n.jsx("div",{className:"space-y-6 lg:space-y-8",children:n.jsx(Me.Suspense,{fallback:n.jsx("div",{className:"p-6",children:"Loading messages..."}),children:n.jsx(IO,{})})}),r==="staff"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[0rem] pl-[1rem]",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Staff Management"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Manage team members, roles, and permissions."})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:qe,className:"bg-emerald-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors text-sm lg:text-base flex items-center space-x-2",children:[n.jsx(Sc,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Staff"}),n.jsx("span",{className:"sm:hidden",children:"Add"})]})})]}),n.jsx(cC,{onAddStaff:qe,refreshTrigger:y})]}),r==="reports"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[16rem] pl-[16rem]",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Reports & Analytics"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Generate insights and track business performance."})]}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{className:"bg-emerald-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors text-sm lg:text-base",children:[n.jsx("span",{className:"hidden sm:inline",children:"Generate Report"}),n.jsx("span",{className:"sm:hidden",children:"Generate"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:n.jsx(kc,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Sales Reports"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"15"}),n.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Generated this month"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-green-50",children:n.jsx(_d,{className:"w-5 h-5 text-green-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Growth Rate"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"+12.5%"}),n.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Month over month"})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"p-2 rounded-lg bg-purple-50",children:n.jsx(I8,{className:"w-5 h-5 text-purple-600"})}),n.jsx("div",{children:n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Data Points"})})]}),n.jsx("p",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:"2.4M"}),n.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Analyzed"})]})]})]}),r==="notifications"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[20rem] pl-[20rem]",children:[n.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:n.jsx("div",{children:n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Notifications"})})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:n.jsx("div",{className:"p-4 lg:p-6",children:n.jsxs("div",{className:"space-y-4",children:[Y>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2","aria-hidden":!0}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:[Y," product",Y>1?"s":""," expiring within 5 days"]}),I.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[I.join(", "),Y>I.length?` and ${Y-I.length} more`:""]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated just now"})]})]}),ie>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2","aria-hidden":!0}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:[ie," product",ie>1?"s":""," low on stock (≤",ae,")"]}),oe.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[oe.join(", "),ie>oe.length?` and ${ie-oe.length} more`:""]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calculated from inventory"})]})]}),Y===0&&ie===0&&n.jsx("div",{className:"flex items-center justify-center py-10 text-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-900 font-medium",children:"No notifications right now"}),n.jsx("p",{className:"text-sm text-gray-500",children:"You’re all caught up. Inventory looks good."})]})})]})})})]}),r==="leave-management"&&n.jsxs("div",{className:"space-y-6 lg:space-y-8 pr-[10rem] pl-[1rem]",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:"Leave Management"}),n.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Review and manage staff leave applications"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("select",{value:Fe,onChange:_e=>je(_e.target.value),className:"border border-gray-300 text-gray-700 px-3 lg:px-4 py-2 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm lg:text-base",children:[n.jsx("option",{value:"all",children:"All Applications"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"approved",children:"Approved"}),n.jsx("option",{value:"rejected",children:"Rejected"})]}),n.jsx("button",{onClick:Os,className:"border border-gray-300 text-gray-700 px-3 lg:px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base",children:n.jsx(Wa,{className:"w-4 h-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Total Applications"}),n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(ua,{className:"w-5 h-5 text-blue-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:ve.total}),n.jsx("p",{className:"text-sm text-gray-600",children:"All time"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Review"}),n.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx(_i,{className:"w-5 h-5 text-yellow-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:ve.pending}),n.jsx("p",{className:"text-sm text-gray-600",children:"Awaiting action"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Approved"}),n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Vu,{className:"w-5 h-5 text-green-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:ve.approved}),n.jsx("p",{className:"text-sm text-gray-600",children:"Approved leaves"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Rejected"}),n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Jr,{className:"w-5 h-5 text-red-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:ve.rejected}),n.jsx("p",{className:"text-sm text-gray-600",children:"Rejected leaves"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Leave Applications"})}),n.jsx("div",{className:"p-6",children:ne?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx(Wa,{className:"w-6 h-6 text-gray-400 animate-spin"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading applications..."})]}):he.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ua,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No leave applications found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:Fe!=="all"?`No ${Fe} applications`:"Applications will appear here when staff apply for leave"})]}):n.jsxs("div",{className:"space-y-4",children:[Y>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:[Y," product",Y>1?"s":""," expiring within 5 days"]}),I.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[I.join(", "),Y>I.length?` and ${Y-I.length} more`:""]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated just now"})]})]}),he.map(_e=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Ot(_e),children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-gray-600",children:_e.employeeDetails.fullName.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:_e.employeeDetails.fullName}),n.jsx("p",{className:"text-sm text-gray-600",children:_e.employeeDetails.employeeId})]})]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${cn.getStatusColor(_e.status)}`,children:_e.status.charAt(0).toUpperCase()+_e.status.slice(1)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Leave Type:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:cn.getLeaveTypeLabel(_e.type)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Duration:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:cn.formatDateRange(_e.startDate,_e.endDate)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Applied:"}),n.jsx("span",{className:"ml-2 font-medium text-gray-900",children:new Date(_e.appliedOn||_e.createdAt).toLocaleDateString()})]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("span",{className:"text-gray-500 text-sm",children:"Reason:"}),n.jsx("p",{className:"text-sm text-gray-900 mt-1 line-clamp-2",children:_e.reason})]})]},_e._id))]})})]})]}),!["dashboard","inventory","sales","staff","leave-management","announcements","suppliers","reports","notifications","settings"].includes(r)&&n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(wn,{className:"w-12 h-12 text-gray-400"})}),n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2 capitalize",children:[r.replace("-"," ")," Section"]}),n.jsx("p",{className:"text-gray-500 mb-6 max-w-sm",children:"This section is under development. Advanced features coming soon."}),n.jsx("button",{className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors font-medium",children:"Learn More"})]})})]})]}),n.jsx(lC,{isOpen:m,onClose:Nt,onSuccess:dt}),n.jsx(D4,{isOpen:j,onClose:at,onSupplierCreated:ct}),pe&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4 shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:me?"Edit Announcement":"Create New Announcement"}),n.jsx("button",{onClick:Dt,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:n.jsx(Jr,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:ns,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",value:V.title,onChange:_e=>te(ht=>({...ht,title:_e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter announcement title",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content *"}),n.jsx("textarea",{value:V.content,onChange:_e=>te(ht=>({...ht,content:_e.target.value})),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter announcement content",required:!0})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),n.jsxs("select",{value:V.type,onChange:_e=>te(ht=>({...ht,type:_e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"info",children:"Info"}),n.jsx("option",{value:"success",children:"Success"}),n.jsx("option",{value:"warning",children:"Warning"}),n.jsx("option",{value:"error",children:"Error"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsxs("select",{value:V.priority,onChange:_e=>te(ht=>({...ht,priority:_e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"low",children:"Low"}),n.jsx("option",{value:"normal",children:"Normal"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience"}),n.jsxs("select",{value:V.targetAudience,onChange:_e=>te(ht=>({...ht,targetAudience:_e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"all",children:"All Users"}),n.jsx("option",{value:"staff",children:"Staff Only"}),n.jsx("option",{value:"retailers",children:"Retailers Only"}),n.jsx("option",{value:"users",children:"Regular Users Only"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expires At (Optional)"}),n.jsx("input",{type:"datetime-local",value:V.expiresAt,onChange:_e=>te(ht=>({...ht,expiresAt:_e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"isActive",checked:V.isActive,onChange:_e=>te(ht=>({...ht,isActive:_e.target.checked})),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),n.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active (visible to users)"})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:Dt,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsxs("button",{type:"submit",className:"px-6 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg font-medium transition-colors flex items-center space-x-2",children:[n.jsx(vd,{className:"w-4 h-4"}),n.jsxs("span",{children:[me?"Update":"Create"," Announcement"]})]})]})]})]})}),Be&&ue&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsx("div",{className:"bg-white rounded-2xl max-w-lg w-full shadow-2xl max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Leave Application Review"}),n.jsx("button",{onClick:()=>Ze(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-medium text-gray-600",children:ue.employeeDetails.fullName.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:ue.employeeDetails.fullName}),n.jsx("p",{className:"text-sm text-gray-600",children:ue.employeeDetails.employeeId}),n.jsx("p",{className:"text-sm text-gray-600",children:ue.employeeDetails.email})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${cn.getStatusColor(ue.status)}`,children:ue.status.charAt(0).toUpperCase()+ue.status.slice(1)})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 text-sm",children:"Leave Type"}),n.jsx("p",{className:"font-medium text-gray-900",children:cn.getLeaveTypeLabel(ue.type)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 text-sm",children:"Duration"}),n.jsxs("p",{className:"font-medium text-gray-900",children:[ue.totalDays," ",ue.totalDays===1?"day":"days",ue.isHalfDay&&" (Half Day)"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 text-sm",children:"Start Date"}),n.jsx("p",{className:"font-medium text-gray-900",children:new Date(ue.startDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 text-sm",children:"End Date"}),n.jsx("p",{className:"font-medium text-gray-900",children:new Date(ue.endDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 text-sm block mb-2",children:"Reason"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg text-sm",children:ue.reason})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-600 text-sm",children:"Applied on"}),n.jsx("span",{className:"font-medium text-gray-900",children:new Date(ue.appliedOn||ue.createdAt).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),ue.reviewedBy&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("h5",{className:"font-medium text-blue-900 mb-2",children:"Review Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-blue-700",children:"Reviewed by:"}),n.jsx("span",{className:"font-medium text-blue-900",children:ue.reviewedBy.fullName||"Admin"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-blue-700",children:"Reviewed on:"}),n.jsx("span",{className:"font-medium text-blue-900",children:new Date(ue.reviewedOn).toLocaleDateString()})]}),ue.reviewComments&&n.jsxs("div",{children:[n.jsx("span",{className:"text-blue-700 block mb-1",children:"Comments:"}),n.jsx("p",{className:"text-blue-900 bg-blue-100 p-2 rounded text-sm",children:ue.reviewComments})]})]})]})]}),ue.status==="pending"&&n.jsxs("div",{className:"flex space-x-3 pt-4 border-t border-gray-200",children:[n.jsx("button",{onClick:()=>{const _e=prompt("Add review comments (optional):");fs(ue._id,"rejected",_e||"")},className:"flex-1 px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg font-medium transition-colors",children:"Reject"}),n.jsx("button",{onClick:()=>{const _e=prompt("Add review comments (optional):");fs(ue._id,"approved",_e||"")},className:"flex-1 px-4 py-2 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors",children:"Approve"})]}),ue.status!=="pending"&&n.jsx("div",{className:"flex justify-center pt-4 border-t border-gray-200",children:n.jsx("button",{onClick:()=>Ze(!1),className:"px-6 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Close"})})]})]})})})]})},fd="http://localhost:3001";class BO{async apiRequest(e,t={}){return await Ut.apiRequest(e,t)}async getAllTransactions(e={}){try{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.paymentMethod&&t.append("paymentMethod",e.paymentMethod),e.customerEmail&&t.append("customerEmail",e.customerEmail);const r=t.toString(),a=await this.apiRequest(`${fd}/api/payments/transactions?${r}`);if(!a.ok){const c=await a.text();throw new Error(c||"Failed to fetch transactions")}return await a.json()}catch(t){throw console.error("Get all transactions error:",t),t}}async getTransactionById(e){try{const t=await this.apiRequest(`${fd}/api/payments/transactions/${e}`);if(!t.ok){const a=await t.text();throw new Error(a||"Failed to fetch transaction")}return await t.json()}catch(t){throw console.error("Get transaction by ID error:",t),t}}async getMyTransactionById(e){try{const t=await this.apiRequest(`${fd}/api/payments/my/transactions/${e}`);if(!t.ok){const a=await t.text();throw new Error(a||"Failed to fetch my transaction")}return await t.json()}catch(t){throw console.error("Get my transaction by ID error:",t),t}}async getTransactionStats(){try{const e=await this.apiRequest(`${fd}/api/payments/transactions/stats`);if(!e.ok){const r=await e.text();throw new Error(r||"Failed to fetch transaction stats")}return await e.json()}catch(e){throw console.error("Get transaction stats error:",e),e}}async getMyTransactions(e={}){try{console.log("🔄 TransactionService: Getting my transactions with params:",e),console.log("🔄 TransactionService: API_BASE_URL:",fd);const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.paymentMethod&&t.append("paymentMethod",e.paymentMethod);const r=t.toString(),a=`${fd}/api/payments/my/transactions?${r}`;console.log("🔄 TransactionService: Making request to:",a);const i=await this.apiRequest(a);if(console.log("🔄 TransactionService: Response status:",i.status),console.log("🔄 TransactionService: Response ok:",i.ok),!i.ok){const d=await i.text();throw console.error("❌ TransactionService: API error response:",d),new Error(d||"Failed to fetch my transactions")}const c=await i.json();return console.log("✅ TransactionService: Successfully fetched transactions:",c),c}catch(t){throw console.error("❌ TransactionService: Get my transactions error:",t),console.error("❌ TransactionService: Error details:",{message:t.message,stack:t.stack,name:t.name}),t}}async exportTransactions(e="csv",t={}){try{const r=new URLSearchParams;r.append("format",e),Object.keys(t).forEach(u=>{t[u]&&r.append(u,t[u])});const a=await fetch(`${fd}/api/payments/transactions/export?${r}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!a.ok)throw new Error("Export failed");const i=await a.blob(),c=window.URL.createObjectURL(i),d=document.createElement("a");return d.href=c,d.download=`transactions_${new Date().toISOString().split("T")[0]}.${e}`,document.body.appendChild(d),d.click(),window.URL.revokeObjectURL(c),document.body.removeChild(d),{success:!0}}catch(r){throw console.error("Export transactions error:",r),r}}}const bd=new BO,zO="http://localhost:3001";class UO{async apiRequest(e,t={}){return await Ut.apiRequest(e,t)}async getMyPurchases(e={}){try{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.paymentMethod&&t.append("paymentMethod",e.paymentMethod);const r=t.toString(),a=`${zO}/api/purchases/my?${r}`,i=await this.apiRequest(a);if(!i.ok){const d=await i.text();throw new Error(d||"Failed to fetch my purchases")}return await i.json()}catch(t){throw console.error("Get my purchases error:",t),t}}}const qO=new UO,HO=()=>{const{error:s}=cr(),[e,t]=T.useState(!1),[r,a]=T.useState([]),[i,c]=T.useState(1),[d,u]=T.useState({page:1,limit:10,total:0,pages:1}),f=async()=>{try{t(!0),console.log("🔄 Loading purchase history...",{page:i,limit:10});const y=JSON.parse(localStorage.getItem("freshnest_user")||"null"),x=localStorage.getItem("freshnest_access_token");if(console.log("🔐 Auth check:",{user:y?.email,hasToken:!!x,userRole:y?.role}),!y||!x)throw new Error("User not authenticated. Please login again.");let j;try{j=await qO.getMyPurchases({page:i,limit:10}),console.log("📊 Purchases API response:",j);const S=j?.data||{purchases:[],pagination:{page:1,limit:10,total:0,pages:1}};console.log("📋 Processed purchases data:",S);const A=Array.isArray(S.purchases)?S.purchases:[],k=S.pagination||{page:1,limit:10,total:0,pages:1};a(A),u(k),console.log("✅ Purchase history loaded successfully:",{purchaseCount:A.length,totalPages:k.pages||1})}catch(S){console.warn("Purchases API failed, falling back to transactions:",S);const k=(await bd.getMyTransactions({page:i,limit:10}))?.data||{transactions:[],pagination:{page:1,limit:10,total:0,pages:1}},P=Array.isArray(k.transactions)?k.transactions:[],M=k.pagination||{page:1,limit:10,total:0,pages:1};a(P),u(M),console.log("✅ Transactions fallback loaded successfully:",{purchaseCount:P.length,totalPages:M.pages||1})}}catch(y){const x=typeof y?.message=="string"?y.message:"Failed to load purchases";console.error("❌ My Purchases load error:",y),console.error("❌ Error details:",{message:y.message,stack:y.stack,name:y.name}),s(x)}finally{t(!1)}};T.useEffect(()=>{f()},[i]);const m=y=>new Date(y).toLocaleString(),b=y=>{try{const x=!!y.amount&&!y.order,j=x?{id:y?.orderId||y?._id,date:y?.purchasedAt||y?.createdAt||new Date().toISOString(),customer:{name:y?.customer?.name,email:y?.customerEmail,phone:y?.customer?.phone,address:y?.customer?.address},items:Array.isArray(y?.items)?y.items:[],totalAmount:Number(y?.amount||0)}:{id:y?.order?.id||y?.razorpay_order_id||y?._id,date:y?.paymentDate||y?.createdAt||new Date().toISOString(),customer:{name:y?.customer?.name,email:y?.customer?.email,phone:y?.customer?.phone,address:y?.customer?.address},items:Array.isArray(y?.order?.items)?y.order.items:[],totalAmount:Number(y?.order?.totalAmount||0)},S=x?{id:y?.paymentId||y?._id,orderId:y?.orderId,method:y?.paymentMethod||"online",status:y?.status||"completed"}:{id:y?.razorpay_payment_id||y?._id,orderId:y?.razorpay_order_id||y?.order?.id,method:y?.paymentMethod||"online",status:y?.status||"completed"};ny.generateInvoice(j,S,{download:!0})}catch(x){console.error("Download invoice failed:",x)}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"My Purchases"}),e?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),n.jsx("p",{className:"text-gray-500 mt-4",children:"Loading your purchase history..."})]}):r.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Sl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No purchases yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't made any purchases yet. Start shopping to see your order history here."}),n.jsx("button",{onClick:()=>window.location.href="/user/dashboard?section=shop",className:"bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Start Shopping"})]}):n.jsx("div",{className:"space-y-4",children:r.map(y=>n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(Ll,{className:"w-4 h-4"}),n.jsxs("span",{className:"font-medium text-gray-900",children:["₹",(y.order?.totalAmount??y.amount)?.toFixed?(y.order?.totalAmount??y.amount).toFixed(2):y.order?.totalAmount??y.amount]}),n.jsx("span",{className:`ml-2 inline-flex px-2 py-0.5 rounded-full text-xs font-semibold ${y.status==="completed"?"bg-emerald-100 text-emerald-700":y.status==="pending"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:y.status||"completed"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[n.jsxs("button",{onClick:()=>b(y),className:"mr-3 inline-flex items-center px-2 py-1 rounded-lg border hover:bg-gray-50",title:"Download Invoice",children:[n.jsx(no,{className:"w-4 h-4 mr-1"}),"Invoice"]}),n.jsx(ua,{className:"w-4 h-4"}),n.jsx("span",{children:m(y.paymentDate||y.purchasedAt)})]})]}),n.jsxs("div",{className:"text-xs text-gray-600 mb-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Payment ID:"})," ",n.jsx("span",{className:"font-mono",children:y.razorpay_payment_id||y.paymentId})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Method:"})," ",n.jsx("span",{className:"font-medium",children:y.paymentMethod?.toUpperCase?.()||y.paymentMethod})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Currency:"})," ",n.jsx("span",{className:"font-medium",children:y.order?.currency||y.currency||"INR"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(y.order?.items||y.items||[]).map((x,j)=>n.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:n.jsx(wn,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium text-gray-900",children:x.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Qty ",x.quantity," · ₹",x.price]})]})]},j))}),n.jsx("div",{className:"mt-3 text-xs text-gray-500",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Customer:"})," ",y.customer?.name||""," · ",y.customer?.email||y.customerEmail||""," · ",y.customer?.phone||""]})})]},y._id))})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{disabled:i<=1,onClick:()=>c(y=>Math.max(1,y-1)),className:`px-3 py-1.5 rounded-lg border ${i<=1?"text-gray-400 bg-gray-50":"hover:bg-gray-50"}`,children:"Previous"}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",d.page," of ",d.pages]}),n.jsx("button",{disabled:i>=d.pages,onClick:()=>c(y=>Math.min(d.pages,y+1)),className:`px-3 py-1.5 rounded-lg border ${i>=d.pages?"text-gray-400 bg-gray-50":"hover:bg-gray-50"}`,children:"Next"})]})]})},WO=()=>{const{success:s,error:e}=cr(),[t,r]=T.useState([]),[a,i]=T.useState(null),[c,d]=T.useState(!1),[u,f]=T.useState({page:1,limit:10,status:"",paymentMethod:"",customerEmail:""}),[m,b]=T.useState({}),[y,x]=T.useState(null),[j,S]=T.useState(!1),A=async()=>{try{d(!0);const R=Ut.isAdmin()?await bd.getAllTransactions(u):await bd.getMyTransactions(u);r(R.data.transactions),b(R.data.pagination)}catch($){console.error("Failed to load transactions:",$),e("Failed to load transactions")}finally{d(!1)}},k=async()=>{try{if(Ut.isAdmin()){const $=await bd.getTransactionStats();i($.data)}else i(null)}catch($){console.error("Failed to load stats:",$)}};T.useEffect(()=>{A(),k()},[u]),T.useEffect(()=>{const $=()=>{A(),k()};return window.addEventListener("refreshTransactions",$),()=>window.removeEventListener("refreshTransactions",$)},[]);const P=($,R)=>{f(q=>({...q,[$]:R,page:1}))},M=$=>{f(R=>({...R,page:$}))},F=async $=>{try{const q=Ut.isAdmin()?await bd.getTransactionById($):await bd.getMyTransactionById($);x(q.data),S(!0)}catch(R){console.error("Failed to load transaction details:",R),e("Failed to load transaction details")}},B=async()=>{try{await bd.exportTransactions("csv",u),s("Transactions exported successfully")}catch($){console.error("Export failed:",$),e("Export failed")}},ae=$=>{switch($){case"cards":return n.jsx(Ll,{className:"w-4 h-4"});case"upi":return n.jsx(af,{className:"w-4 h-4"});case"upi-qr":return n.jsx(af,{className:"w-4 h-4"});case"netbanking":return n.jsx(CN,{className:"w-4 h-4"});case"wallet":return n.jsx(Fn,{className:"w-4 h-4"});case"paylater":return n.jsx(_i,{className:"w-4 h-4"});default:return n.jsx(Ll,{className:"w-4 h-4"})}},Y=$=>{switch($){case"completed":return n.jsx(Nd,{className:"w-4 h-4 text-green-600"});case"failed":return n.jsx(c1,{className:"w-4 h-4 text-red-600"});case"pending":return n.jsx(_i,{className:"w-4 h-4 text-yellow-600"});case"refunded":return n.jsx(Wa,{className:"w-4 h-4 text-blue-600"});default:return n.jsx(_i,{className:"w-4 h-4 text-gray-600"})}},E=$=>new Date($).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=({title:$,value:R,subtitle:q,icon:ie,trend:K,color:oe="blue"})=>n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:$}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:R}),q&&n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:q})]}),n.jsx("div",{className:`p-3 rounded-lg bg-${oe}-50`,children:n.jsx(ie,{className:`w-6 h-6 text-${oe}-600`})})]}),K&&n.jsxs("div",{className:`flex items-center mt-3 text-sm ${K.type==="up"?"text-green-600":"text-red-600"}`,children:[K.type==="up"?n.jsx(_d,{className:"w-4 h-4 mr-1"}):n.jsx(J1,{className:"w-4 h-4 mr-1"}),n.jsx("span",{children:K.value})]})]});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Transactions"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and view all payment transactions"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("button",{onClick:B,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[n.jsx(no,{className:"w-4 h-4"}),n.jsx("span",{children:"Export"})]}),n.jsxs("button",{onClick:()=>{A(),k()},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Wa,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]}),a&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(I,{title:"Total Transactions",value:a.overview.totalTransactions,subtitle:"All time",icon:Ll,color:"blue"}),n.jsx(I,{title:"Total Amount",value:`₹${a.overview.totalAmount?.toLocaleString("en-IN")||"0"}`,subtitle:"Revenue generated",icon:Fn,color:"green"}),n.jsx(I,{title:"Completed",value:a.overview.completedTransactions,subtitle:`₹${a.overview.completedAmount?.toLocaleString("en-IN")||"0"}`,icon:Nd,color:"green"}),n.jsx(I,{title:"Success Rate",value:`${a.overview.totalTransactions>0?Math.round(a.overview.completedTransactions/a.overview.totalTransactions*100):0}%`,subtitle:"Payment success",icon:_d,color:"emerald"})]}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:u.status,onChange:$=>P("status",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"}),n.jsx("option",{value:"refunded",children:"Refunded"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method"}),n.jsxs("select",{value:u.paymentMethod,onChange:$=>P("paymentMethod",$.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Methods"}),n.jsx("option",{value:"cards",children:"Cards"}),n.jsx("option",{value:"upi",children:"UPI"}),n.jsx("option",{value:"upi-qr",children:"UPI QR"}),n.jsx("option",{value:"netbanking",children:"Net Banking"}),n.jsx("option",{value:"wallet",children:"Wallet"}),n.jsx("option",{value:"paylater",children:"Pay Later"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Email"}),n.jsx("input",{type:"email",value:u.customerEmail,onChange:$=>P("customerEmail",$.target.value),placeholder:"Search by email...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Items per page"}),n.jsxs("select",{value:u.limit,onChange:$=>P("limit",parseInt($.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:25,children:"25"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Transaction ID"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Products"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Method"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:c?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-10 text-center text-gray-500",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),n.jsx("span",{children:"Loading transactions..."})]})})}):t.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"px-6 py-10 text-center text-gray-500",children:"No transactions found"})}):t.map($=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.razorpay_payment_id}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Order: ",$.razorpay_order_id]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Kn,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:(()=>{const R=$.customer?.name?.trim(),q=$.customer?.email||"";return!R||R.toLowerCase()==="john doe"||R.toLowerCase()==="user"?q:R})()}),n.jsx("div",{className:"text-xs text-gray-500",children:$.customer.email})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:[$.order.items.length," item(s)"]}),n.jsxs("div",{className:"text-xs text-gray-500",children:[$.order.items.slice(0,2).map(R=>R.name).join(", "),$.order.items.length>2&&"..."]})]}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm font-bold text-gray-900",children:["₹",$.order.totalAmount.toLocaleString("en-IN")]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[ae($.paymentMethod),n.jsx("span",{className:"text-sm text-gray-600 capitalize",children:$.paymentMethod.replace("-"," ")})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[Y($.status),n.jsx("span",{className:`text-sm font-medium capitalize ${$.status==="completed"?"text-green-600":$.status==="failed"?"text-red-600":$.status==="pending"?"text-yellow-600":"text-blue-600"}`,children:$.status})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-900",children:E($.paymentDate)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("button",{onClick:()=>F($._id),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[n.jsx(Du,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"View"})]})})]},$._id))})]})}),m.pages>1&&n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(m.page-1)*m.limit+1," to"," ",Math.min(m.page*m.limit,m.total)," of"," ",m.total," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>M(m.page-1),disabled:m.page<=1,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),n.jsxs("span",{className:"px-3 py-1 text-sm text-gray-700",children:["Page ",m.page," of ",m.pages]}),n.jsx("button",{onClick:()=>M(m.page+1),disabled:m.page>=m.pages,className:"px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),j&&y&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>S(!1)}),n.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Transaction Details"}),n.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(c1,{className:"w-5 h-5 text-gray-600"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Payment Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment ID:"}),n.jsx("span",{className:"font-medium",children:y.razorpay_payment_id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Order ID:"}),n.jsx("span",{className:"font-medium",children:y.razorpay_order_id})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Amount:"}),n.jsxs("span",{className:"font-bold text-lg",children:["₹",y.order.totalAmount.toLocaleString("en-IN")]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`font-medium ${y.status==="completed"?"text-green-600":y.status==="failed"?"text-red-600":"text-yellow-600"}`,children:y.status})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),n.jsx("span",{className:"font-medium capitalize",children:y.paymentMethod.replace("-"," ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsx("span",{className:"font-medium",children:E(y.paymentDate)})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:"Customer Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Name:"}),n.jsx("span",{className:"font-medium",children:(()=>{const $=y.customer?.name?.trim(),R=y.customer?.email||"";return!$||$.toLowerCase()==="john doe"||$.toLowerCase()==="user"?R:$})()})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("span",{className:"font-medium",children:y.customer.email})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Phone:"}),n.jsx("span",{className:"font-medium",children:y.customer.phone})]}),y.customer.address&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Address:"}),n.jsx("span",{className:"font-medium",children:y.customer.address})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Order Items"}),n.jsx("div",{className:"space-y-3",children:y.order.items.map(($,R)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:$.name}),n.jsx("div",{className:"text-sm text-gray-500",children:$.category})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"font-medium",children:["₹",$.price.toLocaleString("en-IN")]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Qty: ",$.quantity]})]})]},R))})]})]})]})]})]})};Wf.register(D3,I3,S3,Vf,k3,M3,O3,P3,w3,L3);const VO=()=>{Mr();const{success:s,error:e}=cr(),{signOut:t}=zu(),[r,a]=T.useState(!0),[i,c]=T.useState("overview"),[d,u]=T.useState("");T.useEffect(()=>{try{const ue=JSON.parse(localStorage.getItem("freshnest_user")||"null"),Le=ue?.email||ue?.primaryEmail||"";Le&&u(String(Le).trim().toLowerCase())}catch{}},[]);const[f,m]=T.useState([]),[b,y]=T.useState(!1),[x,j]=T.useState([]),[S,A]=T.useState(!1),[k,P]=T.useState(!1),[M,F]=T.useState(!1),[B,ae]=T.useState(null),[Y,E]=T.useState(0),I=(ue,Le=1)=>{m(Be=>Be.find(Fe=>Fe._id===ue._id)?Be.map(Fe=>Fe._id===ue._id?{...Fe,quantity:Fe.quantity+Le}:Fe):[...Be,{...ue,quantity:Le}]),s(`Added ${ue.name} to cart!`)},$=ue=>{m(Le=>Le.filter(Be=>Be._id!==ue)),s("Item removed from cart")},R=(ue,Le)=>{if(Le<=0){$(ue);return}m(Be=>Be.map(Ze=>Ze._id===ue?{...Ze,quantity:Le}:Ze))},q=ue=>{j(Le=>Le.find(Ze=>Ze._id===ue._id)?(s("Removed from wishlist"),Le.filter(Ze=>Ze._id!==ue._id)):(s("Added to wishlist"),[...Le,ue]))},ie=()=>f.reduce((ue,Le)=>ue+Le.price*Le.quantity,0),K=()=>f.reduce((ue,Le)=>ue+Le.quantity,0),oe=ue=>{const Le=ie();E(Le),s("Payment successful! Order placed successfully! 🎉"),m([]),A(!1),P(!1),ae(ue),F(!0),console.log("Payment successful:",ue),i==="transactions"&&window.dispatchEvent(new CustomEvent("refreshTransactions")),c("purchases")},Z=ue=>{e(`Payment failed: ${ue.message}`),P(!1),console.error("Payment error:",ue)},se=()=>{A(!1),P(!0)},ee=()=>n.jsxs("div",{className:`fixed inset-0 z-50 ${b?"block":"hidden"}`,children:[n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>y(!1)}),n.jsxs("div",{className:"absolute right-0 top-0 h-full w-96 bg-white shadow-2xl flex flex-col",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Shopping Cart"}),n.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-600"})})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:f.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Sl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"Your cart is empty"}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Add some products to get started!"})]}):n.jsx("div",{className:"space-y-4",children:f.map(ue=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-xl",children:[n.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-lg flex items-center justify-center",children:n.jsx(wn,{className:"w-8 h-8 text-emerald-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:ue.name}),n.jsx("p",{className:"text-sm text-gray-500",children:ue.category}),n.jsxs("p",{className:"text-lg font-bold text-emerald-600",children:["₹",ue.price.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>R(ue._id,ue.quantity-1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(O8,{className:"w-4 h-4 text-gray-600"})}),n.jsx("span",{className:"w-8 text-center font-semibold",children:ue.quantity}),n.jsx("button",{onClick:()=>R(ue._id,ue.quantity+1),className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(yf,{className:"w-4 h-4 text-gray-600"})})]}),n.jsx("button",{onClick:()=>$(ue._id),className:"p-2 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(gp,{className:"w-4 h-4 text-red-600"})})]},ue._id))})}),f.length>0&&n.jsxs("div",{className:"p-6 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),n.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:["₹",ie().toFixed(2)]})]}),n.jsxs("button",{onClick:se,className:"w-full bg-emerald-600 text-white py-3 rounded-xl hover:bg-emerald-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[n.jsx(Ll,{className:"w-5 h-5"}),n.jsx("span",{children:"Pay with Razorpay"})]})]})]})]}),pe=()=>({items:f.map(ue=>({id:ue._id,name:ue.name,price:ue.price,quantity:ue.quantity,category:ue.category})),customer:{id:d||"guest",name:d||"User",email:d,phone:""},totalAmount:ie()}),Q=()=>{const[ue,Le]=T.useState([]),[Be,Ze]=T.useState(!1),[Fe,je]=T.useState(""),[ne,lt]=T.useState(""),[st,it]=T.useState("name"),ze=async()=>{try{Ze(!0);const qe={page:1,limit:50};Fe&&(qe.search=Fe),ne&&(qe.category=ne);let dt=(await Yn.publicList(qe))?.data?.items||[];dt.sort((Rt,ft)=>{switch(st){case"price-low":return Rt.price-ft.price;case"price-high":return ft.price-Rt.price;case"name":default:return Rt.name.localeCompare(ft.name)}}),Le(dt)}catch(qe){console.error("Failed to load products:",qe),e("Failed to load products")}finally{Ze(!1)}};T.useEffect(()=>{ze()},[Fe,ne,st]);const et=({product:qe})=>{const Nt=x.find(Rt=>Rt._id===qe._id),dt=f.find(Rt=>Rt._id===qe._id);return n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200 group",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-xl flex items-center justify-center mb-4",children:n.jsx(wn,{className:"w-16 h-16 text-emerald-600"})}),n.jsx("button",{onClick:()=>q(qe),className:`absolute top-3 right-3 p-2 rounded-full transition-colors ${Nt?"bg-red-100 text-red-600":"bg-white/80 text-gray-600 hover:bg-red-100 hover:text-red-600"}`,children:n.jsx(M8,{className:`w-5 h-5 ${Nt?"fill-current":""}`})}),qe.stock<10&&n.jsx("div",{className:"absolute top-3 left-3 bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-semibold",children:"Low Stock"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-emerald-600 transition-colors",children:qe.name}),n.jsx("p",{className:"text-sm text-gray-500",children:qe.category}),qe.brand&&n.jsxs("p",{className:"text-xs text-gray-400",children:["Brand: ",qe.brand]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["₹",qe.price.toFixed(2)]}),n.jsxs("p",{className:"text-sm text-gray-500",children:["per ",qe.unit]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm text-gray-600",children:["Stock: ",qe.stock]}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[[...Array(5)].map((Rt,ft)=>n.jsx(W0,{className:"w-3 h-3 text-yellow-400 fill-current"},ft)),n.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(4.8)"})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:dt?n.jsxs("button",{onClick:()=>y(!0),className:"flex-1 bg-emerald-600 text-white py-2 px-4 rounded-xl hover:bg-emerald-700 transition-colors font-semibold flex items-center justify-center space-x-2",children:[n.jsx(Sl,{className:"w-4 h-4"}),n.jsx("span",{children:"View Cart"})]}):n.jsxs("button",{onClick:()=>I(qe),disabled:qe.stock===0,className:"flex-1 bg-emerald-600 text-white py-2 px-4 rounded-xl hover:bg-emerald-700 transition-colors font-semibold disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[n.jsx(yf,{className:"w-4 h-4"}),n.jsx("span",{children:qe.stock===0?"Out of Stock":"Add to Cart"})]})})]})]})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"FreshNest Shop"}),n.jsx("p",{className:"text-gray-600",children:"Shop fresh products from our warehouse"})]}),n.jsxs("button",{onClick:()=>y(!0),className:"relative bg-emerald-600 text-white px-6 py-3 rounded-xl hover:bg-emerald-700 transition-colors font-semibold flex items-center space-x-2",children:[n.jsx(Sl,{className:"w-5 h-5"}),n.jsx("span",{children:"Cart"}),K()>0&&n.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center",children:K()})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Rc,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),n.jsx("input",{type:"text",value:Fe,onChange:qe=>je(qe.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),n.jsxs("select",{value:ne,onChange:qe=>lt(qe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"fruits",children:"Fruits"}),n.jsx("option",{value:"vegetables",children:"Vegetables"}),n.jsx("option",{value:"dairy",children:"Dairy"}),n.jsx("option",{value:"bakery",children:"Bakery"}),n.jsx("option",{value:"meat",children:"Meat"}),n.jsx("option",{value:"seafood",children:"Seafood"})]}),n.jsxs("select",{value:st,onChange:qe=>it(qe.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[n.jsx("option",{value:"name",children:"Sort by Name"}),n.jsx("option",{value:"price-low",children:"Price: Low to High"}),n.jsx("option",{value:"price-high",children:"Price: High to Low"})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[n.jsx(wn,{className:"w-4 h-4"}),n.jsxs("span",{children:[ue.length," products found"]})]})]})]}),Be?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),n.jsx("p",{className:"text-gray-500 mt-4",children:"Loading products..."})]}):ue.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(wn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 text-lg",children:"No products found"}),n.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Try adjusting your search or filters"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ue.map(qe=>n.jsx(et,{product:qe},qe._id))})]})},me=async()=>{try{s("Logging out... See you soon! 👋",{duration:2e3}),console.log("🔄 Starting logout process..."),await Ut.logout(),console.log("✅ Cleared backend session"),await t(),console.log("✅ Signed out from Clerk"),Ut.clearAuthData(),console.log("✅ Cleared all auth data"),setTimeout(()=>{window.location.replace("/freshnest-frontend/login")},1500)}catch(ue){console.error("Logout error:",ue),e("Logout failed, but clearing session anyway",{duration:3e3});try{await t()}catch(Le){console.error("Clerk signout error:",Le)}Ut.clearAuthData(),setTimeout(()=>{window.location.replace("/freshnest-frontend/login")},1500)}},[O]=T.useState([{id:1,name:"Organic Tomatoes",category:"Fresh Vegetables",stock:150,supplier:"Green Valley Farms",lastUpdated:"2024-01-28",status:"In Stock",price:"$3.99/kg"},{id:2,name:"Fresh Spinach",category:"Leafy Greens",stock:25,supplier:"Organic Harvest Co.",lastUpdated:"2024-01-28",status:"Low Stock",price:"$2.49/kg"},{id:3,name:"Premium Apples",category:"Seasonal Fruits",stock:200,supplier:"Mountain Orchards",lastUpdated:"2024-01-27",status:"In Stock",price:"$4.99/kg"},{id:4,name:"Organic Milk",category:"Dairy Products",stock:80,supplier:"Pure Dairy Farms",lastUpdated:"2024-01-28",status:"In Stock",price:"$3.29/L"},{id:5,name:"Whole Grain Bread",category:"Bakery Items",stock:12,supplier:"Artisan Bakery",lastUpdated:"2024-01-28",status:"Low Stock",price:"$2.99/loaf"}]),[V]=T.useState([{id:1,message:"25 items are in low stock",type:"warning",time:"2 hours ago"},{id:2,message:'New supplier "Fresh Valley Co." added',type:"info",time:"1 day ago"},{id:3,message:"Weekly inventory report generated",type:"success",time:"2 days ago"}]),te={labels:["Organic Tomatoes","Premium Apples","Fresh Spinach","Organic Milk","Whole Grain Bread"],datasets:[{label:"Units Sold",data:[450,380,290,320,180],backgroundColor:["#059669","#10b981","#34d399","#6ee7b7","#a7f3d0"],borderWidth:0}]},he={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Stock Level",data:[85,78,82,75,88,92],borderColor:"#059669",backgroundColor:"rgba(5, 150, 105, 0.1)",tension:.4,fill:!0}]},fe=[{id:"overview",label:"Overview",icon:mp},{id:"shop",label:"Shop Products",icon:gv},{id:"purchases",label:"My Purchases",icon:Sl},{id:"transactions",label:"Payment History",icon:Ll},{id:"inventory",label:"Inventory View",icon:wn},{id:"reports",label:"Stock Reports",icon:Sd},{id:"insights",label:"Warehouse Insights",icon:kc},{id:"notifications",label:"Notifications",icon:Ac},{id:"profile",label:"Profile",icon:Kn}],ve=({title:ue,value:Le,subtitle:Be,icon:Ze,status:Fe,trend:je})=>n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:`p-3 rounded-xl ${Fe==="good"?"bg-emerald-50":Fe==="warning"?"bg-amber-50":"bg-blue-50"}`,children:n.jsx(Ze,{className:`w-6 h-6 ${Fe==="good"?"text-emerald-600":Fe==="warning"?"text-amber-600":"text-blue-600"}`})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:ue}),Be&&n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:Be})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:Le}),je&&n.jsxs("div",{className:`flex items-center space-x-1 text-sm font-medium ${je.type==="up"?"text-emerald-600":je.type==="down"?"text-red-600":"text-gray-600"}`,children:[je.type==="up"?n.jsx(_d,{className:"w-4 h-4"}):je.type==="down"?n.jsx(J1,{className:"w-4 h-4"}):null,n.jsx("span",{children:je.value})]})]})]})})}),Ce=()=>{const[ue,Le]=T.useState(""),[Be,Ze]=T.useState(""),[Fe,je]=T.useState(""),[ne,lt]=T.useState(1),[st]=T.useState(10),[it,ze]=T.useState([]),[et,qe]=T.useState(1),[Nt,dt]=T.useState(!1),[Rt,ft]=T.useState(""),ut=async()=>{try{dt(!0),ft("");const Qe={page:ne,limit:st};ue&&(Qe.search=ue),Be&&(Qe.category=Be),Fe&&(Qe.status=Fe);const rt=await Yn.publicList(Qe),Pt=rt?.data?.items||[],xt=rt?.data?.pagination||{pages:1};ze(Pt),qe(xt.pages||1)}catch(Qe){console.error("Load products failed:",Qe),ft("Failed to load products")}finally{dt(!1)}};T.useEffect(()=>{ut()},[ne,Be,Fe]);const _t=Qe=>{Qe.preventDefault(),lt(1),ut()};return n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Inventory Overview"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Products managed by admin"})]}),n.jsxs("form",{onSubmit:_t,className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Rc,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),n.jsx("input",{type:"text",value:ue,onChange:Qe=>Le(Qe.target.value),placeholder:"Search by name, SKU, brand...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 text-sm w-64"})]}),n.jsxs("select",{value:Be,onChange:Qe=>{Ze(Qe.target.value),lt(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All Categories"}),n.jsx("option",{value:"fruits",children:"Fruits"}),n.jsx("option",{value:"vegetables",children:"Vegetables"}),n.jsx("option",{value:"dairy",children:"Dairy"})]}),n.jsxs("select",{value:Fe,onChange:Qe=>{je(Qe.target.value),lt(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]}),n.jsx("button",{type:"submit",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(xf,{className:"w-4 h-4 text-gray-600"})})]})]})}),Rt&&n.jsx("div",{className:"px-6 py-3 bg-red-50 text-red-700 text-sm",children:Rt}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Product"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Category"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Supplier"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Price"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Last Updated"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:Nt?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center text-gray-500",children:"Loading products..."})}):it.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"7",className:"px-6 py-10 text-center text-gray-500",children:"No products found"})}):it.map(Qe=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center mr-3",children:n.jsx(wn,{className:"w-5 h-5 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Qe.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",Qe.sku]})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:Qe.category})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[Qe.stock," ",Qe.unit||"unit"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:Qe.supplierName||"-"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",Qe.price?.toFixed?Qe.price.toFixed(2):Qe.price]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-500",children:new Date(Qe.updatedAt||Qe.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${(Qe.status||"active")==="active"?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:Qe.status||"active"})})]},Qe._id))})]})}),n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-100 text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:["Page ",ne," of ",et]}),n.jsxs("div",{className:"space-x-2",children:[n.jsx("button",{onClick:()=>lt(Qe=>Math.max(1,Qe-1)),disabled:ne<=1,className:`px-3 py-1.5 rounded-lg border ${ne<=1?"text-gray-400 bg-gray-50":"hover:bg-gray-50"}`,children:"Previous"}),n.jsx("button",{onClick:()=>lt(Qe=>Math.min(et,Qe+1)),disabled:ne>=et,className:`px-3 py-1.5 rounded-lg border ${ne>=et?"text-gray-400 bg-gray-50":"hover:bg-gray-50"}`,children:"Next"})]})]})]})};return n.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50",children:[n.jsxs("div",{className:`${r?"w-72":"w-20"} bg-gradient-to-b from-emerald-600 via-emerald-700 to-emerald-800 shadow-2xl transition-all duration-300 flex flex-col relative overflow-hidden`,children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent"}),n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-3xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/5 rounded-full blur-2xl"}),n.jsx("div",{className:"h-20 flex items-center px-8 border-b border-emerald-500/30 relative z-10",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-emerald-600 font-bold text-lg",children:"🌱"})}),r&&n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"FreshNest"}),n.jsx("p",{className:"text-sm text-emerald-200 font-medium",children:"User Portal"})]})]})}),r&&n.jsx("div",{className:"px-8 py-6 border-b border-emerald-500/30 relative z-10",children:n.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 backdrop-blur-sm",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center",children:n.jsx(Kn,{className:"w-6 h-6 text-emerald-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-white",children:"Welcome,"}),n.jsx("p",{className:"text-xs text-emerald-200 truncate",children:d||"Loading..."})]})]}),n.jsx("div",{className:"bg-emerald-500/20 rounded-lg p-2",children:n.jsx("p",{className:"text-xs text-emerald-100 font-medium",children:"Enjoy your personalized dashboard experience"})})]})}),n.jsx("nav",{className:"flex-1 px-6 py-8 relative z-10",children:n.jsx("div",{className:"space-y-2",children:fe.map(ue=>{const Le=ue.icon,Be=i===ue.id;return n.jsxs("button",{onClick:()=>c(ue.id),className:`w-full flex items-center px-4 py-4 text-sm font-semibold rounded-2xl transition-all duration-200 ${Be?"bg-white text-emerald-700 shadow-lg scale-105":"text-emerald-100 hover:text-white hover:bg-emerald-600/50 hover:scale-105"}`,children:[n.jsx(Le,{className:"w-5 h-5 mr-4"}),r&&n.jsx("span",{className:"font-medium",children:ue.label})]},ue.id)})})}),n.jsx("div",{className:"px-6 py-6 border-t border-emerald-500/30 relative z-10",children:n.jsxs("button",{onClick:me,className:"w-full flex items-center px-4 py-4 text-sm font-semibold text-emerald-100 hover:text-white hover:bg-emerald-600/50 rounded-2xl transition-all duration-200 hover:scale-105",children:[n.jsx(Iu,{className:"w-5 h-5 mr-4"}),r&&n.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"h-20 bg-white/90 backdrop-blur-xl border-b border-gray-200/50 shadow-sm",children:n.jsxs("div",{className:"h-full flex items-center justify-between px-8",children:[n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsx("button",{onClick:()=>a(!r),className:"p-3 hover:bg-gray-100 rounded-2xl transition-all duration-200 border border-gray-200",children:r?n.jsx(Jr,{className:"w-6 h-6 text-gray-600"}):n.jsx(pp,{className:"w-6 h-6 text-gray-600"})}),n.jsxs("div",{className:"border-l border-gray-200 pl-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 capitalize",children:i==="overview"?"Dashboard Overview":i.replace("-"," ")}),n.jsx("p",{className:"text-sm text-gray-500 font-medium mt-1",children:"FreshNest Warehouse Management System"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>y(!0),className:"relative p-3 hover:bg-gray-100 rounded-2xl transition-all duration-200 border border-gray-200",children:[n.jsx(Sl,{className:"w-6 h-6 text-gray-600"}),K()>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-emerald-500 rounded-full text-xs text-white flex items-center justify-center font-semibold",children:K()})]}),n.jsxs("div",{className:"relative",children:[n.jsx(Ac,{className:"w-6 h-6 text-gray-600"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:V.length})]}),n.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 rounded-2xl px-4 py-2 border border-gray-200",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center",children:n.jsx(Kn,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"hidden md:block",children:[n.jsx("p",{className:"text-sm font-bold text-gray-900",children:"User Access"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Standard"})]})]})]})]})}),n.jsxs("main",{className:"flex-1 overflow-y-auto p-8",children:[i==="overview"&&n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(ve,{title:"Total Products",value:"1,247",subtitle:"Items in inventory",icon:wn,status:"good",trend:{type:"up",value:"+12% this month"}}),n.jsx(ve,{title:"Low Stock Items",value:"25",subtitle:"Need attention",icon:Dn,status:"warning",trend:{type:"down",value:"-5% from last week"}}),n.jsx(ve,{title:"Active Suppliers",value:"18",subtitle:"Verified partners",icon:Cd,status:"good",trend:{type:"up",value:"+2 new suppliers"}}),n.jsx(ve,{title:"Inventory Health",value:"92%",subtitle:"Overall status",icon:Nd,status:"good",trend:{type:"up",value:"+3% improvement"}})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Recent Activity"}),n.jsx("div",{className:"space-y-4",children:V.map(ue=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${ue.type==="warning"?"bg-amber-100":ue.type==="success"?"bg-emerald-100":"bg-blue-100"}`,children:ue.type==="warning"?n.jsx(Dn,{className:"w-4 h-4 text-amber-600"}):ue.type==="success"?n.jsx(Nd,{className:"w-4 h-4 text-emerald-600"}):n.jsx(Ac,{className:"w-4 h-4 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ue.time})]})]},ue.id))})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>c("shop"),className:"p-4 bg-emerald-50 hover:bg-emerald-100 rounded-xl transition-colors text-left",children:[n.jsx(gv,{className:"w-6 h-6 text-emerald-600 mb-2"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Shop Products"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Buy from warehouse"})]}),n.jsxs("button",{onClick:()=>c("inventory"),className:"p-4 bg-blue-50 hover:bg-blue-100 rounded-xl transition-colors text-left",children:[n.jsx(Du,{className:"w-6 h-6 text-blue-600 mb-2"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"View Inventory"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Browse all products"})]}),n.jsxs("button",{onClick:()=>c("reports"),className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors text-left",children:[n.jsx(no,{className:"w-6 h-6 text-purple-600 mb-2"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Download Reports"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Get stock summaries"})]}),n.jsxs("button",{onClick:()=>c("transactions"),className:"p-4 bg-purple-50 hover:bg-purple-100 rounded-xl transition-colors text-left",children:[n.jsx(Ll,{className:"w-6 h-6 text-purple-600 mb-2"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"Payment History"}),n.jsx("p",{className:"text-xs text-gray-500",children:"View all transactions"})]}),n.jsxs("button",{onClick:()=>c("insights"),className:"p-4 bg-amber-50 hover:bg-amber-100 rounded-xl transition-colors text-left",children:[n.jsx(kc,{className:"w-6 h-6 text-amber-600 mb-2"}),n.jsx("p",{className:"font-semibold text-gray-900",children:"View Insights"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Analytics & trends"})]})]})]})]})]}),i==="shop"&&n.jsx(Q,{}),i==="purchases"&&n.jsx("div",{className:"space-y-6",children:n.jsx(HO,{})}),i==="transactions"&&n.jsx("div",{className:"space-y-6",children:n.jsx(WO,{})}),i==="inventory"&&n.jsx("div",{className:"space-y-6",children:n.jsx(Ce,{})}),i==="reports"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx(Sd,{className:"w-16 h-16 text-emerald-600 mx-auto mb-4"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stock Reports"}),n.jsx("p",{className:"text-gray-600",children:"Download comprehensive inventory reports"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[n.jsx(ua,{className:"w-8 h-8 text-blue-600 mb-4"}),n.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Daily Summary"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Today's inventory status and movements"}),n.jsx("button",{className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Download PDF"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[n.jsx(kc,{className:"w-8 h-8 text-emerald-600 mb-4"}),n.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Weekly Summary"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"7-day inventory analysis and trends"}),n.jsx("button",{className:"w-full bg-emerald-600 text-white py-2 rounded-lg hover:bg-emerald-700 transition-colors",children:"Download Excel"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-all",children:[n.jsx(Dn,{className:"w-8 h-8 text-amber-600 mb-4"}),n.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Low Stock Alert"}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Products that need restocking"}),n.jsx("button",{className:"w-full bg-amber-600 text-white py-2 rounded-lg hover:bg-amber-700 transition-colors",children:"Download PDF"})]})]})]})}),i==="insights"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Top 5 Products"}),n.jsx("div",{className:"h-80",children:n.jsx(q3,{data:te,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}}})})]}),n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Stock Trends"}),n.jsx("div",{className:"h-80",children:n.jsx(U3,{data:he,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{callback:function(ue){return ue+"%"}}}}}})})]})]})}),i==="notifications"&&n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"All Notifications"}),n.jsx("div",{className:"space-y-4",children:V.map(ue=>n.jsxs("div",{className:"flex items-start space-x-4 p-4 border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${ue.type==="warning"?"bg-amber-100":ue.type==="success"?"bg-emerald-100":"bg-blue-100"}`,children:ue.type==="warning"?n.jsx(Dn,{className:"w-5 h-5 text-amber-600"}):ue.type==="success"?n.jsx(Nd,{className:"w-5 h-5 text-emerald-600"}):n.jsx(Ac,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:ue.message}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ue.time})]})]},ue.id))})]}),i==="profile"&&n.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"w-24 h-24 bg-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Kn,{className:"w-12 h-12 text-white"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"User Profile"}),n.jsx("p",{className:"text-gray-600",children:"View your account information"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Email Address"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mt-1",children:d})]}),n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Role"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mt-1",children:"User"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Access Level"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mt-1",children:"Standard"})]}),n.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Last Login"}),n.jsx("p",{className:"text-lg font-medium text-gray-900 mt-1",children:"Today, 9:30 AM"})]})]}),n.jsx("div",{className:"text-center pt-6",children:n.jsx("button",{onClick:me,className:"bg-red-600 text-white px-8 py-3 rounded-xl hover:bg-red-700 transition-colors font-semibold",children:"Sign Out"})})]})]})})]})]}),n.jsx(ee,{}),n.jsx(PN,{isOpen:k,onClose:()=>P(!1),orderData:pe(),totalAmount:ie(),customerInfo:{name:d||"User",email:d,phone:"+91 98765 43210",address:"123 Main St, City, State 12345"},onSuccess:oe,onError:Z}),n.jsx(O4,{isOpen:M,onClose:()=>F(!1),orderNumber:B?.paymentResponse?.razorpay_order_id?.replace("order_",""),details:{date:new Date().toLocaleDateString(),method:"Razorpay",total:`₹${Y.toFixed(2)}`,email:d},onViewInvoice:()=>{try{const ue={id:B?.paymentResponse?.razorpay_order_id,date:Date.now(),customer:{name:d||"User",email:d,phone:"",address:""},items:pe().items,totalAmount:pe().totalAmount,currencySymbol:"₹"},Le={id:B?.paymentResponse?.razorpay_payment_id,method:"Razorpay",status:"Paid"};ny.generateInvoice(ue,Le)}catch(ue){console.error("Invoice error:",ue)}}})]})},$O=()=>{const{user:s,logout:e,updateProfile:t,authService:r}=Wu(),a=Mr(),{success:i,error:c}=cr(),[d,u]=T.useState(!1),[f,m]=T.useState(null);T.useEffect(()=>{const j=r.getAccessToken(),S=r.getRefreshToken(),A=r.isTokenExpired();m({hasToken:!!j,hasRefreshToken:!!S,isExpired:A})},[r]);const b=async()=>{try{u(!0),i("Logging out... See you soon! 👋",{duration:2e3}),await e(),setTimeout(()=>{a("/login")},1500)}catch(j){console.error("Logout error:",j),c("Logout failed, please try again",{duration:3e3})}finally{u(!1)}},y=async()=>{try{u(!0),await t(),i("Profile refreshed successfully! ✨",{duration:3e3})}catch(j){console.error("Profile refresh error:",j),c("Failed to refresh profile. Please try again.",{duration:4e3})}finally{u(!1)}},x=async()=>{try{u(!0);const j=await r.apiRequest(`${r.API_BASE_URL||"http://localhost:3001"}/api/auth/profile`),S=await j.json();j.ok?(i("Protected API call successful! 🎉",{duration:3e3}),console.log("API Response:",S)):c("Protected API call failed: "+S.error,{duration:4e3})}catch(j){console.error("API test error:",j),c("API test failed: "+j.message,{duration:4e3})}finally{u(!1)}};return s?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2",children:["Welcome, ",s.fullName,"!"]}),n.jsx("p",{className:"text-slate-600",children:"JWT Authentication Dashboard"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:y,disabled:d,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[n.jsx(Wa,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh Profile"]}),n.jsxs("button",{onClick:b,disabled:d,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors",children:[n.jsx(Iu,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[n.jsx(Kn,{className:"w-5 h-5 mr-2 text-emerald-600"}),"User Information"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx(Kn,{className:"w-5 h-5 text-slate-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Full Name"}),n.jsx("p",{className:"font-medium text-slate-800",children:s.fullName})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx(Mc,{className:"w-5 h-5 text-slate-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Email"}),n.jsx("p",{className:"font-medium text-slate-800",children:s.email})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx(Uf,{className:"w-5 h-5 text-slate-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Phone"}),n.jsx("p",{className:"font-medium text-slate-800",children:s.phone})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx(Nc,{className:"w-5 h-5 text-slate-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Role"}),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.role==="admin"?"bg-red-100 text-red-800":s.role==="retailer"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.role})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx(Vu,{className:"w-5 h-5 text-green-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Email Verified"}),n.jsx("p",{className:"font-medium text-slate-800",children:s.isEmailVerified?"Yes":"No"})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[n.jsxs("h2",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center",children:[n.jsx(Nc,{className:"w-5 h-5 mr-2 text-emerald-600"}),"JWT Token Status"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${f?.hasToken?"bg-green-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Access Token"}),n.jsx("p",{className:"font-medium text-slate-800",children:f?.hasToken?"Present":"Missing"})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${f?.hasRefreshToken?"bg-green-500":"bg-red-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Refresh Token"}),n.jsx("p",{className:"font-medium text-slate-800",children:f?.hasRefreshToken?"Present":"Missing"})]})]}),n.jsxs("div",{className:"flex items-center p-3 bg-slate-50 rounded-lg",children:[n.jsx(_i,{className:`w-5 h-5 mr-3 ${f?.isExpired?"text-red-500":"text-green-500"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-500",children:"Token Status"}),n.jsx("p",{className:`font-medium ${f?.isExpired?"text-red-600":"text-green-600"}`,children:f?.isExpired?"Expired":"Valid"})]})]}),n.jsxs("button",{onClick:x,disabled:d,className:"w-full flex items-center justify-center px-4 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-50 transition-colors",children:[n.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Test Protected API"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 mt-6",children:[n.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Account Actions"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("button",{onClick:()=>a("/profile"),className:"flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Kn,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),n.jsxs("button",{onClick:()=>a("/settings"),className:"flex items-center justify-center px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[n.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Settings"]}),n.jsxs("button",{onClick:()=>a("/change-password"),className:"flex items-center justify-center px-4 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[n.jsx(Nc,{className:"w-4 h-4 mr-2"}),"Change Password"]})]})]})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-emerald-600"})})},GO=()=>{const s=Mr();return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[n.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"🎛️ Admin Dashboard Test"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Admin Credentials:"}),n.jsxs("p",{className:"text-sm text-blue-700",children:[n.jsx("strong",{children:"Email:"})," saranyamariajohnson@mca.ajce.in",n.jsx("br",{}),n.jsx("strong",{children:"Password:"})," Saranya@20003"]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>s("/login"),className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"🔐 Go to Login Page"}),n.jsx("button",{onClick:()=>s("/admin/dashboard"),className:"w-full bg-red-600 text-white py-3 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium",children:"🎛️ Direct to Admin Dashboard"}),n.jsx("button",{onClick:()=>s("/"),className:"w-full bg-gray-600 text-white py-3 px-4 rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"🏠 Back to Home"})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Test Steps:"}),n.jsxs("ol",{className:"text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:'1. Click "Go to Login Page"'}),n.jsx("li",{children:"2. Enter admin credentials"}),n.jsx("li",{children:"3. Should auto-redirect to dashboard"}),n.jsx("li",{children:"4. Test sidebar and charts"})]})]})]})]})})};function YO(s){return!s||s.trim()===""?"Email is required":s.includes(" ")?"Email cannot contain spaces":/^[a-z][a-z0-9]*(?:[-][a-z0-9]+)*@(gmail\.com|mca\.ajce\.in|yahoo\.com)$/.test(s)?"":"Enter a valid email address (gmail.com, mca.ajce.in, or yahoo.com only)"}const KO=()=>{const s=Mr(),[e,t]=T.useState(""),[r,a]=T.useState(""),[i,c]=T.useState(""),[d,u]=T.useState(!1),[f,m]=T.useState(!1);function b(x){t(x.target.value),a(""),c("")}async function y(x){x.preventDefault();const j=YO(e);if(j){a(j);return}u(!0),a(""),c("");try{const S=await fetch(`${Rs}/api/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),A=await S.json();u(!1),S.ok?(c("Password reset link has been sent to your email address."),m(!0)):a(A.error||"Failed to send reset email")}catch{u(!1),a("Server error. Please try again.")}}return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center pl-[31rem] pr-[31rem]",children:n.jsxs("div",{className:"w-full max-w-xs sm:max-w-sm md:max-w-md",children:[n.jsxs("button",{onClick:()=>s("/login"),className:"mb-4 sm:mb-6 md:mb-8 flex items-center text-slate-600 hover:text-slate-800 transition-colors group",children:[n.jsx(o1,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Back to Login"})]}),n.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl md:rounded-3xl shadow-xl border border-slate-200/60 overflow-hidden",children:[n.jsxs("div",{className:"px-4 sm:px-6 md:px-8 pt-4 sm:pt-6 md:pt-8 pb-3 sm:pb-4 md:pb-6 text-center",children:[n.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl sm:rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4 md:mb-6 shadow-lg",children:n.jsx(L0,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-white"})}),n.jsxs("div",{className:"mb-3 sm:mb-4 md:mb-6",children:[n.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold text-slate-800 mb-1",children:[n.jsx("span",{className:"text-emerald-600",children:"Fresh"}),n.jsx("span",{className:"text-slate-800",children:"Nest"})]}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-500 font-medium",children:"Password Recovery"})]})]}),n.jsx("div",{className:"px-4 sm:px-6 md:px-8 pb-4 sm:pb-6 md:pb-8",children:f?n.jsx(n.Fragment,{children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 md:w-20 md:h-20 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4 md:mb-6 shadow-lg",children:n.jsx(Vu,{className:"w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 text-white"})}),n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-slate-800 mb-3",children:"Check Your Email"}),n.jsx("p",{className:"text-slate-600 mb-2 leading-relaxed text-xs sm:text-sm",children:"We've sent a password reset link to:"}),n.jsx("p",{className:"text-emerald-600 font-semibold mb-3 sm:mb-4 md:mb-6 bg-emerald-50 px-2 sm:px-3 md:px-4 py-2 rounded-lg border border-emerald-200 text-xs sm:text-sm md:text-base break-all",children:e}),n.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.jsx("div",{className:"p-3 sm:p-4 bg-blue-50 rounded-lg sm:rounded-xl border border-blue-200",children:n.jsxs("p",{className:"text-xs sm:text-sm text-blue-800 leading-relaxed text-left",children:[n.jsx("strong",{children:"Next steps:"}),n.jsx("br",{}),"1. Check your email inbox",n.jsx("br",{}),"2. Click the reset link",n.jsx("br",{}),"3. Create your new password"]})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-500 px-2",children:"Didn't receive the email? Check your spam folder or try again with a different email address."}),n.jsx("button",{onClick:()=>{m(!1),t(""),c("")},className:"text-emerald-600 hover:text-emerald-700 font-medium text-xs sm:text-sm transition-colors",children:"Try with a different email"})]})]})}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center mb-4 sm:mb-6 md:mb-8",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-slate-800 mb-2",children:"Forgot your password?"}),n.jsx("p",{className:"text-slate-600 text-xs sm:text-sm leading-relaxed px-2",children:"No worries! Enter your email address and we'll send you a secure link to reset your password."})]}),n.jsxs("form",{onSubmit:y,className:"space-y-4 sm:space-y-5 md:space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-xs sm:text-sm font-medium text-slate-700",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Mc,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4 sm:w-5 sm:h-5"}),n.jsx("input",{type:"email",name:"email",placeholder:"Enter your email address",className:"w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-2.5 sm:py-3 md:py-3.5 border border-slate-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all text-slate-800 placeholder-slate-400 text-xs sm:text-sm md:text-base",value:e,onChange:b})]}),r&&n.jsxs("p",{className:"text-red-500 text-xs sm:text-sm flex items-center mt-2",children:[n.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2 flex-shrink-0"}),n.jsx("span",{className:"break-words",children:r})]})]}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-2.5 sm:py-3 md:py-3.5 rounded-lg sm:rounded-xl font-semibold hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base",disabled:d,children:d?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Wa,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2 animate-spin"}),n.jsx("span",{className:"truncate",children:"Sending Reset Link..."})]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Mc,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),n.jsx("span",{className:"truncate",children:"Send Reset Link"})]})})]}),n.jsx("div",{className:"mt-4 sm:mt-5 md:mt-6 p-3 sm:p-4 bg-slate-50 rounded-lg sm:rounded-xl border border-slate-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Nc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-600 mr-2 sm:mr-3 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs sm:text-sm text-slate-700 font-medium mb-1",children:"Secure Process"}),n.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:"We'll send you a secure, time-limited link to reset your password. The link will expire in 1 hour for your security."})]})]})})]})})]}),n.jsx("div",{className:"text-center mt-3 sm:mt-4 md:mt-6",children:n.jsxs("p",{className:"text-xs sm:text-sm text-slate-500 px-4",children:["Remember your password?"," ",n.jsx("button",{onClick:()=>s("/login"),className:"text-emerald-600 hover:text-emerald-700 font-medium transition-colors",children:"Sign in here"})]})})]})})};function XO(s){if(!s||s.trim()==="")return"Password is required";if(s.includes(" "))return"Password cannot contain spaces";if(s.length<6)return"Password must be at least 6 characters";const e=/[A-Z]/.test(s),t=/[a-z]/.test(s),r=/\d/.test(s),a=/[!@#$%^&*(),.?":{}|<>]/.test(s);return e&&t&&r&&a?"":"Password should include at least one uppercase letter, one lowercase letter, one digit, and one special character"}const JO=()=>{const s=Mr(),[e]=xN(),{success:t,error:r}=cr(),a=e.get("token"),[i,c]=T.useState({password:"",confirmPassword:""}),[d,u]=T.useState({}),[f,m]=T.useState(""),[b,y]=T.useState(!1),[x,j]=T.useState(!0),[S,A]=T.useState(!1),[k,P]=T.useState(!1);T.useEffect(()=>{a||(j(!1),m("Invalid or missing reset token"))},[a]);function M(B){c({...i,[B.target.name]:B.target.value}),u({...d,[B.target.name]:""}),m("")}async function F(B){B.preventDefault();const ae={password:XO(i.password),confirmPassword:i.password!==i.confirmPassword?"Passwords do not match":""};if(u(ae),!(ae.password||ae.confirmPassword)){y(!0),m("");try{const Y=await fetch(`${Rs}/api/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,password:i.password})}),E=await Y.json();y(!1),Y.ok?(t("Password reset successful! 🎉 You can now login with your new password.",{duration:4e3}),setTimeout(()=>{s("/login")},2e3)):(Y.status===400&&E.error.includes("token")&&j(!1),m(E.error||"Failed to reset password"),r(E.error||"Failed to reset password",{duration:4e3}))}catch{y(!1),m("Server error. Please try again.")}}}return x?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("button",{onClick:()=>s("/login"),className:"mb-8 flex items-center text-slate-600 hover:text-slate-800 transition-colors group",children:[n.jsx(o1,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"text-sm font-medium",children:"Back to Login"})]}),n.jsxs("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200/60 overflow-hidden",children:[n.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:n.jsx(L0,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("h1",{className:"text-2xl font-bold text-slate-800 mb-1",children:[n.jsx("span",{className:"text-emerald-600",children:"Fresh"}),n.jsx("span",{className:"text-slate-800",children:"Nest"})]}),n.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Reset Password"})]})]}),n.jsxs("div",{className:"px-8 pb-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Create New Password"}),n.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:"Choose a strong password to secure your account."})]}),n.jsxs("form",{onSubmit:F,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(L0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),n.jsx("input",{type:S?"text":"password",name:"password",placeholder:"Enter your new password",className:"w-full pl-12 pr-12 py-3.5 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all text-slate-800 placeholder-slate-400",value:i.password,onChange:M}),n.jsx("button",{type:"button",onClick:()=>A(!S),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:S?n.jsx(mv,{className:"w-5 h-5"}):n.jsx(Du,{className:"w-5 h-5"})})]}),d.password&&n.jsxs("p",{className:"text-red-500 text-sm flex items-center mt-2",children:[n.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),d.password]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(L0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),n.jsx("input",{type:k?"text":"password",name:"confirmPassword",placeholder:"Confirm your new password",className:"w-full pl-12 pr-12 py-3.5 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all text-slate-800 placeholder-slate-400",value:i.confirmPassword,onChange:M}),n.jsx("button",{type:"button",onClick:()=>P(!k),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:k?n.jsx(mv,{className:"w-5 h-5"}):n.jsx(Du,{className:"w-5 h-5"})})]}),d.confirmPassword&&n.jsxs("p",{className:"text-red-500 text-sm flex items-center mt-2",children:[n.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full mr-2"}),d.confirmPassword]})]}),f&&n.jsx("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200",children:n.jsxs("p",{className:"text-red-700 text-sm flex items-center",children:[n.jsx(Dn,{className:"w-4 h-4 mr-2 flex-shrink-0"}),f]})}),n.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-3.5 rounded-xl font-semibold hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",disabled:b,children:b?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Wa,{className:"w-5 h-5 mr-2 animate-spin"}),"Updating Password..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Vu,{className:"w-5 h-5 mr-2"}),"Update Password"]})})]}),n.jsx("div",{className:"mt-6 p-4 bg-slate-50 rounded-xl border border-slate-200",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Nc,{className:"w-5 h-5 text-emerald-600 mr-3 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-slate-700 font-medium mb-2",children:"Password Requirements"}),n.jsxs("div",{className:"grid grid-cols-1 gap-1 text-xs text-slate-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full mr-2"}),"At least 6 characters long"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full mr-2"}),"One uppercase letter (A-Z)"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full mr-2"}),"One lowercase letter (a-z)"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full mr-2"}),"One number (0-9)"]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full mr-2"}),"One special character (!@#$%^&*)"]})]})]})]})})]})]}),n.jsx("div",{className:"text-center mt-6",children:n.jsxs("p",{className:"text-sm text-slate-500",children:["Remember your password?"," ",n.jsx("button",{onClick:()=>s("/login"),className:"text-emerald-600 hover:text-emerald-700 font-medium transition-colors",children:"Sign in here"})]})})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("button",{onClick:()=>s("/login"),className:"mb-8 flex items-center text-slate-600 hover:text-slate-800 transition-colors group",children:[n.jsx(o1,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),n.jsx("span",{className:"text-sm font-medium",children:"Back to Login"})]}),n.jsx("div",{className:"bg-white rounded-3xl shadow-xl border border-slate-200/60 overflow-hidden",children:n.jsxs("div",{className:"px-8 py-12 text-center",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:n.jsx(Jr,{className:"w-10 h-10 text-white"})}),n.jsx("h2",{className:"text-xl font-semibold text-slate-800 mb-3",children:"Invalid Reset Link"}),n.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed",children:"This password reset link is invalid or has expired. Please request a new one."}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:()=>s("/forgot-password"),className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-3.5 rounded-xl font-semibold hover:from-emerald-700 hover:to-teal-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Request New Reset Link"}),n.jsx("button",{onClick:()=>s("/login"),className:"w-full text-slate-600 hover:text-slate-800 font-medium py-2 transition-colors",children:"Back to Login"})]})]})})]})})};function ZO(s){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(s)}function QO(s){return ot({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M425.7 256c-16.9 0-32.8-9-41.4-23.4L320 126l-64.2 106.6c-8.7 14.5-24.6 23.5-41.5 23.5-4.5 0-9-.6-13.3-1.9L64 215v178c0 14.7 10 27.5 24.2 31l216.2 54.1c10.2 2.5 20.9 2.5 31 0L551.8 424c14.2-3.6 24.2-16.4 24.2-31V215l-137 39.1c-4.3 1.3-8.8 1.9-13.3 1.9zm212.6-112.2L586.8 41c-3.1-6.2-9.8-9.8-16.7-8.9L320 64l91.7 152.1c3.8 6.3 11.4 9.3 18.5 7.3l197.9-56.5c9.9-2.9 14.7-13.9 10.2-23.1zM53.2 41L1.7 143.8c-4.6 9.2.3 20.2 10.1 23l197.9 56.5c7.1 2 14.7-1 18.5-7.3L320 64 69.8 32.1c-6.9-.8-13.5 2.7-16.6 8.9z"},child:[]}]})(s)}function eD(s){return ot({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(s)}function tD(s){return ot({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(s)}function sD(s){return ot({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(s)}function rD(s){return ot({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function nD(s){return ot({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(s)}const aD=new Date().toLocaleDateString(),iD=()=>{Mr();const{user:s}=Wu(),{success:e,error:t}=cr(),{signOut:r}=zu(),a=async()=>{try{e("Logging out... See you soon! 👋",{duration:2e3}),console.log("🔄 Starting logout process..."),await Ut.logout(),console.log("✅ Cleared backend session"),await r(),console.log("✅ Signed out from Clerk"),Ut.clearAuthData(),console.log("✅ Cleared all auth data"),setTimeout(()=>{window.location.href="/login"},1500)}catch(f){console.error("Logout error:",f),t("Logout failed, but clearing session anyway",{duration:3e3});try{await r()}catch(m){console.error("Clerk signout error:",m)}Ut.clearAuthData(),setTimeout(()=>{window.location.href="/login"},1500)}},[i]=T.useState([{id:1,message:"Product XYZ is running low on stock."},{id:2,message:"Invoice INV#2314 was downloaded successfully."},{id:3,message:"Admin updated product pricing."}]),c=2560,d={topProducts:[{name:"Product A",sold:30},{name:"Product B",sold:22},{name:"Product C",sold:15}],avgSales:512,totalMonthly:12e3},u=[{name:"Product A",stock:12,price:120},{name:"Product B",stock:5,price:80},{name:"Product C",stock:30,price:60}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white to-teal-50 p-6",children:[n.jsxs("div",{className:"relative bg-white rounded-xl shadow-md p-6 mb-8 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 h-full w-full bg-cover bg-center opacity-10",style:{backgroundImage:"url(https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)"}}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",s?.fullName||"Retailer"]}),n.jsx("p",{className:"text-gray-500",children:aD})]}),n.jsxs("div",{className:"mt-4 md:mt-0 text-lg font-medium",children:["Today’s Sales: ",n.jsxs("span",{className:"text-green-600 font-bold",children:["₹",c]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[n.jsx(S0,{icon:n.jsx(tD,{size:20}),label:"Add Sale",color:"bg-teal-500"}),n.jsx(S0,{icon:n.jsx(eD,{size:20}),label:"Generate Invoice",color:"bg-emerald-500"}),n.jsx(S0,{icon:n.jsx(QO,{size:20}),label:"Sales Records",color:"bg-yellow-400"}),n.jsx(S0,{icon:n.jsx(sD,{size:20}),label:"Inventory",color:"bg-indigo-500"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Record New Sale"}),n.jsxs("form",{className:"space-y-4",children:[n.jsxs("select",{className:"w-full border rounded-md p-2",children:[n.jsx("option",{children:"Select a product"}),u.map((f,m)=>n.jsx("option",{children:f.name},m))]}),n.jsx("input",{type:"number",placeholder:"Quantity",className:"w-full border rounded-md p-2"}),n.jsx("input",{type:"text",placeholder:"Discount (optional)",className:"w-full border rounded-md p-2"}),n.jsx("textarea",{placeholder:"Customer note (optional)",className:"w-full border rounded-md p-2"}),n.jsx("button",{type:"submit",className:"w-full bg-teal-500 text-white py-2 rounded-md hover:bg-teal-600",children:"Save Sale"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"My Performance"}),n.jsx("div",{className:"h-40 bg-gray-100 flex items-center justify-center text-gray-400 rounded mb-4",children:"[Sales Chart Placeholder]"}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsx(cj,{label:"Monthly Sales",value:`₹${d.totalMonthly}`}),n.jsx(cj,{label:"Avg. Sale",value:`₹${d.avgSales}`}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Top Products"}),n.jsx("ul",{className:"text-sm text-gray-700",children:d.topProducts.map((f,m)=>n.jsxs("li",{children:[f.name,": ",n.jsx("span",{className:"font-medium",children:f.sold})]},m))})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Invoice Generator"}),n.jsx("p",{className:"text-gray-500",children:"Select a recent sale to view/download its invoice."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Inventory Overview"}),n.jsx("input",{className:"w-full border rounded-md p-2 mb-3",placeholder:"Search products..."}),n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-gray-600 border-b",children:[n.jsx("th",{className:"py-2",children:"Product"}),n.jsx("th",{className:"py-2",children:"Stock"}),n.jsx("th",{className:"py-2",children:"Price"})]})}),n.jsx("tbody",{children:u.map((f,m)=>n.jsxs("tr",{className:"border-t text-sm",children:[n.jsx("td",{className:"py-2",children:f.name}),n.jsx("td",{className:"py-2",children:f.stock}),n.jsxs("td",{className:"py-2",children:["₹",f.price]})]},m))})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[n.jsx(ZO,{className:"mr-2 text-gray-500"})," Notifications"]}),n.jsx("ul",{className:"space-y-2",children:i.map(f=>n.jsx("li",{className:"text-gray-700",children:f.message},f.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 flex flex-col items-center text-center",children:[n.jsx(nD,{size:48,className:"text-gray-400 mb-2"}),n.jsx("div",{className:"text-lg font-semibold",children:s?.fullName||"Retailer"}),n.jsx("div",{className:"text-gray-500",children:s?.email||"retailer@email.com"}),n.jsxs("button",{onClick:a,className:"mt-4 flex items-center gap-2 bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600",children:[n.jsx(rD,{})," Logout"]})]})]})]})},S0=({icon:s,label:e,color:t})=>n.jsxs("button",{className:`${t} text-white px-4 py-3 rounded-xl shadow-sm flex flex-col items-center hover:scale-105 transition`,children:[s,n.jsx("span",{className:"mt-2 text-sm font-medium",children:e})]}),cj=({label:s,value:e})=>n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-gray-500",children:s}),n.jsx("div",{className:"font-semibold",children:e})]}),oD=()=>{const s=Mr(),e=Li(),{success:t,error:r}=cr(),[a,i]=T.useState(["","","","","",""]),[c,d]=T.useState(!1),[u,f]=T.useState(""),[m,b]=T.useState(!1),[y,x]=T.useState(60),[j,S]=T.useState(!1),A=T.useRef([]),k=e.state?.email||"",P=e.state?.userType||"user";T.useEffect(()=>{if(y>0){const Y=setInterval(()=>{x(y-1)},1e3);return()=>clearInterval(Y)}else S(!0)},[y]);const M=(Y,E)=>{if(E.length>1)return;const I=[...a];I[Y]=E,i(I),f(""),E&&Y<5&&A.current[Y+1]?.focus()},F=(Y,E)=>{E.key==="Backspace"&&!a[Y]&&Y>0&&A.current[Y-1]?.focus()},B=async Y=>{Y.preventDefault();const E=a.join("");if(E.length!==6){f("Please enter all 6 digits");return}d(!0),f("");try{const I=await fetch(`${Rs}/api/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k,otp:E,userType:P})}),$=await I.json();I.ok?(t("Email verified successfully! 🎉 You can now login.",{duration:4e3}),setTimeout(()=>{s("/login")},2e3)):(f($.error||"Invalid OTP. Please try again."),r($.error||"Invalid OTP. Please try again.",{duration:4e3}))}catch{f("Network error. Please try again.")}finally{d(!1)}},ae=async()=>{b(!0),f("");try{const Y=await fetch(`${Rs}/api/auth/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k,userType:P})}),E=await Y.json();Y.ok?(t("OTP sent successfully! 📧 Check your email.",{duration:3e3}),x(60),S(!1),i(["","","","","",""])):(f(E.error||"Failed to resend OTP"),r(E.error||"Failed to resend OTP",{duration:4e3}))}catch{f("Network error. Please try again.")}finally{b(!1)}};return n.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#004030"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob",style:{backgroundColor:"#437057"}}),n.jsx("div",{className:"absolute top-40 right-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob animation-delay-2000",style:{backgroundColor:"#5a8a6b"}}),n.jsx("div",{className:"absolute -bottom-8 left-40 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-blob animation-delay-4000",style:{backgroundColor:"#437057"}})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(15)].map((Y,E)=>n.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-20 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},E))}),n.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen w-full px-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[n.jsx("button",{onClick:()=>s(-1),className:"absolute -top-4 -left-4 w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 group",children:n.jsx("svg",{className:"w-8 h-8 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2",children:[n.jsx("span",{className:"text-4xl font-black text-white",children:"Fresh"}),n.jsx("span",{className:"text-4xl font-black",style:{color:"#437057"},children:"Nest"})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Verify Your Email"}),n.jsx("p",{className:"text-gray-300 text-sm",children:"We've sent a 6-digit verification code to"}),n.jsx("p",{className:"text-white font-medium mt-1",children:k})]})]}),n.jsxs("form",{onSubmit:B,className:"space-y-6",children:[n.jsx("div",{className:"flex justify-center space-x-3",children:a.map((Y,E)=>n.jsx("input",{ref:I=>A.current[E]=I,type:"text",maxLength:"1",value:Y,onChange:I=>M(E,I.target.value),onKeyDown:I=>F(E,I),className:"w-12 h-12 text-center text-xl font-bold bg-white/10 border border-white/20 rounded-xl text-white focus:outline-none focus:ring-2 focus:border-transparent transition-all duration-300 backdrop-blur-sm",style:{focusRingColor:"#437057"}},E))}),u&&n.jsxs("div",{className:"bg-red-500/20 border border-red-400/30 rounded-xl p-4 text-red-200 text-sm flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),u]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:"#437057",focusRingColor:"#437057"},children:c?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Email"}),n.jsx("div",{className:"text-center",children:j?n.jsx("button",{type:"button",onClick:ae,disabled:m,className:"text-white hover:underline transition-colors font-medium",style:{color:"#437057"},children:m?"Sending...":"Resend OTP"}):n.jsxs("p",{className:"text-gray-300 text-sm",children:["Resend OTP in ",y," seconds"]})})]})]})})})]})},H3=()=>{const{signOut:s}=Ml(),{user:e}=Rd(),t=Mr(),{success:r,error:a}=cr();return{user:e,handleGoogleSignIn:async(d,u=null)=>{try{if(!d?.primaryEmailAddress?.emailAddress)throw new Error("Email address is required for Google sign-in");const f={email:d.primaryEmailAddress.emailAddress,fullName:d.fullName||`${d.firstName||""} ${d.lastName||""}`.trim(),firstName:d.firstName,lastName:d.lastName,profileImage:d.imageUrl,clerkId:d.id,provider:"google"};u&&(f.role=u),console.log("Processing Google sign-in with Clerk user:",{email:f.email,fullName:f.fullName,clerkId:f.clerkId,role:f.role});const m="http://localhost:3001";console.log("Sending request to:",`${m}/api/auth/google-signin`);const b=await fetch(`${m}/api/auth/google-signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});console.log("Backend response status:",b.status);const y=await b.json();if(console.log("Backend response data:",y),b.status===202&&y.requiresRoleSelection){console.log("Role selection required for new user"),sessionStorage.setItem("pendingGoogleUser",JSON.stringify({clerkUser:{id:d.id,primaryEmailAddress:{emailAddress:d.primaryEmailAddress.emailAddress},fullName:d.fullName,firstName:d.firstName,lastName:d.lastName,imageUrl:d.imageUrl},userData:y})),t("/google-role-selection");return}if(!b.ok)throw new Error(y.message||y.error||`Server error: ${b.status}`);if(!y.token||!y.user)throw new Error("Invalid response from server - missing token or user data");localStorage.setItem("token",y.token),localStorage.setItem("user",JSON.stringify(y.user)),console.log("Google sign-in successful, user role:",y.user.role),r(`Welcome ${y.user?.fullName||y.user?.email}! 🎉`,{duration:3e3}),setTimeout(()=>{y.user&&(y.user.role==="admin"||y.user.role==="Admin")?(console.log("Redirecting to admin dashboard"),t("/admin/dashboard")):y.user&&(y.user.role==="retailer"||y.user.role==="Retailer")?(console.log("Redirecting to retailer dashboard"),t("/retailer/dashboard")):y.user&&(y.user.role==="staff"||y.user.role==="Staff")?(console.log("Redirecting to staff dashboard"),t("/staff/dashboard")):y.user&&(y.user.role==="user"||y.user.role==="User")?(console.log("Redirecting to user dashboard"),t("/user/dashboard")):(console.log("Redirecting to home"),t("/"))},100)}catch(f){console.error("Google sign-in error:",f);let m="Google sign-in failed. Please try again.";f.message.includes("fetch")?m="Unable to connect to server. Please check your internet connection.":f.message.includes("Server error: 500")?m="Server error occurred. Please try again later.":f.message.includes("Email address is required")?m="Unable to get your email from Google. Please try again.":f.message&&(m=f.message),a(m,{duration:5e3});try{await s(),console.log("Signed out from Clerk due to backend error")}catch(b){console.error("Error signing out from Clerk:",b)}setTimeout(()=>{t("/login")},2e3)}},handleSignOut:async()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user"),await s(),t("/"),r("Signed out successfully!",{duration:2e3})}catch(d){console.error("Sign out error:",d),a("Error signing out. Please try again.",{duration:3e3})}},isSignedIn:!!e}},lD=()=>{const{isSignedIn:s,isLoaded:e}=Ml(),{user:t,isLoaded:r}=Rd(),{handleGoogleSignIn:a}=H3(),i=Mr(),{success:c,error:d}=cr(),[u,f]=T.useState(!1),[m,b]=T.useState(null);return T.useEffect(()=>{(async()=>{if(!e||!r){console.log("Waiting for Clerk to load...");return}if(console.log("Clerk auth handler - Auth state:",{isSignedIn:s,user:t?.id,isLoaded:e,userLoaded:r,currentUrl:window.location.href,urlParams:window.location.search}),s&&t&&!u)try{f(!0),console.log("Clerk auth handler - processing user:",{id:t.id,email:t.primaryEmailAddress?.emailAddress,fullName:t.fullName}),await a(t),c("Successfully signed in with Google! Redirecting to dashboard...",{duration:3e3})}catch(x){console.error("Error processing Google sign-in:",x);const j=x.message||"Failed to complete sign-in. Please try again.";b(j),d(j,{duration:5e3}),setTimeout(()=>i("/login"),3e3)}else if(e&&!s){console.log("User not signed in, redirecting to login"),console.log("Current URL:",window.location.href),console.log("URL params:",new URLSearchParams(window.location.search).toString());const x=new URLSearchParams(window.location.search),j=x.get("error"),S=x.get("error_description");if(j){console.error("OAuth error in URL:",j,S),b(`Authentication failed: ${j} - ${S}`),setTimeout(()=>i("/login"),3e3);return}i("/login")}})()},[s,t,e,r,a,i,u]),m?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),n.jsx("p",{className:"text-red-600",children:m})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:!e||!r?"Loading...":"Processing your sign-in..."}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Please wait while we complete your authentication"})]})})},cD=()=>{const{isSignedIn:s,isLoaded:e}=Ml(),{user:t}=Rd(),{signIn:r}=z1(),a=async()=>{try{console.log("Testing Google sign-in..."),await r.authenticateWithRedirect({strategy:"oauth_google",redirectUrl:window.location.href,redirectUrlComplete:window.location.href})}catch(i){console.error("Google test error:",i)}};return e?n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-lg max-w-md mx-auto mt-8",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Clerk Test"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Loaded:"})," ",e?"✅":"❌"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Signed In:"})," ",s?"✅":"❌"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User:"})," ",t?t.primaryEmailAddress?.emailAddress:"None"]})]}),!s&&n.jsx("button",{onClick:a,className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Test Google Sign-In"}),s&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-green-600",children:"✅ Successfully signed in!"}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",t?.primaryEmailAddress?.emailAddress]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",t?.fullName]})]})]}):n.jsx("div",{className:"p-4",children:"Loading Clerk..."})},dD=()=>{const{isSignedIn:s,isLoaded:e}=Ml(),{user:t,isLoaded:r}=Rd(),{signIn:a}=z1(),[i,c]=T.useState([]),[d,u]=T.useState(!1),f=(j,S="info")=>{const A=new Date().toLocaleTimeString();c(k=>[...k,{message:j,type:S,timestamp:A}]),console.log(`[${A}] ${j}`)};T.useEffect(()=>{f(`Clerk loaded: ${e}, User loaded: ${r}`),s&&t&&f(`User signed in: ${t.primaryEmailAddress?.emailAddress}`,"success")},[e,r,s,t]);const m=async()=>{u(!0),c([]);try{f("Starting Google authentication test..."),f(`Current URL: ${window.location.href}`),f(`Clerk publishable key: ${"pk_test_cmVzb2x2ZWQtZW11LTQwLmNsZXJrLmFjY291bnRzLmRldiQ".substring(0,20)}...`),f("API Base URL: http://localhost:3001");const j=`${window.location.origin}/auth-handler`;f(`Redirect URL: ${j}`),await a.authenticateWithRedirect({strategy:"oauth_google",redirectUrl:j,redirectUrlComplete:j})}catch(j){f(`Error: ${j.message}`,"error"),u(!1)}},b=async()=>{try{f("Testing backend connection...");const S=await fetch("http://localhost:3001/api/auth/msg"),A=await S.json();S.ok?f(`Backend connected: ${A.message}`,"success"):f(`Backend error: ${S.status}`,"error")}catch(j){f(`Backend connection failed: ${j.message}`,"error")}},y=async()=>{try{f("Testing Google sign-in endpoint...");const j="http://localhost:3001",S={email:"test@gmail.com",fullName:"Test User",clerkId:"test_clerk_id",provider:"google"},A=await fetch(`${j}/api/auth/google-signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)}),k=await A.json();A.ok?f(`Google endpoint working: ${k.message}`,"success"):f(`Google endpoint error: ${k.error||A.status}`,"error")}catch(j){f(`Google endpoint test failed: ${j.message}`,"error")}},x=()=>c([]);return n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-4xl mx-auto mt-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Google Auth Diagnostic Tool"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[n.jsx("h3",{className:"font-semibold",children:"Clerk Status"}),n.jsxs("p",{children:["Loaded: ",e?"✅":"❌"]}),n.jsxs("p",{children:["Signed In: ",s?"✅":"❌"]}),n.jsxs("p",{children:["User: ",t?.primaryEmailAddress?.emailAddress||"None"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[n.jsx("h3",{className:"font-semibold",children:"Environment"}),n.jsx("p",{children:"Frontend: http://localhost:5173"}),n.jsxs("p",{children:["Backend: ","http://localhost:3001"]}),n.jsxs("p",{children:["Clerk Key: ","✅"]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[n.jsx("h3",{className:"font-semibold",children:"Current User"}),t?n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["ID: ",t.id]}),n.jsxs("p",{children:["Email: ",t.primaryEmailAddress?.emailAddress]}),n.jsxs("p",{children:["Name: ",t.fullName]})]}):n.jsx("p",{children:"No user signed in"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[n.jsx("button",{onClick:m,disabled:d||!e,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50",children:d?"Testing...":"Test Google Auth"}),n.jsx("button",{onClick:b,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Test Backend"}),n.jsx("button",{onClick:y,className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",children:"Test Google Endpoint"}),n.jsx("button",{onClick:x,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Clear Logs"})]}),n.jsxs("div",{className:"bg-black text-green-400 p-4 rounded font-mono text-sm h-64 overflow-y-auto",children:[n.jsx("h3",{className:"text-white mb-2",children:"Diagnostic Logs:"}),i.length===0?n.jsx("p",{className:"text-gray-500",children:"No logs yet. Click a test button to start."}):i.map((j,S)=>n.jsxs("div",{className:`mb-1 ${j.type==="error"?"text-red-400":j.type==="success"?"text-green-400":"text-gray-300"}`,children:[n.jsxs("span",{className:"text-gray-500",children:["[",j.timestamp,"]"]})," ",j.message]},S))]}),n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded",children:[n.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Instructions:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:"First, test backend connection to ensure API is working"}),n.jsx("li",{children:"Test Google endpoint to verify backend Google auth is configured"}),n.jsx("li",{children:"Test Google Auth to see if Clerk redirects work properly"}),n.jsx("li",{children:"Check the logs for any error messages"}),n.jsx("li",{children:"If Google Auth redirects you back here, check Clerk Dashboard configuration"})]})]})]})},uD=()=>{const{isSignedIn:s,isLoaded:e}=Ml(),{user:t,isLoaded:r}=Rd(),{signIn:a}=z1(),[i,c]=T.useState([]),[d,u]=T.useState(!1),f=(j,S="info")=>{const A=new Date().toLocaleTimeString();c(k=>[...k,{message:j,type:S,timestamp:A}]),console.log(`[${A}] ${j}`)};T.useEffect(()=>{f(`Clerk Status - Loaded: ${e}, User Loaded: ${r}, Signed In: ${s}`),t&&f(`User Details - ID: ${t.id}, Email: ${t.primaryEmailAddress?.emailAddress}`,"success");const j=new URLSearchParams(window.location.search),S=j.get("error"),A=j.get("error_description"),k=j.get("code"),P=j.get("state");S&&f(`OAuth Error: ${S} - ${A}`,"error"),k&&f(`OAuth Code received: ${k.substring(0,20)}...`,"success"),P&&f(`OAuth State: ${P}`,"info")},[e,r,s,t]);const m=()=>{f("=== Clerk Configuration Test ==="),f(`Publishable Key: ${"pk_test_cmVzb2x2ZWQtZW11LTQwLmNsZXJrLmFjY291bnRzLmRldiQ".substring(0,30)}...`),f(`Current Domain: ${window.location.origin}`),f("Clerk Domain: resolved-emu-40.clerk.accounts.dev"),e?f("✅ Clerk is loaded and initialized","success"):f("❌ Clerk is not loaded","error")},b=async()=>{u(!0);try{f("=== Starting Google Authentication Test ==="),f("Initiating Google OAuth redirect...");const j=`${window.location.origin}/auth-handler`;f(`Redirect URL: ${j}`),await a.authenticateWithRedirect({strategy:"oauth_google",redirectUrl:j,redirectUrlComplete:j})}catch(j){f(`Google Auth Error: ${j.message}`,"error"),u(!1)}},y=()=>{f("=== Clerk Dashboard Configuration Check ==="),f("Required URLs to add in Clerk Dashboard → Domains:"),f("1. http://localhost:5173"),f("2. http://localhost:5173/login"),f("3. http://localhost:5173/auth-handler"),f(""),f("Required Google OAuth Redirect URI:"),f("https://resolved-emu-40.clerk.accounts.dev/v1/oauth_callback"),f(""),f("Check these configurations in your Clerk Dashboard!","warning")},x=()=>c([]);return n.jsxs("div",{className:"p-6 bg-white rounded-lg shadow-lg max-w-6xl mx-auto mt-8",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Clerk Google Auth Diagnostic"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Current Status"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:["Clerk Loaded: ",e?"✅":"❌"]}),n.jsxs("p",{children:["User Loaded: ",r?"✅":"❌"]}),n.jsxs("p",{children:["Signed In: ",s?"✅":"❌"]}),n.jsxs("p",{children:["Current URL: ",window.location.href]})]})]}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"User Info"}),t?n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:["ID: ",t.id]}),n.jsxs("p",{children:["Email: ",t.primaryEmailAddress?.emailAddress]}),n.jsxs("p",{children:["Name: ",t.fullName]})]}):n.jsx("p",{className:"text-gray-500 text-sm",children:"No user signed in"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[n.jsx("button",{onClick:m,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Test Clerk Config"}),n.jsx("button",{onClick:b,disabled:d||!e,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 disabled:opacity-50",children:d?"Testing...":"Test Google Auth"}),n.jsx("button",{onClick:y,className:"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600",children:"Show Required Config"}),n.jsx("button",{onClick:x,className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Clear Logs"})]}),n.jsxs("div",{className:"bg-black text-green-400 p-4 rounded font-mono text-sm h-96 overflow-y-auto",children:[n.jsx("h3",{className:"text-white mb-2",children:"Diagnostic Logs:"}),i.length===0?n.jsx("p",{className:"text-gray-500",children:"No logs yet. Click a test button to start."}):i.map((j,S)=>n.jsxs("div",{className:`mb-1 ${j.type==="error"?"text-red-400":j.type==="success"?"text-green-400":j.type==="warning"?"text-yellow-400":"text-gray-300"}`,children:[n.jsxs("span",{className:"text-gray-500",children:["[",j.timestamp,"]"]})," ",j.message]},S))]}),n.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded border-l-4 border-yellow-400",children:[n.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Next Steps:"}),n.jsxs("ol",{className:"list-decimal list-inside text-sm text-yellow-700 space-y-1",children:[n.jsx("li",{children:'Click "Show Required Config" to see what needs to be configured'}),n.jsxs("li",{children:["Go to ",n.jsx("a",{href:"https://dashboard.clerk.com/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Clerk Dashboard"})]}),n.jsx("li",{children:"Add the required URLs to Domains section"}),n.jsx("li",{children:"Configure Google OAuth with the correct redirect URI"}),n.jsx("li",{children:"Come back and test Google Auth"})]})]})]})},hD=()=>{const{user:s}=Rd();return n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-center mb-8",children:"Clerk Google Auth Test"}),n.jsx(Dj,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-center text-gray-600 mb-6",children:n.jsx("p",{children:"Test Google authentication without any redirect URI configuration!"})}),n.jsx(Zj,{mode:"modal",children:n.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Sign In with Google (Modal)"})}),n.jsx(Qj,{mode:"modal",children:n.jsx("button",{className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors",children:"Sign Up with Google (Modal)"})}),n.jsxs("div",{className:"text-center text-sm text-gray-500 mt-4",children:[n.jsx("p",{children:"✅ No redirect URIs needed"}),n.jsx("p",{children:"✅ No Clerk Dashboard configuration required"}),n.jsx("p",{children:"✅ Works out of the box"})]})]})}),n.jsx(Oj,{children:n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[n.jsx(Wj,{afterSignOutUrl:"/clerk-test"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Welcome!"}),n.jsx("p",{className:"text-gray-600",children:s?.primaryEmailAddress?.emailAddress})]})]}),n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"✅ Authentication Successful!"}),n.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",s?.fullName]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",s?.primaryEmailAddress?.emailAddress]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Clerk ID:"})," ",s?.id]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Provider:"})," Google OAuth"]})]})]}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors mr-2",children:"Go to Main Login"}),n.jsx("button",{onClick:()=>window.location.href="/sign-out",className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Sign Out Google Account"})]})]})})]})})},fD=()=>{const{signOut:s}=zu(),{isSignedIn:e}=Ml(),t=Mr(),r=async()=>{try{console.log("🔄 Starting complete sign out..."),await Ut.logout(),console.log("✅ Cleared backend session"),await s(),console.log("✅ Signed out from Clerk"),Ut.clearAuthData(),console.log("✅ Cleared all auth data"),console.log("✅ Complete sign out successful"),t("/login"),setTimeout(()=>{window.location.reload()},100)}catch(a){console.error("❌ Error signing out:",a);try{await s()}catch(i){console.error("Clerk signout error:",i)}Ut.clearAuthData(),t("/login"),setTimeout(()=>{window.location.reload()},100)}};return e?n.jsxs("div",{className:"p-4 bg-red-100 border border-red-300 rounded-lg",children:[n.jsx("p",{className:"text-red-800 mb-3",children:"🔴 Google account is currently signed in"}),n.jsx("button",{onClick:r,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 mr-2",children:"Sign Out Google Account"}),n.jsx("button",{onClick:()=>t("/clerk-test-page"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Back to Test Page"})]}):n.jsxs("div",{className:"p-4 bg-green-100 border border-green-300 rounded-lg",children:[n.jsx("p",{className:"text-green-800",children:"✅ No user is currently signed in"}),n.jsx("button",{onClick:()=>t("/login"),className:"mt-2 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Go to Login"})]})},mD=({children:s})=>{const{isSignedIn:e,isLoaded:t}=Ml(),{user:r,isLoaded:a}=Rd(),i=Mr(),c=Li(),{success:d,error:u}=cr(),[f,m]=T.useState(null),[b,y]=T.useState(!1);return T.useEffect(()=>{(async()=>{if(!t||!a)return;if(["/admin/dashboard","/retailer/dashboard","/user/dashboard","/supplier/dashboard","/sign-out"].some(S=>c.pathname.startsWith(S))){console.log("Skipping auth processing - already on protected route:",c.pathname);return}if(e&&r&&f!==r.id&&!b)try{m(r.id),y(!0),console.log("🔄 Processing Clerk authenticated user:",{id:r.id,email:r.primaryEmailAddress?.emailAddress,fullName:r.fullName});const S={email:r.primaryEmailAddress?.emailAddress,fullName:r.fullName||`${r.firstName||""} ${r.lastName||""}`.trim(),firstName:r.firstName,lastName:r.lastName,profileImage:r.imageUrl,clerkId:r.id,provider:"google"},k=await fetch("http://localhost:3001/api/auth/google-signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!k.ok){const F=await k.json();throw new Error(F.error||"Authentication failed")}const P=await k.json();localStorage.setItem("freshnest_access_token",P.token),localStorage.setItem("freshnest_refresh_token",P.refreshToken),localStorage.setItem("freshnest_user",JSON.stringify(P.user));const M=Date.now()+3600*1e3;localStorage.setItem("freshnest_token_expiry",M.toString()),console.log("✅ Authentication successful:",P.user),window.dispatchEvent(new Event("storage")),d(`Welcome ${P.user.fullName}! Redirecting to dashboard...`,{duration:2e3}),console.log("🚀 Redirecting user with role:",P.user.role),P.user.role==="admin"||P.user.role==="Admin"?(console.log("Redirecting to admin dashboard"),i("/admin/dashboard",{replace:!0})):P.user.role==="retailer"||P.user.role==="Retailer"?(console.log("Redirecting to retailer dashboard"),i("/retailer/dashboard",{replace:!0})):P.user.role==="staff"||P.user.role==="Staff"?(console.log("Redirecting to staff dashboard"),i("/staff/dashboard",{replace:!0})):P.user.role==="supplier"||P.user.role==="Supplier"?(console.log("Redirecting to supplier dashboard"),i("/supplier/dashboard",{replace:!0})):P.user.role==="user"||P.user.role==="User"?(console.log("Redirecting to user dashboard"),i("/user/dashboard",{replace:!0})):(console.log("Redirecting to user dashboard (default)"),i("/user/dashboard",{replace:!0})),y(!1)}catch(S){console.error("❌ Error processing Clerk authentication:",S),u(S.message||"Authentication failed. Please try again.",{duration:5e3}),m(null),y(!1)}else t&&!e&&(m(null),y(!1))})()},[e,r,t,a,i,d,u,f,b,c.pathname]),s},pD=({userEmail:s,onRoleSelect:e,onCancel:t})=>{const[r,a]=T.useState(""),[i,c]=T.useState(!1),{success:d,error:u}=cr(),f=Mr(),m=[{value:"user",label:"Customer",description:"Browse and purchase fresh products",icon:"🛒"},{value:"retailer",label:"Retailer",description:"Sell your products on our platform",icon:"🏪"}],b=async x=>{if(x.preventDefault(),!r){u("Please select your role to continue",{duration:3e3});return}c(!0);try{await e(r),d(`Welcome! You've been registered as a ${r}`,{duration:3e3})}catch(j){console.error("Role selection error:",j),u("Failed to complete registration. Please try again.",{duration:5e3})}finally{c(!1)}},y=()=>{t?t():f("/login")};return n.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#004030"},children:[n.jsxs("div",{className:"absolute inset-0",children:[n.jsx("div",{className:"absolute top-20 left-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob",style:{backgroundColor:"#437057"}}),n.jsx("div",{className:"absolute top-40 right-20 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-2000",style:{backgroundColor:"#5a8a6b"}}),n.jsx("div",{className:"absolute -bottom-8 left-40 w-72 h-72 rounded-full mix-blend-multiply filter blur-xl opacity-15 animate-blob animation-delay-4000",style:{backgroundColor:"#437057"}})]}),n.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(20)].map((x,j)=>n.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-20 animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`}},j))}),n.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen w-full",children:n.jsx("div",{className:"w-full max-w-md mx-auto px-6",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsxs("div",{className:"inline-flex items-center space-x-2",children:[n.jsx("span",{className:"text-4xl font-black text-white",children:"Fresh"}),n.jsx("span",{className:"text-4xl font-black",style:{color:"#437057"},children:"Nest"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Complete Your Registration"}),n.jsxs("p",{className:"text-gray-300 text-sm",children:["Hi! We see you're signing in with ",n.jsx("span",{className:"font-semibold text-white",children:s})]}),n.jsx("p",{className:"text-gray-300 text-sm mt-1",children:"Please select your role to continue:"})]})]}),n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsx("div",{className:"space-y-4",children:m.map(x=>n.jsxs("label",{className:`block cursor-pointer transition-all duration-300 ${r===x.value?"transform scale-105":"hover:transform hover:scale-102"}`,children:[n.jsx("input",{type:"radio",name:"role",value:x.value,checked:r===x.value,onChange:j=>a(j.target.value),className:"sr-only"}),n.jsx("div",{className:`p-6 rounded-2xl border-2 transition-all duration-300 ${r===x.value?"border-white bg-white/20 shadow-lg":"border-white/20 bg-white/5 hover:bg-white/10 hover:border-white/30"}`,children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"text-3xl",children:x.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:x.label}),n.jsx("p",{className:"text-gray-300 text-sm",children:x.description})]}),n.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${r===x.value?"border-white bg-white":"border-white/40"}`,children:r===x.value&&n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#437057"}})})]})})]},x.value))}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:y,className:"flex-1 py-3 px-6 border border-white/20 rounded-2xl bg-white/5 text-white font-medium hover:bg-white/10 transition-all duration-300 backdrop-blur-sm",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:i||!r,className:"flex-1 py-3 px-6 rounded-2xl text-white font-bold transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",style:{backgroundColor:r?"#437057":"#666",focusRingColor:"#437057"},children:i?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):"Continue"})]})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("p",{className:"text-gray-400 text-xs",children:"You can change your role later in your account settings"})})]})})})]})},gD=()=>{const[s,e]=T.useState(null),[t,r]=T.useState(!0),a=Mr(),{handleGoogleSignIn:i}=H3(),{error:c}=cr();T.useEffect(()=>{const f=sessionStorage.getItem("pendingGoogleUser");if(!f){console.log("No pending Google user data found"),c("Session expired. Please sign in again.",{duration:3e3}),a("/login");return}try{const m=JSON.parse(f);console.log("Loaded pending Google user data:",m),e(m)}catch(m){console.error("Error parsing pending user data:",m),c("Invalid session data. Please sign in again.",{duration:3e3}),a("/login");return}r(!1)},[a,c]);const d=async f=>{if(!s)throw new Error("No pending user data available");console.log("Role selected:",f),console.log("Processing with user data:",s.clerkUser);try{sessionStorage.removeItem("pendingGoogleUser"),await i(s.clerkUser,f)}catch(m){throw console.error("Error completing Google sign-in with role:",m),m}},u=()=>{sessionStorage.removeItem("pendingGoogleUser"),a("/login")};return t?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):s?n.jsx(pD,{userEmail:s.userData.email,onRoleSelect:d,onCancel:u}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-red-500 text-xl mb-4",children:"⚠️"}),n.jsx("p",{className:"text-red-600",children:"Session expired. Redirecting to login..."})]})})},xD=()=>{const[s,e]=T.useState({email:"",password:"",loginPassword:"",fullName:"",phone:"",confirmPassword:""}),[t,r]=T.useState({}),a=c=>{const{name:d,value:u}=c.target;e({...s,[d]:u}),t[d]&&r({...t,[d]:""})},i=c=>{const{name:d,value:u}=c.target;let f="";switch(d){case"email":f=Ld(u);break;case"password":f=bf(u);break;case"loginPassword":f=d1(u);break;case"fullName":f=vf(u);break;case"phone":f=wf(u);break;case"confirmPassword":f=jf(u,s);break}f&&r({...t,[d]:f})};return n.jsx("div",{className:"min-h-screen bg-gray-100 py-12 px-4",children:n.jsx("div",{className:"max-w-2xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:"Dynamic Validation Test"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email (gmail.com, mca.ajce.in, yahoo.com only)"}),n.jsx("input",{type:"email",name:"email",value:s.email,onChange:a,onBlur:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email"}),t.email&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name (letters only, first letter capital)"}),n.jsx("input",{type:"text",name:"fullName",value:s.fullName,onChange:a,onBlur:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your full name"}),t.fullName&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.fullName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone (Indian format)"}),n.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:a,onBlur:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"}),t.phone&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.phone})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Signup Password (complex requirements)"}),n.jsx("input",{type:"password",name:"password",value:s.password,onChange:a,onBlur:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter signup password"}),t.password&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Login Password (basic requirements)"}),n.jsx("input",{type:"password",name:"loginPassword",value:s.loginPassword,onChange:a,onBlur:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter login password"}),t.loginPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.loginPassword})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password (must match signup password)"}),n.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:a,onBlur:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your password"}),t.confirmPassword&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.confirmPassword})]})]}),n.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Instructions:"}),n.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[n.jsx("li",{children:"• Fill in each field and then click outside (blur) to see validation"}),n.jsx("li",{children:"• Errors appear immediately when you move cursor away from field"}),n.jsx("li",{children:"• Errors disappear when you start typing again"}),n.jsx("li",{children:"• All existing validation rules are preserved"})]})]})]})})})},yD=()=>{const[s,e]=T.useState("Testing..."),[t,r]=T.useState([]);T.useEffect(()=>{a()},[]);const a=async()=>{const i=[];try{i.push({test:"Staff Service Import",status:In?"✅ Success":"❌ Failed",details:In?"Service imported successfully":"Service not found"});const c="http://localhost:3001";i.push({test:"API Base URL",status:"✅ Success",details:`Using: ${c}`});try{const u=await(await fetch(`${c}/health`)).json();i.push({test:"Backend Health Check",status:u.status==="healthy"?"✅ Success":"❌ Failed",details:`Backend status: ${u.status}`})}catch(d){i.push({test:"Backend Health Check",status:"❌ Failed",details:`Error: ${d.message}`})}try{await In.getStaffStats(),i.push({test:"Staff Stats API",status:"✅ Success",details:"Staff stats endpoint accessible"})}catch(d){i.push({test:"Staff Stats API",status:d.message.includes("401")||d.message.includes("unauthorized")?"⚠️ Auth Required":"❌ Failed",details:`Error: ${d.message}`})}r(i),e("Tests completed")}catch(c){e(`Error: ${c.message}`)}};return n.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Staff API Test Results"}),n.jsx("div",{className:"mb-4",children:n.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["Status: ",s]})}),n.jsx("div",{className:"space-y-4",children:t.map((i,c)=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:i.test}),n.jsx("span",{className:"text-sm font-medium",children:i.status})]}),n.jsx("p",{className:"text-sm text-gray-600",children:i.details})]},c))}),n.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Next Steps:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"1. Make sure you're logged in as an admin"}),n.jsx("li",{children:"2. Navigate to Admin Dashboard → Staff section"}),n.jsx("li",{children:'3. Click "Add Staff" to test the form'}),n.jsx("li",{children:"4. The staff list should load automatically"})]})]}),n.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Available URLs:"}),n.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[n.jsxs("li",{children:["Frontend: ",n.jsx("a",{href:"http://localhost:5173",className:"underline",children:"http://localhost:5173"})]}),n.jsxs("li",{children:["Backend: ",n.jsx("a",{href:"http://localhost:3001",className:"underline",children:"http://localhost:3001"})]}),n.jsxs("li",{children:["Backend Health: ",n.jsx("a",{href:"http://localhost:3001/health",className:"underline",children:"http://localhost:3001/health"})]})]})]})]})})})},bD=()=>{const[s,e]=T.useState({});T.useEffect(()=>{const r=()=>{const i={freshnest_access_token:localStorage.getItem("freshnest_access_token"),freshnest_refresh_token:localStorage.getItem("freshnest_refresh_token"),freshnest_user:localStorage.getItem("freshnest_user"),freshnest_token_expiry:localStorage.getItem("freshnest_token_expiry"),token:localStorage.getItem("token"),authService_getAccessToken:Ut.getAccessToken(),authService_isAuthenticated:Ut.isAuthenticated(),authService_isTokenExpired:Ut.isTokenExpired(),authService_getUser:Ut.getUser(),currentTime:new Date().toISOString(),currentTimestamp:Date.now()};e(i)};r();const a=setInterval(r,1e3);return()=>clearInterval(a)},[]);const t=()=>{localStorage.removeItem("freshnest_access_token"),localStorage.removeItem("freshnest_refresh_token"),localStorage.removeItem("freshnest_user"),localStorage.removeItem("freshnest_token_expiry"),localStorage.removeItem("token"),window.location.reload()};return n.jsx("div",{className:"min-h-screen bg-gray-100 p-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Token Debug Information"}),n.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Tokens"})]}),n.jsx("div",{className:"space-y-4",children:Object.entries(s).map(([r,a])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:r}),n.jsx("span",{className:`text-sm px-2 py-1 rounded ${a?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a?"Present":"Missing"})]}),n.jsx("div",{className:"text-sm text-gray-600 break-all",children:typeof a=="object"?JSON.stringify(a,null,2):String(a||"null")})]},r))}),n.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Instructions:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"1. If tokens are missing, please log in again"}),n.jsx("li",{children:"2. If tokens are expired, they should auto-refresh"}),n.jsx("li",{children:"3. Check that authService_isAuthenticated is true"}),n.jsx("li",{children:"4. If issues persist, clear all tokens and log in again"})]})]})]})})})},Jh="http://localhost:3001";class vD{async apiRequest(e,t={}){return await Ut.apiRequest(e,t)}async createTask({title:e,description:t="",assignedTo:r,dueDate:a=null,priority:i="Medium"}){const c=await this.apiRequest(`${Jh}/api/tasks`,{method:"POST",body:JSON.stringify({title:e,description:t,assignedTo:r,dueDate:a,priority:i})}),d=await c.json();if(!c.ok)throw new Error(d.error||"Failed to create task");return d}async listTasks(e={}){const t=new URLSearchParams(e),r=await this.apiRequest(`${Jh}/api/tasks?${t}`),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to fetch tasks");return a}async listAssignableStaff(){const e=await this.apiRequest(`${Jh}/api/tasks/assignable/staff`),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch staff");return t}async updateStatus(e,t){const r=await this.apiRequest(`${Jh}/api/tasks/${e}/status`,{method:"PUT",body:JSON.stringify({status:t})}),a=await r.json();if(!r.ok)throw new Error(a.error||"Failed to update status");return a}async deleteTask(e){const t=await this.apiRequest(`${Jh}/api/tasks/${e}`,{method:"DELETE"}),r=await t.json();if(!t.ok)throw new Error(r.error||"Failed to delete task");return r}}const md=new vD,wD=()=>{const s=Mr(),{signOut:e}=zu(),{success:t,error:r,warning:a,info:i}=cr(),{user:c,logout:d}=Wu(),[u,f]=T.useState(null),[m,b]=T.useState(!0),[y,x]=T.useState(!1),[j,S]=T.useState("dashboard"),A=Me.lazy(()=>Bn(()=>import("./RoleMessages-DCnPtmYD.js"),__vite__mapDeps([4,3]),import.meta.url)),[k,P]=T.useState(new Date),[M,F]=T.useState(!1),[B,ae]=T.useState(0),[Y,E]=T.useState(!1),[I,$]=T.useState(!1),[R,q]=T.useState(null),[ie,K]=T.useState(new Date),[oe,Z]=T.useState({type:"sick",startDate:"",endDate:"",reason:"",isHalfDay:!1}),[se,ee]=T.useState({todayStatus:null,thisMonth:{present:22,absent:2,late:1},recentHistory:[]}),[pe,Q]=T.useState({balance:{casual:8,sick:5,annual:12},pending:[],recent:[]}),[me,O]=T.useState({currentMonth:null,recentSlips:[]}),[V,te]=T.useState([]),[he,fe]=T.useState(!1),[ve,Ce]=T.useState(""),[ue,Le]=T.useState(""),[Be,Ze]=T.useState(""),[Fe,je]=T.useState(!1),[ne,lt]=T.useState(null),[st,it]=T.useState(!1),[ze,et]=T.useState(null),qe=W=>{lt(W),je(!0)},Nt=()=>{je(!1),lt(null)},dt=W=>{const Oe={business:{name:"Freshnest",addressLines:["123 Business Street","City, State 12345"],email:"admin@freshnest.com",phone:"+1 (555) 123-4567"},invoice:{number:`SAL-${W._id.slice(-6).toUpperCase()}`,date:new Date().toLocaleDateString("en-IN"),dueDate:new Date().toLocaleDateString("en-IN")},staff:{fullName:u?.fullName||W.staffName||"Staff Member",email:u?.email||W.staffEmail||"",employeeId:u?.employeeId||"",phone:u?.phone||""},salary:{month:W.month,baseSalary:Number(W.baseSalary||0),deductions:Number(W.deductions||0),deductionReason:W.deductionReason||"",paidAmount:Number(W.paidAmount||0)},payment:{paymentId:W.paymentId||"",paymentMethod:W.paymentMethod||"direct",paidAt:W.paidAt||W.createdAt},admin:{name:"Admin User",email:"admin@freshnest.com"}};et(Oe),it(!0)},Rt=()=>{ze&&(window.open("","_blank").document.write(`
        <html>
          <head>
            <title>Salary Invoice - ${ze.staff.fullName}</title>
            <style>
              body { margin: 0; padding: 0; font-family: system-ui, sans-serif; }
              @media print { body { margin: 0; } }
            </style>
          </head>
          <body>
            <div id="invoice-root"></div>
            <script>
              // This would need React to be loaded in the print window
              // For now, we'll use a simpler approach
            <\/script>
          </body>
        </html>
      `),setTimeout(()=>{window.print()},100))},ft=W=>{try{if(!W)return;const Oe=W.month||new Date(W.paidAt||Date.now()).toISOString().slice(0,7),tt={id:W.paymentId||W._id||Date.now(),date:W.paidAt||new Date().toISOString(),customer:{name:u?.fullName||"Staff Member",email:u?.email||"",phone:u?.phone||"",address:u?.address||""},items:[{name:`Salary for ${Oe}`,quantity:1,price:Number(W.paidAmount||0)}],totalAmount:Number(W.paidAmount||0)},pt={id:W.paymentId||"-",orderId:W._id||"-",method:W.paymentMethod||"Online",status:"Paid",date:W.paidAt||new Date().toISOString()},Ct=Number(W.deductions||0)>0?`Base: ₹${Number(W.baseSalary||0).toFixed(2)} | Deduction: ₹${Number(W.deductions||0).toFixed(2)} | Reason: ${W.deductionReason||"—"}`:`Base: ₹${Number(W.baseSalary||0).toFixed(2)} | Net Paid: ₹${Number(W.paidAmount||0).toFixed(2)}`;ny.generateInvoice(tt,pt,{download:!0,note:Ct})}catch{}},ut=async()=>{try{if(!c){console.log("No authUser, skipping salary history load");return}console.log("Loading salary history for user:",c.email),fe(!0),Ze("");const W=await In.getMySalaryHistory({page:1,limit:50});console.log("Salary history data received:",W);const Oe=W?.payments||[];if(te(Oe),console.log("Salary history list set:",Oe),Oe.length>0){const tt=Oe[0];O(pt=>({...pt,currentMonth:{net:Number(tt.paidAmount||0),month:tt.month||new Date(tt.paidAt||Date.now()).toLocaleDateString()}}))}}catch(W){console.error("Error loading salary history:",W);const Oe=W?.message||"Failed to load salary history";Ze(Oe),r(Oe)}finally{fe(!1)}},_t=()=>{switch(j){case"dashboard":return"p-6 pr-[1rem]";case"jobcard":return"p-4 pr-[1rem]";case"tasks":return"p-4 pr-[1rem]";case"products":return"p-4 pr-[1rem]";case"leave":return"p-4 pr-[1rem]";case"messages":return"p-2 pr-[1rem]";case"attendance":return"p-4 pr-[1rem]";case"salary":return"p-4 pr-6";case"profile":return"p-4 pr-[1rem]";case"notifications":return"p-2 pr-[1rem]";default:return"p-6 pr-[1rem]"}},[Qe,rt]=T.useState([]),[Pt,xt]=T.useState([]),[Ge,at]=T.useState([]),[ct,Mt]=T.useState(!1),[bs,At]=T.useState([]),[ns,Dt]=T.useState([]),[Is,Os]=T.useState([]),[fs,Ot]=T.useState(!1),[ts,Qr]=T.useState({title:"",description:"",assignedTo:"",dueDate:"",priority:"Medium"}),[Jt,$r]=T.useState([]),[jn,Lt]=T.useState(!1),[kr,ms]=T.useState(!1),[as,Ps]=T.useState(null),[Ft,_e]=T.useState({name:"",sku:"",category:"",description:"",price:"",costPrice:"",stock:"",unit:"unit",brand:"",barcode:"",tags:"",status:"active",expiryDate:""}),[ht,ss]=T.useState(""),[It,Cs]=T.useState("all"),os=5,[Zt,vs]=T.useState(0),[ls,_s]=T.useState([]),[Fs,Qn]=T.useState(0),[br,zn]=T.useState([]);T.useEffect(()=>{if(!ct){vs(0),_s([]),Qn(0),zn([]);return}try{const W=Jt||[],Oe=W.filter(pt=>{const{expired:Ct,expiringSoon:cs}=jc(pt.expiryDate);return Ct||cs}),tt=W.filter(pt=>typeof pt.stock=="number"&&pt.stock<=os);vs(Oe.length),_s(Oe.slice(0,3).map(pt=>pt.name)),Qn(tt.length),zn(tt.slice(0,3).map(pt=>`${pt.name} (${pt.stock})`))}catch{}},[Jt,ct,os]),T.useEffect(()=>{const W=setInterval(()=>{P(new Date)},6e4);return()=>clearInterval(W)},[]),T.useEffect(()=>{j==="salary"&&(console.log("Salary section activated, loading history..."),ut())},[j]),T.useEffect(()=>{c&&ut()},[c]),T.useEffect(()=>{let W=!0,Oe=new Set;const tt=async()=>{try{const Ct=(await Bn(async()=>{const{default:sn}=await import("./chatService-Dmp2xPfZ.js");return{default:sn}},[],import.meta.url)).default,cs=(await Bn(async()=>{const{default:sn}=await Promise.resolve().then(()=>X1);return{default:sn}},void 0,import.meta.url)).default.getUser(),{conversations:tn}=await Ct.listConversations(),Un=Ct.computeUnread(tn,cs?._id||cs?.id);if(!W)return;ae(Un.total);for(const sn of tn||[]){const Ri=sn.lastMessage;if(Ri&&String(Ri.sender)!==String(cs?._id||cs?.id)){const ea=`${sn._id}-${Ri.at}`;Oe.has(ea)||Oe.add(ea)}}}catch{}};tt();const pt=setInterval(tt,8e3);return()=>{W=!1,clearInterval(pt)}},[]),T.useEffect(()=>(c?(async()=>{try{if(!c||c.role!=="staff"){r("Access denied. Staff access required."),s("/login");return}f(c);const Oe=String(c?.position||"").toLowerCase().includes("supervisor");if(Mt(Oe),Do.startAutoRefresh(),await Ol(c),Oe)try{const tt=await md.listAssignableStaff();At(tt.data||[]);const pt=await md.listTasks({mine:"true"});Dt(pt.data||[]);const Ct=await md.listTasks({mine:"false"});Os(Ct.data||[]),await _n()}catch(tt){console.error("Task preload error:",tt)}else try{const tt=await md.listTasks();Os(tt.data||[])}catch{}}catch(Oe){console.error("Error loading user data:",Oe),r("Failed to load dashboard data")}finally{b(!1)}})():b(!1),()=>{Do.stopAutoRefresh()}),[c,s,r]),T.useEffect(()=>{const W=()=>{const tt=so.getActiveAnnouncements("staff"),pt=so.getActiveAnnouncements("all"),Ct=[...tt,...pt].filter((cs,tn,Un)=>tn===Un.findIndex(sn=>sn.id===cs.id)).sort((cs,tn)=>{const Un={urgent:4,high:3,normal:2,low:1},sn=Un[tn.priority]-Un[cs.priority];return sn!==0?sn:new Date(tn.createdAt)-new Date(cs.createdAt)});at(Ct)};return W(),so.subscribe(()=>{W()})},[]);const Ga=async()=>{try{const W=await cn.getMyLeaves();if(W.success){const{leaves:Oe,leaveBalance:tt}=W.data,pt=Oe.filter(cs=>cs.status==="pending"),Ct=Oe.filter(cs=>cs.status!=="pending");Q({balance:tt,pending:pt,recent:Ct})}}catch(W){console.error("Error loading leave data:",W),Q({balance:{casual:12,sick:10,annual:15},pending:[],recent:[]})}},Ol=async W=>{try{ee({todayStatus:"present",thisMonth:{present:22,absent:2,late:1},recentHistory:[{date:"2024-08-05",status:"present",checkIn:"09:00",checkOut:"18:00"},{date:"2024-08-04",status:"present",checkIn:"09:15",checkOut:"18:05"},{date:"2024-08-03",status:"present",checkIn:"08:55",checkOut:"17:58"},{date:"2024-08-02",status:"late",checkIn:"09:30",checkOut:"18:30"},{date:"2024-08-01",status:"present",checkIn:"09:00",checkOut:"18:00"}]}),await Ga(),O({currentMonth:{month:"July 2024",basic:25e3,allowances:5e3,deductions:2e3,net:28e3},recentSlips:[{month:"June 2024",net:28e3,status:"paid"},{month:"May 2024",net:27500,status:"paid"},{month:"April 2024",net:28e3,status:"paid"}]}),rt([{id:1,type:"success",message:"Your leave application has been approved",time:"2 hours ago"},{id:2,type:"info",message:"Monthly salary slip is now available",time:"1 day ago"},{id:3,type:"warning",message:"Please update your profile information",time:"3 days ago"}]),xt([{date:"2024-08-05",product:"Fresh Apples",quantity:"50 kg",action:"Received"},{date:"2024-08-04",product:"Organic Bananas",quantity:"30 kg",action:"Dispatched"},{date:"2024-08-03",product:"Mixed Vegetables",quantity:"25 kg",action:"Quality Check"}])}catch(Oe){console.error("Error loading dashboard data:",Oe)}},co=()=>{console.log("🔴 Logout button clicked!"),F(!0)},Dl=async()=>{console.log("🔴 Confirm logout called!"),F(!1);try{console.log("🔴 Starting logout process..."),i("Logging out..."),Do.stopAutoRefresh(),console.log("🔴 Token auto-refresh stopped");try{await Ut.logout(),console.log("🔴 Backend logout successful")}catch(W){console.error("🔴 Backend logout error:",W)}try{await e(),console.log("🔴 Clerk signout successful")}catch(W){console.error("🔴 Clerk signout error:",W)}try{console.log("🔴 Calling authLogout..."),await d(),console.log("🔴 AuthLogout completed")}catch(W){console.error("🔴 Auth context logout error:",W)}Ut.clearAuthData(),console.log("🔴 Auth data cleared"),window.dispatchEvent(new Event("storage")),console.log("🔴 Storage event dispatched"),t("Logged out successfully! 👋"),console.log("🔴 Redirecting to login..."),window.location.replace("/freshnest-frontend/login")}catch(W){console.error("🔴 Logout error:",W),a("Logout completed with some errors"),Ut.clearAuthData(),Do.stopAutoRefresh(),window.location.replace("/freshnest-frontend/login")}},Ei=()=>{F(!1),i("Logout cancelled")},en=()=>{console.log("🔴 Simple logout called!"),Ut.clearAuthData(),Do.stopAutoRefresh();try{e()}catch(W){console.log("Clerk signout error:",W)}i("Logging out..."),setTimeout(()=>{window.location.replace("/freshnest-frontend/login")},500)},Nn=async()=>{try{ee(W=>({...W,todayStatus:"present"})),t("Attendance marked successfully!")}catch{r("Failed to mark attendance")}},Pi=()=>{E(!0),Z({type:"sick",startDate:"",endDate:"",reason:"",isHalfDay:!1})},uo=async W=>{if(W.preventDefault(),!oe.startDate||!oe.endDate||!oe.reason.trim()){r("Please fill in all required fields");return}const Oe=new Date(oe.startDate),tt=new Date(oe.endDate),pt=new Date;if(pt.setHours(0,0,0,0),Oe<pt){r("Start date cannot be in the past");return}if(tt<Oe){r("End date cannot be before start date");return}const Ct=[...pe.pending,...pe.recent];if(cn.checkDateOverlap(oe.startDate,oe.endDate,Ct)){r("You already have a leave application for overlapping dates");return}try{const cs=await cn.applyLeave({type:oe.type,startDate:oe.startDate,endDate:oe.endDate,reason:oe.reason.trim(),isHalfDay:oe.isHalfDay});cs.success&&(Q(tn=>({...tn,pending:[cs.data,...tn.pending]})),E(!1),t("Leave application submitted successfully!"),Ga())}catch(cs){r(cs.message||"Failed to submit leave application")}},Sn=(W,Oe)=>{Z(tt=>({...tt,[W]:Oe}))},Ya=W=>{q(W),$(!0)},ho=W=>new Date(W.getFullYear(),W.getMonth()+1,0).getDate(),fo=W=>new Date(W.getFullYear(),W.getMonth(),1).getDay(),mo=W=>W.toISOString().split("T")[0],ks=(W,Oe,tt)=>{const pt=new Date(W),Ct=new Date(Oe),cs=new Date(tt);return pt>=Ct&&pt<=cs},Ho=W=>{mo(W);const Oe=[...pe.pending,...pe.recent];for(const tt of Oe)if(ks(W,tt.startDate,tt.endDate))return{status:tt.status,type:tt.type,leave:tt};return null},Wo=W=>{K(Oe=>{const tt=new Date(Oe);return tt.setMonth(Oe.getMonth()+W),tt})},_n=async()=>{try{Lt(!0);const W=await Yn.list({limit:100});$r(W.data?.items||[])}catch(W){console.error("Error loading products:",W),r("Failed to load products")}finally{Lt(!1)}},Ka=async W=>{W.preventDefault();try{const Oe={...Ft,price:parseFloat(Ft.price),costPrice:parseFloat(Ft.costPrice)||0,stock:parseInt(Ft.stock),tags:Ft.tags?Ft.tags.split(",").map(tt=>tt.trim()):[]};if(as){const tt=await Yn.updateProduct(as._id,Oe);$r(pt=>pt.map(Ct=>Ct._id===as._id?tt.data:Ct)),t("Product updated successfully!")}else{const tt=await Yn.createProduct(Oe);$r(pt=>[tt.data,...pt]),t("Product created successfully!")}ms(!1),Ps(null),_e({name:"",sku:"",category:"",description:"",price:"",costPrice:"",stock:"",unit:"unit",brand:"",barcode:"",tags:"",status:"active",expiryDate:""})}catch(Oe){r(Oe.message||"Failed to save product")}},hn=W=>{Ps(W),_e({name:W.name||"",sku:W.sku||"",category:W.category||"",description:W.description||"",price:W.price?.toString()||"",costPrice:W.costPrice?.toString()||"",stock:W.stock?.toString()||"",unit:W.unit||"unit",brand:W.brand||"",barcode:W.barcode||"",tags:W.tags?.join(", ")||"",status:W.status||"active",expiryDate:W.expiryDate?new Date(W.expiryDate).toISOString().split("T")[0]:""}),ms(!0)},Ti=async W=>{if(window.confirm("Are you sure you want to delete this product?"))try{await Yn.deleteProduct(W),$r(Oe=>Oe.filter(tt=>tt._id!==W)),t("Product deleted successfully!")}catch(Oe){r(Oe.message||"Failed to delete product")}},ws=W=>{try{const{expired:Oe,expiringSoon:tt}=jc(W.expiryDate),pt=typeof W.stock=="number"&&W.stock<=os,Ct=[];pt&&Ct.push(`low stock (${W.stock} ${W.unit||""})`),Oe?Ct.push("expired"):tt&&Ct.push("expiring soon");const cs=Ct.join(" and "),tn=`Attention: ${W.name} ${cs?`- ${cs}`:""}`.trim(),Un=[`Product: ${W.name}${W.sku?` (SKU: ${W.sku})`:""}`,`Current stock: ${W.stock??"N/A"} ${W.unit||""}`,W.expiryDate?`Expiry date: ${new Date(W.expiryDate).toLocaleDateString()}`:"Expiry date: N/A","","Action requested: Review and remove/discount expired or near-expiry stock. Replenish low stock as needed."];S("tasks"),Ot(!0),Qr(sn=>({...sn,title:tn,description:Un.join(`
`)}))}catch{}},Xa=Jt.filter(W=>{const Oe=W.name.toLowerCase().includes(ht.toLowerCase())||W.sku.toLowerCase().includes(ht.toLowerCase())||W.category.toLowerCase().includes(ht.toLowerCase()),{expired:tt,expiringSoon:pt,within30:Ct}=jc(W.expiryDate),cs=It==="all"||It==="low-stock"&&W.stock<10||It==="active"&&W.status==="active"||It==="inactive"&&W.status==="inactive"||It==="expired"&&W.expiryDate&&(tt||pt||Ct);return Oe&&cs}),Mi=[{id:"dashboard",label:"Dashboard",icon:mp},{id:"attendance",label:"Attendance",icon:_i},{id:"leave",label:"Leave Management",icon:ua},{id:"jobcard",label:"Job Card",icon:Sd},{id:"salary",label:"Salary Slips",icon:Fn},{id:"stock",label:"Stock Activity",icon:wn},{id:"messages",label:"Messages",icon:Cc,badge:B?String(B):null},{id:"notifications",label:"Notifications",icon:Ac,badge:Zt+Fs>0?String(Zt+Fs):null},{id:"profile",label:"My Profile",icon:Kn}];if(ct&&(Mi.splice(3,0,{id:"tasks",label:"Task Management",icon:xv}),Mi.splice(4,0,{id:"products",label:"Product Management",icon:wn})),m)return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})});const Vo=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("div",{children:n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"})})}),n.jsx("div",{className:"bg-white rounded-xl border border-gray-200",children:n.jsx("div",{className:"p-4 lg:p-6",children:n.jsxs("div",{className:"space-y-4",children:[Zt>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2","aria-hidden":!0}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:[Zt," product",Zt>1?"s":""," expiring within 5 days"]}),ls.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[ls.join(", "),Zt>ls.length?` and ${Zt-ls.length} more`:""]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Updated from inventory"})]})]}),j==="salary"&&n.jsxs("div",{className:"space-y-6",children:[console.log("Rendering salary section:",{loadingSalary:he,salaryError:Be,salaryHistory:V.length}),n.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Salary Slips"}),n.jsx("p",{className:"text-sm text-gray-500",children:"View your salary details by month and year"})]}),n.jsx(Fn,{className:"w-6 h-6 text-emerald-600"})]}),Be&&n.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-50 border border-red-200 text-sm text-red-700",children:Be}),n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-blue-50 border border-blue-200 text-sm",children:[n.jsx("div",{className:"font-medium text-blue-800 mb-2",children:"Debug Info:"}),n.jsxs("div",{className:"text-blue-700",children:[n.jsxs("div",{children:["Loading: ",he?"Yes":"No"]}),n.jsxs("div",{children:["Error: ",Be||"None"]}),n.jsxs("div",{children:["History Count: ",V.length]}),n.jsxs("div",{children:["Auth User: ",c?c.email:"None"]}),n.jsxs("div",{children:["Active Section: ",j]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[n.jsxs("div",{className:"flex items-center bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-2.5",children:[n.jsx("span",{className:"text-sm font-medium text-emerald-700 mr-3",children:"Month"}),n.jsx("input",{type:"month",value:ve,onChange:W=>Ce(W.target.value),className:"flex-1 bg-transparent outline-none text-gray-800"})]}),n.jsxs("div",{className:"flex items-center bg-blue-50 border border-blue-200 rounded-xl px-4 py-2.5",children:[n.jsx("span",{className:"text-sm font-medium text-blue-700 mr-3",children:"Year"}),n.jsx("input",{type:"number",min:"2000",max:"2100",value:ue,onChange:W=>Le(W.target.value),placeholder:"e.g. 2025",className:"flex-1 bg-transparent outline-none text-gray-800"})]}),n.jsx("div",{className:"flex items-center",children:n.jsx("button",{onClick:ut,className:"w-full px-4 py-2.5 bg-gray-900 text-white rounded-xl font-semibold hover:bg-gray-800",children:"Refresh"})})]}),n.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-xl",children:n.jsxs("table",{className:"min-w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Month"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Base"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Deductions"}),n.jsx("th",{className:"text-right text-xs font-semibold text-gray-500 px-4 py-3",children:"Net Paid"}),n.jsx("th",{className:"text-left text-xs font-semibold text-gray-500 px-4 py-3",children:"Reason"}),n.jsx("th",{className:"text-center text-xs font-semibold text-gray-500 px-4 py-3",children:"Actions"})]})}),n.jsx("tbody",{children:he?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"Loading salary slips..."})}):(()=>{const W=V.filter(Oe=>{const tt=ve?String(Oe.month||"").startsWith(ve):!0,pt=ue?String(Oe.month||"").startsWith(`${ue}-`):!0;return tt&&pt});return W.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:V.length===0?"No salary records found. Contact HR if you believe this is an error.":"No salary slips found for the selected filters"})}):W.map(Oe=>{const tt=Number(Oe.deductions||0)>0?"text-red-700":"text-gray-900";return n.jsxs("tr",{className:"border-t border-gray-100",children:[n.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:Oe.month}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-blue-700",children:["₹",Number(Oe.baseSalary||0).toLocaleString()]}),n.jsxs("td",{className:`px-4 py-3 text-right font-semibold ${tt}`,children:["₹",Number(Oe.deductions||0).toLocaleString()]}),n.jsxs("td",{className:"px-4 py-3 text-right font-semibold text-emerald-700",children:["₹",Number(Oe.paidAmount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:Oe.deductionReason||"—"}),n.jsxs("td",{className:"px-4 py-3 text-center space-x-2",children:[n.jsxs("button",{onClick:()=>qe(Oe),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:[n.jsx(Du,{className:"w-4 h-4 mr-1"}),"View"]}),n.jsxs("button",{onClick:()=>dt(Oe),className:"inline-flex items-center px-3 py-1.5 border border-emerald-300 rounded-lg text-sm font-medium text-emerald-700 hover:bg-emerald-50",children:[n.jsx(Sd,{className:"w-4 h-4 mr-1"}),"Invoice"]}),n.jsxs("button",{onClick:()=>ft(Oe),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50",children:[n.jsx(no,{className:"w-4 h-4 mr-1"})," Download"]})]})]},Oe._id)})})()})]})})]}),Fe&&ne&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:Nt}),n.jsxs("div",{className:"relative bg-white w-full max-w-2xl mx-4 rounded-2xl shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Salary Slip"}),n.jsxs("p",{className:"text-sm text-gray-500",children:[ne.month," • Paid on ",new Date(ne.paidAt||ne.createdAt||Date.now()).toLocaleDateString()]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[ne.staffName||u?.fullName||"Staff"," • ",ne.staffEmail||u?.email||""]})]}),n.jsx("button",{onClick:Nt,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:n.jsx(Jr,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"px-6 py-5",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Month"}),n.jsx("p",{className:"font-semibold text-gray-900",children:ne.month})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Method"}),n.jsx("p",{className:"font-semibold text-gray-900",children:(ne.paymentMethod||"direct").toUpperCase()})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Base Salary"}),n.jsxs("p",{className:"font-bold text-blue-700",children:["₹",Number(ne.baseSalary||0).toLocaleString()]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Deductions"}),n.jsxs("p",{className:`font-bold ${Number(ne.deductions||0)>0?"text-red-700":"text-gray-900"}`,children:["₹",Number(ne.deductions||0).toLocaleString()]})]})]}),n.jsx("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-200 mb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm font-medium text-emerald-700",children:"Net Pay"}),n.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["₹",Number(ne.paidAmount||0).toLocaleString()]})]})}),ne.deductionReason&&n.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Deduction Reason"}),n.jsx("p",{className:"text-sm text-gray-800",children:ne.deductionReason})]})]}),n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-xs text-gray-500",children:["Payment ID: ",ne.paymentId||"-"]}),n.jsxs("div",{className:"space-x-2",children:[n.jsx("button",{onClick:()=>ft(ne),className:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50",children:"Download PDF"}),n.jsx("button",{onClick:Nt,className:"px-3 py-2 text-sm rounded-lg bg-gray-900 text-white hover:bg-gray-800",children:"Close"})]})]})]})]})]}),Fs>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2","aria-hidden":!0}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm lg:text-base",children:[Fs," product",Fs>1?"s":""," low on stock (≤",os,")"]}),br.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[br.join(", "),Fs>br.length?` and ${Fs-br.length} more`:""]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Calculated from inventory"})]})]}),Zt===0&&Fs===0&&n.jsx("div",{className:"flex items-center justify-center py-10 text-center",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-900 font-medium",children:"No notifications right now"}),n.jsx("p",{className:"text-sm text-gray-500",children:"You're all caught up. Inventory looks good."})]})})]})})})]});return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[n.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-xl transform ${y?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0`,children:[n.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-lg flex items-center justify-center",children:n.jsx(C8,{className:"w-5 h-5 text-white"})}),n.jsx("span",{className:"text-xl font-bold text-gray-900",children:"FreshNest"})]}),n.jsx("button",{onClick:()=>x(!1),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:n.jsx(Jr,{className:"w-5 h-5"})})]}),n.jsx("nav",{className:"mt-6 px-3",children:Mi.map(W=>{const Oe=W.icon;return n.jsxs("button",{onClick:()=>{S(W.id),x(!1)},className:`w-full flex items-center px-3 py-3 mb-1 text-left rounded-lg transition-colors ${j===W.id?"bg-emerald-50 text-emerald-700 border-r-2 border-emerald-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[n.jsx(Oe,{className:"w-5 h-5 mr-3"}),n.jsx("span",{className:"font-medium",children:W.label})]},W.id)})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200",children:n.jsxs("button",{onClick:co,className:"w-full flex items-center px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[n.jsx(Iu,{className:"w-5 h-5 mr-3"}),n.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),n.jsxs("div",{className:"flex-1 lg:ml-0",children:[n.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between h-16",children:[n.jsxs("div",{className:"flex items-center space-x-4 px-6",children:[n.jsx("button",{onClick:()=>x(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:n.jsx(pp,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:Mi.find(W=>W.id===j)?.label||"Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:k.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:en,className:"px-3 py-1 text-xs bg-red-100 text-red-600 rounded hover:bg-red-200",children:"Test Logout"}),n.jsxs("button",{onClick:()=>S("messages"),className:"relative p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",title:"Messages",children:[n.jsx(Cc,{className:"w-5 h-5"}),B>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] rounded-full px-1.5 py-0.5 leading-none",children:B})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:u?.fullName}),n.jsx("p",{className:"text-xs text-gray-500",children:u?.employeeId})]}),n.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:n.jsx(Kn,{className:"w-5 h-5 text-emerald-600"})})]})]})}),n.jsxs("main",{className:`${_t()}`,children:[j==="dashboard"&&n.jsxs("div",{className:"space-y-6",children:[ct&&n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"space-y-3",children:[Zt>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2","aria-hidden":!0}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[Zt," product",Zt>1?"s":""," expiring within 5 days"]}),ls.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[ls.join(", "),Zt>ls.length?` and ${Zt-ls.length} more`:""]})]})]}),Fs>0&&n.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-amber-50 rounded-lg",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mt-2","aria-hidden":!0}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[Fs," product",Fs>1?"s":""," low on stock (≤",os,")"]}),br.length>0&&n.jsxs("p",{className:"text-sm text-gray-600",children:[br.join(", "),Fs>br.length?` and ${Fs-br.length} more`:""]})]})]}),Zt===0&&Fs===0&&n.jsx("div",{className:"text-sm text-gray-500",children:"No inventory alerts right now"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 rounded-2xl p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Welcome back, ",u?.fullName,"! 👋"]}),n.jsxs("p",{className:"text-emerald-100 mb-4",children:[k.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," • ",k.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Kn,{className:"w-4 h-4"}),n.jsxs("span",{children:["Employee ID: ",u?.employeeId]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(zf,{className:"w-4 h-4"}),n.jsxs("span",{children:["Role: ",u?.role]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(jN,{className:"w-4 h-4"}),n.jsxs("span",{children:["Position: ",u?.position||"Staff"]})]})]})]}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm text-emerald-100",children:"Today's Status"}),n.jsx("div",{className:"flex items-center space-x-2 mt-1",children:se.todayStatus==="present"?n.jsxs(n.Fragment,{children:[n.jsx(Vu,{className:"w-5 h-5 text-green-300"}),n.jsx("span",{className:"font-semibold",children:"Present"})]}):n.jsxs(n.Fragment,{children:[n.jsx(_i,{className:"w-5 h-5 text-yellow-300"}),n.jsx("span",{className:"font-semibold",children:"Not Marked"})]})})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsxs("button",{onClick:Nn,disabled:se.todayStatus==="present",className:`p-6 rounded-xl border-2 border-dashed transition-all ${se.todayStatus==="present"?"border-green-200 bg-green-50 text-green-600 cursor-not-allowed":"border-emerald-200 bg-white hover:border-emerald-400 hover:bg-emerald-50 text-emerald-600"}`,children:[n.jsx(_i,{className:"w-8 h-8 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold mb-1",children:se.todayStatus==="present"?"Attendance Marked":"Mark Attendance"}),n.jsx("p",{className:"text-sm opacity-75",children:se.todayStatus==="present"?"You are present today":"Click to mark present"})]}),n.jsxs("button",{onClick:()=>S("leave"),className:"p-6 rounded-xl border-2 border-dashed border-blue-200 bg-white hover:border-blue-400 hover:bg-blue-50 text-blue-600 transition-all",children:[n.jsx(ua,{className:"w-8 h-8 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold mb-1",children:"Apply Leave"}),n.jsx("p",{className:"text-sm opacity-75",children:"Request time off"})]}),n.jsxs("button",{onClick:()=>S("salary"),className:"p-6 rounded-xl border-2 border-dashed border-purple-200 bg-white hover:border-purple-400 hover:bg-purple-50 text-purple-600 transition-all",children:[n.jsx(Fn,{className:"w-8 h-8 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold mb-1",children:"Salary Slips"}),n.jsx("p",{className:"text-sm opacity-75",children:"View pay details"})]}),n.jsxs("button",{onClick:()=>S("profile"),className:"p-6 rounded-xl border-2 border-dashed border-orange-200 bg-white hover:border-orange-400 hover:bg-orange-50 text-orange-600 transition-all",children:[n.jsx(Kn,{className:"w-8 h-8 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold mb-1",children:"My Profile"}),n.jsx("p",{className:"text-sm opacity-75",children:"Update details"})]}),n.jsxs("button",{onClick:()=>S("jobcard"),className:"p-6 rounded-xl border-2 border-dashed border-teal-200 bg-white hover:border-teal-400 hover:bg-teal-50 text-teal-600 transition-all",children:[n.jsx(Sd,{className:"w-8 h-8 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold mb-1",children:"Job Card"}),n.jsx("p",{className:"text-sm opacity-75",children:"View assigned tasks"})]}),ct&&n.jsxs("button",{onClick:()=>S("tasks"),className:"p-6 rounded-xl border-2 border-dashed border-emerald-200 bg-white hover:border-emerald-400 hover:bg-emerald-50 text-emerald-600 transition-all",children:[n.jsx(xv,{className:"w-8 h-8 mx-auto mb-3"}),n.jsx("h3",{className:"font-semibold mb-1",children:"Assign Tasks"}),n.jsx("p",{className:"text-sm opacity-75",children:"Supervisor only"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"This Month"}),n.jsx(kc,{className:"w-5 h-5 text-emerald-600"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Present"}),n.jsxs("span",{className:"font-semibold text-green-600",children:[se.thisMonth.present," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Absent"}),n.jsxs("span",{className:"font-semibold text-red-600",children:[se.thisMonth.absent," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Late"}),n.jsxs("span",{className:"font-semibold text-yellow-600",children:[se.thisMonth.late," days"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Leave Balance"}),n.jsx(ua,{className:"w-5 h-5 text-blue-600"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Casual"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:[pe.balance.casual," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sick"}),n.jsxs("span",{className:"font-semibold text-green-600",children:[pe.balance.sick," days"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Annual"}),n.jsxs("span",{className:"font-semibold text-purple-600",children:[pe.balance.annual," days"]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Current Salary"}),n.jsx(Fn,{className:"w-5 h-5 text-green-600"})]}),me.currentMonth&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Net Pay"}),n.jsxs("span",{className:"font-bold text-green-600",children:["₹",me.currentMonth.net.toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Month"}),n.jsx("span",{className:"font-semibold text-gray-900",children:me.currentMonth.month})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Attendance"}),n.jsx("button",{onClick:()=>S("attendance"),className:"text-emerald-600 hover:text-emerald-700 text-sm font-medium",children:"View All"})]}),n.jsx("div",{className:"space-y-3",children:se.recentHistory.slice(0,5).map((W,Oe)=>n.jsxs("div",{className:"flex items-center justify-between py-2",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${W.status==="present"?"bg-green-500":W.status==="late"?"bg-yellow-500":"bg-red-500"}`}),n.jsx("span",{className:"text-gray-900",children:W.date})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm font-medium capitalize text-gray-900",children:W.status}),n.jsxs("p",{className:"text-xs text-gray-500",children:[W.checkIn," - ",W.checkOut]})]})]},Oe))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Announcements & Notifications"}),n.jsx("button",{onClick:()=>S("notifications"),className:"text-emerald-600 hover:text-emerald-700 text-sm font-medium",children:"View All"})]}),n.jsxs("div",{className:"space-y-3",children:[Ge.slice(0,2).map(W=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border border-gray-200 bg-gradient-to-r from-blue-50 to-emerald-50",children:[n.jsx("div",{className:`w-3 h-3 rounded-full mt-1.5 ${W.priority==="urgent"?"bg-red-500":W.priority==="high"?"bg-orange-500":W.priority==="normal"?"bg-blue-500":"bg-gray-500"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:W.title}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${W.type==="success"?"bg-green-100 text-green-700":W.type==="warning"?"bg-yellow-100 text-yellow-700":W.type==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:W.type})]}),n.jsxs("p",{className:"text-xs text-gray-700 mb-1",children:[W.content.substring(0,100),"..."]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsxs("span",{children:["By ",W.createdBy]}),n.jsx("span",{children:"•"}),n.jsx("span",{children:new Date(W.createdAt).toLocaleDateString()}),W.expiresAt&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsxs("span",{children:["Expires: ",new Date(W.expiresAt).toLocaleDateString()]})]})]})]})]},`announcement-${W.id}`)),Qe.slice(0,Ge.length>0?2:4).map(W=>n.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg bg-gray-50",children:[n.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${W.type==="success"?"bg-green-500":W.type==="warning"?"bg-yellow-500":"bg-blue-500"}`}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-gray-900",children:W.message}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:W.time})]})]},W.id)),Ge.length===0&&Qe.length===0&&n.jsx("div",{className:"text-center py-4",children:n.jsx("p",{className:"text-sm text-gray-500",children:"No announcements or notifications"})})]})]})]})]}),j==="jobcard"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Job Card"}),n.jsx("p",{className:"text-gray-600",children:"Tasks assigned to you"})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"space-y-3",children:[Is.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No tasks assigned to you."}),Is.map(W=>n.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:W.title}),n.jsxs("p",{className:"text-xs text-gray-500",children:["From: ",W.assignedBy?.fullName," • Due: ",W.dueDate?new Date(W.dueDate).toLocaleDateString():"—"]}),n.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full inline-block mt-1 ${W.priority==="High"?"bg-red-100 text-red-700":W.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:["Priority: ",W.priority||"Medium"]})]}),n.jsxs("select",{value:W.status,onChange:async Oe=>{try{const tt=await md.updateStatus(W._id,Oe.target.value);Os(pt=>pt.map(Ct=>Ct._id===W._id?tt.data:Ct)),Dt(pt=>pt.map(Ct=>Ct._id===W._id?tt.data:Ct))}catch{}},className:"text-xs border border-gray-300 rounded px-2 py-1",children:[n.jsx("option",{children:"Pending"}),n.jsx("option",{children:"In Progress"}),n.jsx("option",{children:"Completed"})]})]}),W.description&&n.jsx("p",{className:"text-sm text-gray-700 mt-2",children:W.description})]},W._id))]})})]}),j==="notifications"&&n.jsx("div",{className:"space-y-6",children:Vo()}),j==="products"&&ct&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),n.jsx("p",{className:"text-gray-600",children:"Manage company products, inventory, and pricing"})]}),n.jsxs("button",{onClick:()=>{Ps(null),_e({name:"",sku:"",category:"",description:"",price:"",costPrice:"",stock:"",unit:"unit",brand:"",barcode:"",tags:"",status:"active",expiryDate:""}),ms(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[n.jsx(yf,{className:"w-4 h-4"}),n.jsx("span",{children:"Add Product"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Jt.length})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(wn,{className:"w-6 h-6 text-blue-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Products"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:Jt.filter(W=>W.status==="active").length})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(Nd,{className:"w-6 h-6 text-green-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:Jt.filter(W=>W.stock<10).length})]}),n.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Dn,{className:"w-6 h-6 text-red-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Expired/Expiring"}),n.jsx("p",{className:"text-2xl font-bold text-orange-600",children:Jt.filter(W=>{const{expired:Oe,expiringSoon:tt,within30:pt}=jc(W.expiryDate);return Oe||tt||pt}).length})]}),n.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(Dn,{className:"w-6 h-6 text-orange-600"})})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Value"}),n.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["₹",Jt.reduce((W,Oe)=>W+Oe.price*Oe.stock,0).toLocaleString()]})]}),n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(Fn,{className:"w-6 h-6 text-purple-600"})})]})})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Search products by name, SKU, or category...",value:ht,onChange:W=>ss(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:It,onChange:W=>Cs(W.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"all",children:"All Products"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"}),n.jsx("option",{value:"low-stock",children:"Low Stock"}),n.jsx("option",{value:"expired",children:"Expired/Expiring"})]}),n.jsxs("button",{onClick:_n,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors flex items-center space-x-2",children:[n.jsx(Wa,{className:"w-4 h-4"}),n.jsx("span",{children:"Refresh"})]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Details"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU & Category"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pricing"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiry Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:jn?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),n.jsx("span",{className:"ml-2 text-gray-600",children:"Loading products..."})]})})}):Xa.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(wn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No products found"}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:ht||It!=="all"?"Try adjusting your search or filter criteria":"Add your first product to get started"})]})})}):Xa.map(W=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-100 to-teal-100 rounded-lg flex items-center justify-center mr-4",children:n.jsx(L8,{className:"w-6 h-6 text-emerald-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.name}),W.brand&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Brand: ",W.brand]}),W.description&&n.jsx("div",{className:"text-xs text-gray-400 mt-1 max-w-xs truncate",children:W.description})]})]})}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900 font-mono",children:W.sku}),n.jsx("div",{className:"text-sm text-gray-500",children:W.category}),W.barcode&&n.jsxs("div",{className:"text-xs text-gray-400",children:["Barcode: ",W.barcode]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["₹",W.price?.toLocaleString()]}),W.costPrice>0&&n.jsxs("div",{className:"text-sm text-gray-500",children:["Cost: ₹",W.costPrice?.toLocaleString()]}),n.jsxs("div",{className:"text-xs text-gray-400",children:["per ",W.unit]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsxs("div",{className:`text-sm font-medium ${W.stock<10?"text-red-600":W.stock<50?"text-yellow-600":"text-green-600"}`,children:[W.stock," ",W.unit]}),W.stock<10&&n.jsx(Dn,{className:"w-4 h-4 text-red-500 ml-2"})]}),n.jsxs("div",{className:"text-xs text-gray-400",children:["Value: ₹",(W.price*W.stock).toLocaleString()]})]}),n.jsx("td",{className:"px-6 py-4",children:W.expiryDate?n.jsx("div",{className:"flex items-center",children:(()=>{const{expired:Oe,expiringSoon:tt,within30:pt,daysLeft:Ct}=jc(W.expiryDate),cs=Oe||tt?"text-red-600":pt?"text-yellow-600":"text-green-600";return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`text-sm font-medium ${cs}`,children:new Date(W.expiryDate).toLocaleDateString()}),Oe&&n.jsx(Dn,{className:"w-4 h-4 text-red-500 ml-2"}),!Oe&&tt&&n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"w-4 h-4 text-red-500 ml-2"}),n.jsx("span",{className:"ml-2 text-[10px] px-1.5 py-0.5 rounded-full bg-red-100 text-red-700 border border-red-200",children:Ct<=0?"Expires today":"Expiring soon"})]}),!Oe&&pt&&n.jsx(Dn,{className:"w-4 h-4 text-yellow-500 ml-2"})]})})()}):n.jsx("div",{className:"text-sm text-gray-400",children:"No expiry"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${W.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.status})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[(()=>{const{expired:Oe,expiringSoon:tt}=jc(W.expiryDate),pt=typeof W.stock=="number"&&W.stock<=os;return Oe||tt||pt})()&&n.jsx("button",{onClick:()=>ws(W),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Inform via Task",children:n.jsx(vd,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>hn(W),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit Product",children:n.jsx(NN,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>Ti(W._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Product",children:n.jsx(c1,{className:"w-4 h-4"})})]})})]},W._id))})]})})})]}),j==="tasks"&&ct&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Task Management"}),n.jsx("p",{className:"text-gray-600",children:"Assign tasks to staff and track progress"})]}),n.jsxs("button",{onClick:()=>Ot(!0),className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[n.jsx(vd,{className:"w-4 h-4"}),n.jsx("span",{children:"Assign Task"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Tasks I Assigned"}),n.jsxs("div",{className:"space-y-3",children:[ns.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No tasks assigned yet."}),ns.map(W=>n.jsx("div",{className:"p-3 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:W.title}),n.jsxs("p",{className:"text-xs text-gray-500",children:["To: ",W.assignedTo?.fullName," • Due: ",W.dueDate?new Date(W.dueDate).toLocaleDateString():"—"]}),n.jsxs("div",{className:"mt-1 space-x-2",children:[n.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${W.priority==="High"?"bg-red-100 text-red-700":W.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:["Priority: ",W.priority||"Medium"]}),n.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full ${W.status==="Completed"?"bg-green-100 text-green-700":W.status==="In Progress"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:["Status: ",W.status]})]})]}),n.jsx("div",{})]})},W._id))]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Tasks Assigned To Me"}),n.jsxs("div",{className:"space-y-3",children:[Is.length===0&&n.jsx("p",{className:"text-sm text-gray-500",children:"No tasks assigned to you."}),Is.map(W=>n.jsx("div",{className:"p-3 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:W.title}),n.jsxs("p",{className:"text-xs text-gray-500",children:["From: ",W.assignedBy?.fullName," • Due: ",W.dueDate?new Date(W.dueDate).toLocaleDateString():"—"]}),n.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full inline-block mt-1 ${W.priority==="High"?"bg-red-100 text-red-700":W.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:["Priority: ",W.priority||"Medium"]})]}),n.jsxs("select",{value:W.status,onChange:async Oe=>{try{const tt=await md.updateStatus(W._id,Oe.target.value);Os(pt=>pt.map(Ct=>Ct._id===W._id?tt.data:Ct)),Dt(pt=>pt.map(Ct=>Ct._id===W._id?tt.data:Ct))}catch{}},className:"text-xs border border-gray-300 rounded px-2 py-1",children:[n.jsx("option",{children:"Pending"}),n.jsx("option",{children:"In Progress"}),n.jsx("option",{children:"Completed"})]})]})},W._id))]})]})]})]}),j==="leave"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Leave Management"}),n.jsx("p",{className:"text-gray-600",children:"Apply for leave and track your applications"})]}),n.jsxs("button",{onClick:Pi,className:"flex items-center space-x-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors",children:[n.jsx(ua,{className:"w-4 h-4"}),n.jsx("span",{children:"Apply Leave"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Casual Leave"}),n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(E8,{className:"w-5 h-5 text-blue-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:pe.balance.casual}),n.jsx("p",{className:"text-sm text-gray-600",children:"days remaining"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Sick Leave"}),n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(wN,{className:"w-5 h-5 text-red-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:pe.balance.sick}),n.jsx("p",{className:"text-sm text-gray-600",children:"days remaining"})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Annual Leave"}),n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(F8,{className:"w-5 h-5 text-purple-600"})})]}),n.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:pe.balance.annual}),n.jsx("p",{className:"text-sm text-gray-600",children:"days remaining"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Leave Calendar"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>Wo(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(hv,{className:"w-4 h-4 rotate-180"})}),n.jsx("span",{className:"font-medium text-gray-900 min-w-[120px] text-center",children:ie.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),n.jsx("button",{onClick:()=>Wo(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(hv,{className:"w-4 h-4"})})]})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(W=>n.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500",children:W},W))}),n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:fo(ie)},(W,Oe)=>n.jsx("div",{className:"p-2 h-10"},`empty-${Oe}`)),Array.from({length:ho(ie)},(W,Oe)=>{const tt=Oe+1,pt=new Date(ie.getFullYear(),ie.getMonth(),tt),Ct=Ho(pt),cs=mo(pt)===mo(new Date);return n.jsxs("div",{className:`p-2 h-10 flex items-center justify-center text-sm rounded-lg cursor-pointer transition-colors ${cs?"bg-emerald-100 text-emerald-700 font-semibold":Ct?Ct.status==="approved"?"bg-green-100 text-green-700":Ct.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700":"hover:bg-gray-100"}`,onClick:()=>Ct&&Ya(Ct.leave),children:[tt,Ct&&n.jsx("div",{className:`w-2 h-2 rounded-full ml-1 ${Ct.status==="approved"?"bg-green-500":Ct.status==="pending"?"bg-yellow-500":"bg-red-500"}`})]},tt)})]}),n.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Pending"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Approved"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),n.jsx("span",{className:"text-xs text-gray-600",children:"Rejected"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-6",children:"Recent Applications"}),n.jsxs("div",{className:"space-y-4",children:[pe.pending.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Pending"}),pe.pending.map(W=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Ya(W),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900",children:cn.getLeaveTypeLabel(W.type)}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${cn.getStatusColor(W.status)}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)})]}),n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:cn.formatDateRange(W.startDate,W.endDate)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Applied on ",new Date(W.appliedOn||W.createdAt).toLocaleDateString()]})]},W._id))]}),pe.recent.length>0&&n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Recent"}),pe.recent.slice(0,3).map(W=>n.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>Ya(W),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"font-medium text-gray-900",children:cn.getLeaveTypeLabel(W.type)}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${cn.getStatusColor(W.status)}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)})]}),n.jsx("div",{className:"text-sm text-gray-600 mb-1",children:cn.formatDateRange(W.startDate,W.endDate)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Applied on ",new Date(W.appliedOn||W.createdAt).toLocaleDateString()]})]},W._id))]}),pe.pending.length===0&&pe.recent.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(ua,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"No leave applications yet"}),n.jsx("button",{onClick:Pi,className:"mt-2 text-emerald-600 hover:text-emerald-700 font-medium",children:"Apply for your first leave"})]})]})]})]})]}),j==="messages"&&n.jsx("div",{className:"p-4",children:n.jsx(Me.Suspense,{fallback:n.jsx("div",{className:"p-6",children:"Loading messages..."}),children:n.jsx(A,{})})})]})]}),y&&n.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>x(!1)}),Y&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Apply Leave"}),n.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:uo,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Leave Type"}),n.jsxs("select",{value:oe.type,onChange:W=>Sn("type",W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"sick",children:"Sick Leave"}),n.jsx("option",{value:"casual",children:"Casual Leave"}),n.jsx("option",{value:"annual",children:"Annual Leave"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),n.jsx("input",{type:"date",value:oe.startDate,onChange:W=>Sn("startDate",W.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),n.jsx("input",{type:"date",value:oe.endDate,onChange:W=>Sn("endDate",W.target.value),min:oe.startDate||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason For Leave"}),n.jsx("textarea",{value:oe.reason,onChange:W=>Sn("reason",W.target.value),placeholder:"Please provide a reason for your leave application...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none",required:!0})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"halfDay",checked:oe.isHalfDay,onChange:W=>Sn("isHalfDay",W.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),n.jsx("label",{htmlFor:"halfDay",className:"text-sm font-medium text-gray-700",children:"Is Half Day Leave?"})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>E(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg font-medium transition-colors",children:"Apply"})]})]})]})})}),fs&&ct&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Assign Task"}),n.jsx("button",{onClick:()=>Ot(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:async W=>{if(W.preventDefault(),!(!ts.title.trim()||!ts.assignedTo))try{const Oe=await md.createTask(ts);Dt(tt=>[Oe.data,...tt]),Ot(!1),Qr({title:"",description:"",assignedTo:"",dueDate:"",priority:"Medium"}),t("Task assigned")}catch(Oe){r(Oe.message||"Failed to assign task")}},className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),n.jsx("input",{type:"text",value:ts.title,onChange:W=>Qr(Oe=>({...Oe,title:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:ts.description,onChange:W=>Qr(Oe=>({...Oe,description:W.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To"}),n.jsxs("select",{value:ts.assignedTo,onChange:W=>Qr(Oe=>({...Oe,assignedTo:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0,children:[n.jsx("option",{value:"",children:"Select staff member"}),bs.map(W=>n.jsxs("option",{value:W._id,children:[W.fullName," — ",W.position||"Staff"]},W._id))]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),n.jsx("input",{type:"date",value:ts.dueDate,onChange:W=>Qr(Oe=>({...Oe,dueDate:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),n.jsxs("select",{value:ts.priority,onChange:W=>Qr(Oe=>({...Oe,priority:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"Low",children:"Low"}),n.jsx("option",{value:"Medium",children:"Medium"}),n.jsx("option",{value:"High",children:"High"})]})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>Ot(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg font-medium transition-colors",children:"Assign"})]})]})]})})}),I&&R&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:cn.getLeaveTypeLabel(R.type)}),n.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${cn.getStatusColor(R.status)}`,children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Start Date"}),n.jsx("span",{className:"font-medium text-gray-900",children:new Date(R.startDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"End Date"}),n.jsx("span",{className:"font-medium text-gray-900",children:new Date(R.endDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Half Day"}),n.jsx("span",{className:"font-medium text-gray-900",children:R.isHalfDay?"Yes":"No"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block mb-2",children:"Reason"}),n.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg text-sm",children:R.reason})]}),n.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[n.jsx("span",{className:"text-gray-600",children:"Applied on"}),n.jsx("span",{className:"font-medium text-gray-900",children:new Date(R.appliedOn||R.createdAt).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[R.status==="pending"&&n.jsx("button",{onClick:async()=>{try{(await cn.cancelLeave(R._id)).success&&(Q(Oe=>({...Oe,pending:Oe.pending.filter(tt=>tt._id!==R._id)})),$(!1),t("Leave application cancelled successfully"),Ga())}catch(W){r(W.message||"Failed to cancel leave application")}},className:"flex-1 px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>$(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Close"})]})]})]})})}),kr&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:n.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:as?"Edit Product":"Add New Product"}),n.jsx("button",{onClick:()=>{ms(!1),Ps(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Jr,{className:"w-5 h-5 text-gray-500"})})]}),n.jsxs("form",{onSubmit:Ka,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),n.jsx("input",{type:"text",value:Ft.name,onChange:W=>_e(Oe=>({...Oe,name:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),n.jsx("input",{type:"text",value:Ft.sku,onChange:W=>_e(Oe=>({...Oe,sku:W.target.value.toUpperCase()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 font-mono",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),n.jsx("input",{type:"text",value:Ft.category,onChange:W=>_e(Oe=>({...Oe,category:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),n.jsx("input",{type:"text",value:Ft.brand,onChange:W=>_e(Oe=>({...Oe,brand:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),n.jsx("textarea",{value:Ft.description,onChange:W=>_e(Oe=>({...Oe,description:W.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 resize-none"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Price *"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:Ft.price,onChange:W=>_e(Oe=>({...Oe,price:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost Price"}),n.jsx("input",{type:"number",step:"0.01",min:"0",value:Ft.costPrice,onChange:W=>_e(Oe=>({...Oe,costPrice:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit *"}),n.jsxs("select",{value:Ft.unit,onChange:W=>_e(Oe=>({...Oe,unit:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"unit",children:"Unit"}),n.jsx("option",{value:"kg",children:"Kilogram"}),n.jsx("option",{value:"g",children:"Gram"}),n.jsx("option",{value:"lb",children:"Pound"}),n.jsx("option",{value:"litre",children:"Litre"}),n.jsx("option",{value:"ml",children:"Milliliter"}),n.jsx("option",{value:"pack",children:"Pack"}),n.jsx("option",{value:"box",children:"Box"}),n.jsx("option",{value:"dozen",children:"Dozen"}),n.jsx("option",{value:"bundle",children:"Bundle"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),n.jsx("input",{type:"number",min:"0",value:Ft.stock,onChange:W=>_e(Oe=>({...Oe,stock:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:Ft.status,onChange:W=>_e(Oe=>({...Oe,status:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode"}),n.jsx("input",{type:"text",value:Ft.barcode,onChange:W=>_e(Oe=>({...Oe,barcode:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),n.jsx("input",{type:"date",value:Ft.expiryDate,onChange:W=>_e(Oe=>({...Oe,expiryDate:W.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),n.jsx("input",{type:"text",value:Ft.tags,onChange:W=>_e(Oe=>({...Oe,tags:W.target.value})),placeholder:"e.g., organic, premium, seasonal",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"})]}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>{ms(!1),Ps(null)},className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 text-white bg-emerald-600 hover:bg-emerald-700 rounded-lg font-medium transition-colors",children:as?"Update Product":"Create Product"})]})]})]})})}),M&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:n.jsx("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Iu,{className:"w-8 h-8 text-red-600"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Confirm Logout"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to logout? You'll need to sign in again to access your dashboard."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:Ei,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:Dl,className:"flex-1 px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded-lg font-medium transition-colors",children:"Yes, Logout"})]})]})})}),st&&ze&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Salary Invoice"}),n.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:ze.staff.fullName}),n.jsx("p",{className:"text-emerald-200 text-xs",children:ze.salary.month})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:Rt,className:"inline-flex items-center px-4 py-2 bg-white/20 hover:bg-white/30 text-white font-semibold rounded-xl transition-colors",children:[n.jsx(no,{className:"w-4 h-4 mr-2"}),"Print / Save PDF"]}),n.jsx("button",{onClick:()=>{it(!1),et(null)},className:"text-white/80 hover:text-white p-1 rounded-lg hover:bg-white/10 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:n.jsx(ay,{...ze})})]})})]})},jD=Me.lazy(()=>Bn(()=>import("./SupplierOrders-CbNbf4l-.js"),__vite__mapDeps([5,1]),import.meta.url)),ND=Me.lazy(()=>Bn(()=>import("./SupplierDeliveries-CftkCeWb.js"),__vite__mapDeps([6,1]),import.meta.url)),SD=Me.lazy(()=>Bn(()=>import("./RoleMessages-DCnPtmYD.js"),__vite__mapDeps([4,3]),import.meta.url)),_D=()=>{const s=Mr(),{signOut:e}=zu(),{user:t,logout:r}=Wu(),{success:a,error:i,info:c}=cr(),[d,u]=T.useState(!0),[f,m]=T.useState(!1),[b,y]=T.useState("overview"),[x,j]=T.useState(null),[S,A]=T.useState(0),[k,P]=T.useState({pendingOrders:0,totalDeliveries:0,onTimeRate:0,totalEarnings:0,rating:0}),M=()=>{switch(b){case"overview":return"col-span-12 lg:col-span-9 space-y-6 pr-[1rem] pl-[1rem]";case"orders":return"col-span-12 lg:col-span-9 space-y-6 pr-[2rem] pl-[1rem]";case"deliveries":return"col-span-12 lg:col-span-9 space-y-6 pr-[2rem] pl-[1rem]";case"messages":return"col-span-12 lg:col-span-9 space-y-6 pr-[2rem] pl-[1rem]";case"performance":return"col-span-12 lg:col-span-9 space-y-6 pr-[2rem] pl-[1rem]";case"profile":return"col-span-12 lg:col-span-9 space-y-6 pr-[2rem] pl-[1rem]";default:return"col-span-12 lg:col-span-9 space-y-6 pr-[2rem] pl-[1rem]"}};T.useEffect(()=>((async()=>{try{if(!t||t.role!=="supplier"&&t.role!=="Supplier"){i("Access denied. Supplier access required."),s("/login");return}Do.startAutoRefresh(),j(t);try{const E=await Ut.getProfile();E&&j({...t,...E})}catch(E){console.log("Could not refresh supplier from backend:",E?.message)}P(E=>({...E,pendingOrders:4,totalDeliveries:132,onTimeRate:96,totalEarnings:42850,rating:x?.supplierDetails?.rating??4.6})),u(!1)}catch(E){console.error("Supplier dashboard init error:",E),i("Failed to load dashboard"),u(!1)}})(),()=>Do.stopAutoRefresh()),[t,s,i,x?.supplierDetails?.rating]),T.useEffect(()=>{let Y=!1;const E=async()=>{try{if(!t||t.role!=="supplier"&&t.role!=="Supplier")return;const q=(await(await Bn(async()=>{const{default:ie}=await Promise.resolve().then(()=>YE);return{default:ie}},void 0,import.meta.url)).default.publicList({page:1,limit:50,lowStock:5,my:!0}))?.data?.items||[];if(!Y&&q.length>0){const ie=q.slice(0,5).map(Z=>Z.name).join(", "),K=q.length>5?` and ${q.length-5} more`:"",oe=`Low stock alert: ${q.length} item(s) need restock (e.g., ${ie}${K}).`;try{c(oe,{duration:6e3})}catch{console.log(oe)}}}catch{}};E();const I=setInterval(E,60*1e3);return()=>{Y=!0,clearInterval(I)}},[t,c]),T.useEffect(()=>{let Y=!0,E=new Set;const I=async()=>{try{const R=(await Bn(async()=>{const{default:oe}=await import("./chatService-Dmp2xPfZ.js");return{default:oe}},[],import.meta.url)).default,q=(await Bn(async()=>{const{default:oe}=await Promise.resolve().then(()=>X1);return{default:oe}},void 0,import.meta.url)).default.getUser(),{conversations:ie}=await R.listConversations(),K=R.computeUnread(ie,q?._id||q?.id);if(!Y)return;A(K.total);for(const oe of ie||[]){const Z=oe.lastMessage;if(Z&&String(Z.sender)!==String(q?._id||q?.id)){const se=`${oe._id}-${Z.at}`;E.has(se)||E.add(se)}}}catch{}};I();const $=setInterval(I,8e3);return()=>{Y=!1,clearInterval($)}},[]);const F=Y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Y||0),B=async()=>{try{c("Logging out..."),Do.stopAutoRefresh();try{await r()}catch{}try{await e()}catch{}window.location.replace("/freshnest-frontend/login")}catch{window.location.replace("/freshnest-frontend/login")}};if(d)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-14 h-14 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-slate-600",children:"Loading supplier dashboard..."})]})});const ae=x?.supplierDetails||{};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-20",children:n.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{className:"lg:hidden p-2 rounded-lg hover:bg-slate-100",onClick:()=>m(!f),children:f?n.jsx(Jr,{className:"w-5 h-5"}):n.jsx(pp,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("span",{className:"text-xl font-black text-emerald-700",children:"Fresh"}),n.jsx("span",{className:"text-xl font-black text-slate-900",children:"Nest"}),n.jsx("span",{className:"ml-3 px-2 py-0.5 rounded-full text-xs bg-emerald-100 text-emerald-700",children:"Supplier"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>y("messages"),className:"relative p-2 rounded-lg hover:bg-slate-100",title:"Messages",children:[n.jsx(Cc,{className:"w-5 h-5"}),S>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-[10px] rounded-full px-1.5 py-0.5 leading-none",children:S})]}),n.jsx("button",{className:"p-2 rounded-lg hover:bg-slate-100",children:n.jsx(Wa,{className:"w-5 h-5"})}),n.jsxs("button",{onClick:B,className:"flex items-center gap-2 bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700",children:[n.jsx(Iu,{className:"w-4 h-4"})," Logout"]})]})]})}),n.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6 grid grid-cols-12 gap-6",children:[n.jsx("aside",{className:`col-span-12 lg:col-span-3 ${f?"":"hidden lg:block"}`,children:n.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-slate-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-full bg-emerald-100 flex items-center justify-center",children:n.jsx(Kn,{className:"w-7 h-7 text-emerald-700"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-900 font-semibold",children:x?.fullName||x?.name}),n.jsx("div",{className:"text-slate-500 text-sm",children:ae?.category||"Supplier"})]})]})}),n.jsx("nav",{className:"p-2",children:[{id:"overview",label:"Overview",icon:n.jsx(mp,{className:"w-4 h-4"})},{id:"orders",label:"Orders",icon:n.jsx(fv,{className:"w-4 h-4"})},{id:"deliveries",label:"Deliveries",icon:n.jsx(Cd,{className:"w-4 h-4"})},{id:"messages",label:"Messages",icon:n.jsx(Cc,{className:"w-4 h-4"})},{id:"performance",label:"Performance",icon:n.jsx(_d,{className:"w-4 h-4"})},{id:"profile",label:"Profile",icon:n.jsx(l1,{className:"w-4 h-4"})}].map(Y=>n.jsxs("button",{onClick:()=>y(Y.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-left hover:bg-slate-50 ${b===Y.id?"bg-emerald-50 text-emerald-700":"text-slate-700"}`,children:[Y.icon,n.jsx("span",{className:"font-medium",children:Y.label})]},Y.id))}),n.jsxs("div",{className:"p-4 border-t border-slate-200",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Contact"}),n.jsxs("div",{className:"mt-2 space-y-2 text-sm text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Mc,{className:"w-4 h-4 text-slate-400"}),x?.email]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Uf,{className:"w-4 h-4 text-slate-400"}),x?.phone||"N/A"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zf,{className:"w-4 h-4 text-slate-400"}),x?.address||"No address"]})]})]})]})}),n.jsxs("main",{className:`${M()}`,children:[b==="overview"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl p-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-500 text-sm",children:"Pending Orders"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:k.pendingOrders})]}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 text-amber-700 flex items-center justify-center",children:n.jsx(fv,{})})]})}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl p-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-500 text-sm",children:"Total Deliveries"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:k.totalDeliveries})]}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 text-blue-700 flex items-center justify-center",children:n.jsx(Cd,{})})]})}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl p-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-500 text-sm",children:"On-time Rate"}),n.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[k.onTimeRate,"%"]})]}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 text-emerald-700 flex items-center justify-center",children:n.jsx(jN,{})})]})}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl p-5",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-500 text-sm",children:"Total Earnings"}),n.jsx("div",{className:"text-2xl font-bold text-slate-900",children:F(k.totalEarnings)})]}),n.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 text-purple-700 flex items-center justify-center",children:n.jsx(Fn,{})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"xl:col-span-2 bg-white border border-slate-200 rounded-2xl p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Recent Orders"}),n.jsx("button",{onClick:()=>y("orders"),className:"text-sm text-emerald-700 hover:underline",children:"View all"})]}),n.jsx("div",{className:"text-slate-500 text-sm",children:"No orders to display yet."})]}),n.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-3",children:"Profile Summary"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(Kn,{className:"w-4 h-4 text-slate-400"})," Contact: ",ae.contactPerson||"—"]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(wn,{className:"w-4 h-4 text-slate-400"})," Category: ",ae.category||"—"]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(ua,{className:"w-4 h-4 text-slate-400"})," Payment Terms: ",ae.paymentTerms||"Net 30"]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(W0,{className:"w-4 h-4 text-yellow-500"})," Rating: ",(ae.rating??k.rating)||0]})]})]})]})]}),b==="orders"&&n.jsx("div",{className:"bg-transparent",children:n.jsx(Me.Suspense,{fallback:n.jsx("div",{className:"p-6",children:"Loading orders..."}),children:n.jsx(jD,{})})}),b==="deliveries"&&n.jsx("div",{className:"bg-transparent",children:n.jsx(Me.Suspense,{fallback:n.jsx("div",{className:"p-6",children:"Loading deliveries..."}),children:n.jsx(ND,{})})}),b==="messages"&&n.jsx("div",{className:"bg-transparent",children:n.jsx(Me.Suspense,{fallback:n.jsx("div",{className:"p-6",children:"Loading messages..."}),children:n.jsx(SD,{})})}),b==="performance"&&n.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Performance"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-emerald-700",children:"On-time Deliveries"}),n.jsxs("div",{className:"text-2xl font-bold text-emerald-800 mt-1",children:[k.onTimeRate,"%"]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-blue-700",children:"Completed Deliveries"}),n.jsx("div",{className:"text-2xl font-bold text-blue-800 mt-1",children:k.totalDeliveries})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 rounded-xl p-4",children:[n.jsx("div",{className:"text-sm text-yellow-700",children:"Rating"}),n.jsx("div",{className:"text-2xl font-bold text-yellow-800 mt-1",children:(ae.rating??k.rating)||0})]})]})]}),b==="profile"&&n.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-6 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Supplier Profile"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Full Name"}),n.jsx("div",{className:"text-slate-900 font-medium",children:x?.fullName||x?.name})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Email"}),n.jsx("div",{className:"text-slate-900 font-medium",children:x?.email})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Phone"}),n.jsx("div",{className:"text-slate-900 font-medium",children:x?.phone||"—"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Address"}),n.jsx("div",{className:"text-slate-900 font-medium",children:x?.address||"—"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Category"}),n.jsx("div",{className:"text-slate-900 font-medium",children:ae?.category||"Other"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Payment Terms"}),n.jsx("div",{className:"text-slate-900 font-medium",children:ae?.paymentTerms||"Net 30"})]})]}),ae?.notes&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-500",children:"Notes"}),n.jsx("div",{className:"text-slate-900",children:ae.notes})]})]})]})]})]})};function kD({iconLabel:s,active:e,onClick:t}){return n.jsxs("button",{onClick:t,className:`flex items-center justify-center gap-2 p-4 rounded-xl border transition-all w-full
        ${e?"border-emerald-600 bg-emerald-50 text-emerald-900":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[n.jsx("span",{className:"text-xl","aria-hidden":!0,children:s.split(" ")[0]}),n.jsx("span",{className:"font-medium",children:s})]})}function AD({name:s,brand:e,price:t,unit:r}){return n.jsx("div",{className:"rounded-xl border border-gray-200 p-4 bg-white",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-900 font-semibold",children:s}),n.jsx("p",{className:"text-gray-500 text-sm",children:e})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-gray-900 font-semibold",children:["$",Number(t||0).toFixed(2)]}),n.jsxs("p",{className:"text-gray-500 text-xs",children:["per ",r||"pack"]})]})]})})}function CD({category:s}){if(!s)return null;const e=df(s);return e.length?n.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:e.map(t=>n.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700 border border-gray-200",children:t},t))}):null}function LD(){const[s,e]=T.useState(""),[t,r]=T.useState(!1),[a,i]=T.useState([]);T.useEffect(()=>{(async()=>{if(!s)return i([]);try{r(!0);const u=await Yn.list({page:1,limit:100,status:"active",category:s});i(u.data.items||[])}catch(u){console.error("Failed to load products:",u),i([])}finally{r(!1)}})()},[s]);const c=T.useMemo(()=>!!s,[s]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select a Category"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:iy.map(d=>n.jsx(kD,{iconLabel:d.label,active:s===d.value,onClick:()=>e(d.value)},d.value))})]}),c&&n.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Products - ",s]}),n.jsx(CD,{category:s})]}),t&&n.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}),a.length===0&&!t?n.jsx("div",{className:"text-center text-gray-500 py-8",children:"No products in this category yet."}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(d=>n.jsx(AD,{name:d.name,brand:d.brand,price:d.price,unit:d.unit},d._id))})]})]})}const _a="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-colors",ED=()=>{const[s,e]=T.useState({companyName:"",supplierType:"company",contactPerson:"",email:"",phone:"",address:"",gstNumber:"",tradeLicenseNo:"",bankAccountNumber:"",bankNameIfsc:"",identityProofType:"",identityProofUrl:"",productCategory:"",deliveryCapability:"",previousClients:"",declarationAccepted:!1}),[t,r]=T.useState(!1),[a,i]=T.useState(!1),c=u=>{const{name:f,value:m,type:b,checked:y}=u.target;e(x=>({...x,[f]:b==="checkbox"?y:m}))},d=async u=>{u.preventDefault(),r(!0);try{if(!(await fetch("http://localhost:3001/api/supplier-applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed");i(!0)}catch{alert("Submission failed. Please try again later.")}finally{r(!1)}};return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-2xl text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-emerald-700",children:"Thank you!"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Your Supplier Onboarding form has been submitted."})]})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:n.jsxs("form",{onSubmit:d,className:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-3xl space-y-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Supplier Onboarding Form"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Supplier Details"}),n.jsx("input",{className:_a,name:"companyName",placeholder:"Company/Business Name",value:s.companyName,onChange:c,required:!0}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"supplierType",value:"individual",checked:s.supplierType==="individual",onChange:c})," Individual"]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"radio",name:"supplierType",value:"company",checked:s.supplierType==="company",onChange:c})," Company"]})]}),n.jsx("input",{className:_a,name:"contactPerson",placeholder:"Contact Person Name",value:s.contactPerson,onChange:c,required:!0}),n.jsx("input",{className:_a,type:"email",name:"email",placeholder:"Email Address",value:s.email,onChange:c,required:!0}),n.jsx("input",{className:_a,name:"phone",placeholder:"Phone Number",value:s.phone,onChange:c,required:!0}),n.jsx("textarea",{className:_a,name:"address",placeholder:"Business Address",rows:3,value:s.address,onChange:c,required:!0})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Business Information"}),n.jsx("input",{className:_a,name:"gstNumber",placeholder:"GST Registration Number",value:s.gstNumber,onChange:c}),n.jsx("input",{className:_a,name:"tradeLicenseNo",placeholder:"Business License/Trade License No.",value:s.tradeLicenseNo,onChange:c}),n.jsx("input",{className:_a,name:"bankAccountNumber",placeholder:"Bank Account Number",value:s.bankAccountNumber,onChange:c}),n.jsx("input",{className:_a,name:"bankNameIfsc",placeholder:"Bank Name & IFSC Code",value:s.bankNameIfsc,onChange:c})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Identity Proof (Paste link or upload to drive and paste link)"}),n.jsxs("select",{className:_a,name:"identityProofType",value:s.identityProofType,onChange:c,children:[n.jsx("option",{value:"",children:"Select proof type"}),n.jsx("option",{children:"Aadhar Card"}),n.jsx("option",{children:"PAN Card"}),n.jsx("option",{children:"Passport"}),n.jsx("option",{children:"Voter ID"}),n.jsx("option",{children:"Driving License"}),n.jsx("option",{children:"GST Certificate"}),n.jsx("option",{children:"Business License"})]}),n.jsx("input",{className:_a,name:"identityProofUrl",placeholder:"Identity Proof Link (URL)",value:s.identityProofUrl,onChange:c})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Product/Service Details"}),n.jsx("input",{className:_a,name:"productCategory",placeholder:"Category of Products/Services Supplied",value:s.productCategory,onChange:c}),n.jsx("input",{className:_a,name:"deliveryCapability",placeholder:"Delivery Capability (Daily/Weekly/Monthly)",value:s.deliveryCapability,onChange:c}),n.jsx("textarea",{className:_a,name:"previousClients",placeholder:"Previous Clients/References (if any)",rows:2,value:s.previousClients,onChange:c})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("input",{type:"checkbox",name:"declarationAccepted",checked:s.declarationAccepted,onChange:c,className:"mt-1"}),n.jsx("p",{className:"text-sm text-gray-700",children:"I hereby declare that the information provided above is true and correct to the best of my knowledge."})]}),n.jsx("button",{disabled:t||!s.declarationAccepted,className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 disabled:opacity-60",children:t?"Submitting...":"Submit Application"})]})})};function PD({business:s,invoice:e,billTo:t,payTo:r,items:a,taxPercent:i=0}){const c=a.reduce((f,m)=>f+m.unitPrice*m.qty,0),d=Math.round(c*i*100)/100,u=Math.round((c+d)*100)/100;return n.jsxs("div",{className:"w-full max-w-3xl mx-auto bg-white text-gray-800 p-8 print:p-12 shadow-sm print:shadow-none print:bg-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"h-px bg-gray-300 w-48 mb-6"}),n.jsx("h1",{className:"tracking-[0.4em] text-3xl font-light",children:"INVOICE"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"INVOICE NO:"}),n.jsx("div",{className:"text-sm font-medium",children:e.number}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["DATE: ",n.jsx("span",{className:"text-gray-700",children:e.date})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["DUE DATE: ",n.jsx("span",{className:"text-gray-700",children:e.dueDate})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8 mt-16",children:[n.jsxs("div",{children:[n.jsx("div",{className:"uppercase text-xs tracking-widest text-gray-500 font-semibold",children:"Issued to:"}),n.jsxs("div",{className:"mt-3 text-sm",children:[n.jsx("div",{className:"font-medium",children:t.name}),t.company&&n.jsx("div",{children:t.company}),t.addressLines?.map((f,m)=>n.jsx("div",{children:f},m))]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"uppercase text-xs tracking-widest text-gray-500 font-semibold",children:"Pay to:"}),n.jsxs("div",{className:"mt-3 text-sm",children:[n.jsx("div",{className:"font-medium",children:r.bankName}),n.jsxs("div",{children:["Account Name: ",r.accountName]}),n.jsxs("div",{children:["Account No.: ",r.accountNo]})]})]})]}),n.jsxs("div",{className:"mt-12",children:[n.jsxs("div",{className:"grid grid-cols-12 text-xs font-semibold uppercase tracking-widest text-gray-500 border-b border-gray-200 pb-2",children:[n.jsx("div",{className:"col-span-6",children:"Description"}),n.jsx("div",{className:"col-span-2 text-right",children:"Unit Price"}),n.jsx("div",{className:"col-span-2 text-right",children:"Qty"}),n.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),a.map((f,m)=>{const b=f.unitPrice*f.qty;return n.jsxs("div",{className:"grid grid-cols-12 text-sm py-3 border-b border-gray-100",children:[n.jsx("div",{className:"col-span-6",children:f.description}),n.jsxs("div",{className:"col-span-2 text-right",children:["$",f.unitPrice.toFixed(2)]}),n.jsx("div",{className:"col-span-2 text-right",children:f.qty}),n.jsxs("div",{className:"col-span-2 text-right",children:["$",b.toFixed(2)]})]},m)})]}),n.jsxs("div",{className:"mt-8 ml-auto w-64 text-sm",children:[n.jsxs("div",{className:"flex justify-between py-1",children:[n.jsx("div",{className:"text-gray-600",children:"Subtotal"}),n.jsxs("div",{className:"font-medium",children:["$",c.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between py-1",children:[n.jsx("div",{className:"text-gray-600",children:"Tax"}),n.jsxs("div",{className:"font-medium",children:[i,"%"]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-t mt-2",children:[n.jsx("div",{className:"font-semibold tracking-wide",children:"Total"}),n.jsxs("div",{className:"font-semibold",children:["$",u.toFixed(2)]})]})]}),n.jsx("div",{className:"mt-16 flex items-end justify-end",children:n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:s?.name}),s?.email&&n.jsx("div",{className:"text-xs text-gray-400",children:s.email}),s?.phone&&n.jsx("div",{className:"text-xs text-gray-400",children:s.phone})]})})]})}function TD(){const s=T.useRef(null),e={business:{name:"Freshnest",addressLines:["123 Anywhere St., Any City"],email:"billing@freshnest.app",phone:"+1 (555) 010-2000"},invoice:{number:"01234",date:"11.02.2030",dueDate:"11.03.2030"},billTo:{name:"Richard Sanchez",company:"Thynk Unlimited",addressLines:["123 Anywhere St., Any City"]},payTo:{bankName:"Borcele Bank",accountName:"Adeline Palmerston",accountNo:"0123 4567 8901"},items:[{description:"Brand consultation",unitPrice:100,qty:1},{description:"Logo design",unitPrice:100,qty:1},{description:"Website design",unitPrice:100,qty:1},{description:"Social media templates",unitPrice:100,qty:1},{description:"Brand photography",unitPrice:100,qty:1},{description:"Brand guide",unitPrice:100,qty:1}],taxPercent:10},t=()=>{window.print()};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-10",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",children:"Invoice Preview"}),n.jsx("div",{className:"space-x-2",children:n.jsx("button",{onClick:t,className:"btn-responsive border border-gray-300 rounded-md px-4 py-2 bg-white hover:bg-gray-50",children:"Print / Save PDF"})})]}),n.jsx("div",{ref:s,className:"bg-white",children:n.jsx(PD,{...e})})]})})}function MD(){const s=T.useRef(null),e={business:{name:"Freshnest",addressLines:["123 Business Street","City, State 12345"],email:"admin@freshnest.com",phone:"+1 (555) 123-4567"},invoice:{number:"SAL-ABC123",date:"24/09/2025",dueDate:"24/09/2025"},staff:{fullName:"John Smith",email:"john.smith@company.com",employeeId:"EMP001",phone:"+1 (555) 987-6543"},salary:{month:"2025-09",baseSalary:5e4,deductions:2500,deductionReason:"Late arrival penalty for 5 days",paidAmount:47500},payment:{paymentId:"pay_1234567890abcdef",paymentMethod:"razorpay",paidAt:"2025-09-24T10:30:00Z"},admin:{name:"Admin User",email:"admin@freshnest.com"}},t=()=>{window.print()};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-10",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Salary Invoice Preview"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Professional salary invoice for Freshnest staff payments"})]}),n.jsx("div",{className:"space-x-2",children:n.jsx("button",{onClick:t,className:"btn-responsive border border-gray-300 rounded-md px-4 py-2 bg-white hover:bg-gray-50",children:"Print / Save PDF"})})]}),n.jsx("div",{ref:s,className:"bg-white rounded-lg shadow-sm",children:n.jsx(ay,{...e})}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Features:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Professional layout with Freshnest branding"}),n.jsx("li",{children:"• Complete staff and salary details"}),n.jsx("li",{children:"• Deduction tracking with reasons"}),n.jsx("li",{children:"• Payment method and transaction ID"}),n.jsx("li",{children:"• Admin processing information"}),n.jsx("li",{children:"• Print-friendly design"})]})]})]})})}function RD(){return n.jsxs("div",{children:[n.jsx(G8,{}),n.jsx(Y8,{}),n.jsx(X8,{}),n.jsx(J8,{}),n.jsx(rC,{}),n.jsx(Z8,{})]})}function OD(){return n.jsx(y8,{children:n.jsx(V8,{children:n.jsx(o8,{basename:"/freshnest-frontend",children:n.jsx(mD,{children:n.jsxs(IA,{children:[n.jsx($s,{path:"/",element:n.jsx(RD,{})}),n.jsx($s,{path:"/login",element:n.jsx(tC,{})}),n.jsx($s,{path:"/signup",element:n.jsx(sC,{})}),n.jsx($s,{path:"/retailer-signup",element:n.jsx(nC,{})}),n.jsx($s,{path:"/otp-verification",element:n.jsx(oD,{})}),n.jsx($s,{path:"/forgot-password",element:n.jsx(KO,{})}),n.jsx($s,{path:"/reset-password",element:n.jsx(JO,{})}),n.jsx($s,{path:"/auth-handler",element:n.jsx(lD,{})}),n.jsx($s,{path:"/clerk-test",element:n.jsx(cD,{})}),n.jsx($s,{path:"/google-diagnostic",element:n.jsx(dD,{})}),n.jsx($s,{path:"/clerk-diagnostic",element:n.jsx(uD,{})}),n.jsx($s,{path:"/clerk-test-page",element:n.jsx(hD,{})}),n.jsx($s,{path:"/sign-out",element:n.jsx(fD,{})}),n.jsx($s,{path:"/google-role-selection",element:n.jsx(gD,{})}),n.jsx($s,{path:"/validation-test",element:n.jsx(xD,{})}),n.jsx($s,{path:"/test-staff-api",element:n.jsx(yD,{})}),n.jsx($s,{path:"/token-debug",element:n.jsx(bD,{})}),n.jsx($s,{path:"/products/select",element:n.jsx(LD,{})}),n.jsx($s,{path:"/supplier-onboarding",element:n.jsx(ED,{})}),n.jsx($s,{path:"/invoice/preview",element:n.jsx(TD,{})}),n.jsx($s,{path:"/salary-invoice/preview",element:n.jsx(MD,{})}),n.jsx($s,{path:"/dashboard",element:n.jsx(xu,{children:n.jsx($O,{})})}),n.jsx($s,{path:"/admin/dashboard",element:n.jsx(xu,{requiredRoles:["admin","Admin"],children:n.jsx(FO,{})})}),n.jsx($s,{path:"/user/dashboard",element:n.jsx(xu,{requiredRoles:["user","User"],children:n.jsx(VO,{})})}),n.jsx($s,{path:"/retailer/dashboard",element:n.jsx(xu,{requiredRoles:["retailer","Retailer"],children:n.jsx(iD,{})})}),n.jsx($s,{path:"/staff/dashboard",element:n.jsx(xu,{requiredRoles:["staff","Staff"],children:n.jsx(wD,{})})}),n.jsx($s,{path:"/supplier/dashboard",element:n.jsx(xu,{requiredRoles:["supplier","Supplier"],children:n.jsx(_D,{})})}),n.jsx($s,{path:"/admin/test",element:n.jsx(GO,{})})]})})})})})}const DD=async()=>{try{console.log("🔴 Quick sign-out initiated..."),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),console.log("✅ Cleared localStorage"),window.Clerk&&(await window.Clerk.signOut(),console.log("✅ Signed out from Clerk")),window.location.href="/login",console.log("✅ Quick sign-out completed")}catch(s){console.error("❌ Error during quick sign-out:",s)}};typeof window<"u"&&(window.quickSignOut=DD);console.log("🔧 Quick sign-out utility loaded. Run quickSignOut() in console to sign out immediately.");const ID="pk_test_cmVzb2x2ZWQtZW11LTQwLmNsZXJrLmFjY291bnRzLmRldiQ";t6.createRoot(document.getElementById("root")).render(n.jsx(Me.StrictMode,{children:n.jsx(sN,{publishableKey:ID,afterSignOutUrl:"/",children:n.jsx(OD,{})})}));export{Rs as A,xf as F,Ys as _,Nd as a,c1 as b,Cd as c,Wu as d,Cc as e,Sc as f,Rc as g,_N as h,vd as i,n as j,qa as k,Ut as l,df as m,yf as n,Vu as o,Jr as p,Yn as q,T as r,In as s,FD as t,cr as u,dj as v};
